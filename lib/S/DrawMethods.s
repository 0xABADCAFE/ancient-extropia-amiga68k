
; Storm C Compiler
; extropialib:lib/Platforms/Amiga68k/GraphicsLib/DrawMethods.cpp
	mc68030
	mc68881
	XREF	_0dt__DRAWLIST__T
	XREF	ExecuteBuffer__VGPU__sP08DCOMMANDP07DVERTEXjj
	XREF	Delete__xTEXFONT__T
	XREF	_0ct__xTEXSURF__T
	XREF	Delete__xTEXSURF__T
	XREF	ReadBody__xTEXSURF__TR05XSFIO
	XREF	WriteBody__xTEXSURF__TR05XSFIO
	XREF	ReadyForRead__xTEXSURF__T
	XREF	ReadyForWrite__xTEXSURF__T
	XREF	_0ct__XSFOBJ__T
	XREF	Set__XSFHEAD__TPCcUcUcUcUc
	XREF	op__equal__XSFHEAD__TR05XSFIO
	XREF	op__equal__XSFHEAD__TR07XSFHEAD
	XREF	op__notEqual__XSFHEAD__TR07XSFHEAD
	XREF	Value__XDATAID__TPCc
	XREF	Refresh__xDBSCREEN__T
	XREF	Close__xDBSCREEN__T
	XREF	Open__xDBSCREEN__T
	XREF	Close__xSCREEN__T
	XREF	Open__xSCREEN__T
	XREF	Set__xSCREEN__TP06xDMODEPCc
	XREF	Close__xDBWIN__T
	XREF	Open__xDBWIN__T
	XREF	Set__xDBWIN__TsssssPCc
	XREF	MoveEvent__xDISPLAYIO__T
	XREF	ResizeEvent__xDISPLAYIO__T
	XREF	Idle__xDISPLAYIO__T
	XREF	HandleEvent__xDISPLAYIO__T
	XREF	ApplyInputModification__xDISPLAYIO__T
	XREF	ViewSurface__xDISPLAY__T
	XREF	DrawSurface__xDISPLAY__T
	XREF	Refresh__xDISPLAY__T
	XREF	Close__xDISPLAY__T
	XREF	Open__xDISPLAY__T
	XREF	_0dt__LOCK__T
	XREF	_0dt__THREAD__T
	XREF	Run__THREAD__T
	XREF	_0dt__DELAY__T
	XREF	_0ct__DELAY__T
	XREF	Pause__DELAY__TUj
	XREF	Pause__DELAY__TUjUj
	XREF	Abort__DELAY__T
	XREF	UnLink__xCHAINABLE__T
	XREF	Close__xFILEIO__T
	XREF	Flush__xFILEIO__T
	XREF	Write64Swap__xFILEIO__TPvUi
	XREF	Write32Swap__xFILEIO__TPvUi
	XREF	Write16Swap__xFILEIO__TPvUi
	XREF	Write__xFILEIO__TPvUiUi
	XREF	Read64Swap__xFILEIO__TPvUi
	XREF	Read32Swap__xFILEIO__TPvUi
	XREF	Read16Swap__xFILEIO__TPvUi
	XREF	Read__xFILEIO__TPvUiUi
	XREF	Tell__xFILEIO__T
	XREF	Seek__xFILEIO__Tjj
	XREF	Open__xFILEIO__TPCcjj
	XREF	SendPacket__xFILEIO__TPv
	XREF	WaitPacket__xFILEIO__T
	XREF	InputQueued__xINPUT__T
	XREF	Idle__xINPUT__T
	XREF	ExitEvent__xINPUT__T
	XREF	MouseEvent__xINPUT__Tjjj
	XREF	ApplyInputModification__xINPUT__T
	XREF	_0dt__xKEY__T
	XREF	_0ct__xKEY__T
	XREF	KeyEvent__xKEY__Tjsj
	XREF	_0dt__xSURFACE__T
	XREF	_0dt__POOL_ST__T
	XREF	_0ct__POOL_ST__TUsUj
	XREF	FreeT__POOL_ST__TPv
	XREF	NewT__POOL_ST__TPvUs
	XREF	NewT__POOL_ST__TPv
	XREF	Create__POOL_ST__TUsUj
	XREF	_0dt__POOL_LT__T
	XREF	DrawSurface__x3D__P08xSURFACE
	XREF	v3DrawLineStrip__x3D__jj
	XREF	v3DrawLines__x3D__jj
	XREF	_W3D_DrawArray
	XREF	_W3D_BindTexture
	XREF	_system
	XREF	_std__in
	XREF	_std__out
	XREF	_std__err
	XREF	_st
	XREF	_gxSt
	XREF	_numStartArgs__xBASELIB
	XREF	_startArgs__xBASELIB
	XREF	_SysBase
	XREF	_IntuitionBase
	XREF	_TimerBase
	XREF	_DOSBase
	XREF	_PowerPCBase
	XREF	_sysData__sysBASELIB
	XREF	_msgbuff__sysBASELIB
	XREF	_main__sysBASELIB
	XREF	_allocated__MEM
	XREF	_totSize__MEM
	XREF	_nextFree__MEM
	XREF	_cnt__MEM
	XREF	_maxAllocs__MEM
	XREF	_fpuPrecision__CPU
	XREF	_cpuNames__CPU
	XREF	_GfxBase
	XREF	_CyberGfxBase
	XREF	_surfaceTypes__x2D
	XREF	_Warp3DBase
	XREF	_hw3D__sys3DDEVICE
	XREF	_context__sys3DDEVICE
	XREF	_drawRegion__x3D
	XREF	_fogData__x3D
	XREF	_flags__x3D
	XREF	_vertices__x3D
	XREF	_currTex__x3D
	XREF	_drawSurface__x3D
	XREF	_currCol__x3D
	XREF	_useV4__x3D
	XREF	_flags__xGFX
	XREF	_mode__xGFX
	XREF	_numModes__xGFX
	XREF	_rPool__xSURFACE
	XREF	_KeymapBase
	XREF	_useCount__xKEY
	XREF	_TimerBase__MILLICLOCK
	XREF	_current__MILLICLOCK
	XREF	_clockFreq__MILLICLOCK
	XREF	_threadCnt__THREAD
	XREF	_threadsIdle__THREAD
	XREF	_rootThread__THREAD
	XREF	_sigXSF__XSFHEAD
	XREF	_fileMarker__XSFOBJ
	XREF	_DiskfontBase
	XREF	_flags__DRAW
	XREF	_stack__VGPU
	XREF	_stackPos__VGPU
	XREF	_vertexBase__VGPU
	XREF	_vertexTop__VGPU
	XREF	_dataPos__VGPU
	XREF	_instPos__VGPU
	XREF	_exe_flags__VGPU
	XREF	_exe_stateReg__VGPU
	XREF	_exe_colourReg__VGPU
	XREF	_exe_texReg__VGPU
	XREF	_exe_fogReg__VGPU
	XREF	_exe_errReg__VGPU
	XREF	_funcTab__VGPU
	XREF	_qTrigTab__DRAWLIST

	SECTION "Round16__r23d:0",CODE

	rts

	SECTION "GetVertices__DRAWLIST__Tjs:0",CODE


;DVERTEX* DRAWLIST::GetVertices(sint32 n, bool immediate)
	XDEF	GetVertices__DRAWLIST__Tjs
GetVertices__DRAWLIST__Tjs
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$18(a7),d2
	move.w	$1C(a7),d3
	move.l	$14(a7),a2
L264
;	if (n<=0 || n>=vBufSize || (flags & MAKELIST)==0)
	cmp.l	#0,d2
	ble.b	L267
L265
	cmp.l	$1E(a2),d2
	bge.b	L267
L266
	move.l	$A(a2),d0
	and.l	#2,d0
	bne.b	L268
L267
;		return 0;
	moveq	#0,d0
	movem.l	(a7)+,d2/d3/a2/a3
	rts
L268
;	if (vertsUsed+n > vBufSize || instsUsed+1 > iBufSize)
	move.l	$26(a2),d0
	add.l	d2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L270
L269
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L271
L270
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L271
;	DVERTEX* v = currVert;
	move.l	$16(a2),a3
;	if (!immediate)
	tst.w	d3
	bne.b	L273
L272
;		commandReg = currInst->opcode = RSRVD;
	move.l	$1A(a2),a0
	move.l	#2,(a0)
	move.l	#2,$3A(a2)
; (currInst++)->numVerts = n;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;		currVert+=n;
	move.l	d2,d0
	moveq	#5,d1
	asl.l	d1,d0
	move.l	$16(a2),a0
	lea	0(a0,d0.l),a0
	move.l	a0,$16(a2)
;		vertsUsed+=n;
	add.l	d2,$26(a2)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L273
;	return v;
	move.l	a3,d0
	movem.l	(a7)+,d2/d3/a2/a3
	rts

	SECTION "SetVertices__DRAWLIST__TP07DVERTEX:0",CODE


;sint32 DRAWLIST::SetVertices(DVERTEX* v) // sets the current vertex 
	XDEF	SetVertices__DRAWLIST__TP07DVERTEX
SetVertices__DRAWLIST__TP07DVERTEX
	movem.l	a2/a3,-(a7)
	movem.l	$C(a7),a2/a3
L274
;	if (instsUsed+1 > iBufSize)
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L276
L275
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L276
;	commandReg = currInst->opcode = PUSH_DVS;
	move.l	$1A(a2),a0
	move.l	#$1B,(a0)
	move.l	#$1B,$3A(a2)
; (currInst++)->vertBase = v;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	a3,4(a1)
;	instsUsed++;
	addq.l	#1,$2A(a2)
;	return OK;
	moveq	#0,d0
	movem.l	(a7)+,a2/a3
	rts

	SECTION "RestoreVertices__DRAWLIST__T:0",CODE


;sint32 DRAWLIST::RestoreVertices() // restores the previous vertex b
	XDEF	RestoreVertices__DRAWLIST__T
RestoreVertices__DRAWLIST__T
	move.l	a2,-(a7)
	move.l	$8(a7),a2
L277
;	if (instsUsed+1 > iBufSize)
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L279
L278
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L279
;	commandReg = currInst->opcode = POP_DVS;
	move.l	$1A(a2),a0
	move.l	#$1C,(a0)
	move.l	#$1C,$3A(a2)
;	instsUsed++;
	addq.l	#1,$2A(a2)
;	return OK;
	moveq	#0,d0
	move.l	(a7)+,a2
	rts

	SECTION "Lines__DRAWLIST__Tj:0",CODE


;void DRAWLIST::Lines(sint32 n)
	XDEF	Lines__DRAWLIST__Tj
Lines__DRAWLIST__Tj
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$18(a7),d2
	move.l	$14(a7),a1
L280
;	if (commandReg==DRW_LINES)		
	move.l	$3A(a1),d0
	cmp.l	#7,d0
	bne.b	L282
L281
;	if (commandReg==DRW_LINES)		(currInst-
	move.l	$1A(a1),a0
	subq.w	#$8,a0
	add.l	d2,4(a0)
	bra	L291
L282
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a1,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L290
L283
	tst.l	d0
	beq.b	L285
L284
	or.l	#1,$A(a0)
	bra.b	L286
L285
	and.l	#-2,$A(a0)
L286
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L288
L287
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L289
L288
	move.l	$1A(a0),a2
	move.l	#$1A,(a2)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a2
	move.l	a2,$1A(a0)
	move.l	d0,4(a3)
	addq.l	#1,$2A(a0)
L289
L290
;		commandReg = currInst->opcode = DRW_LINES;
	move.l	$1A(a1),a0
	move.l	#7,(a0)
	move.l	#7,$3A(a1)
; (currInst++)->numVerts = n;
	move.l	$1A(a1),a2
	lea	$8(a2),a0
	move.l	a0,$1A(a1)
	move.l	d2,4(a2)
;		instsUsed++;
	addq.l	#1,$2A(a1)
L291
;	currVert += n;
	move.l	d2,d0
	moveq	#5,d1
	asl.l	d1,d0
	move.l	$16(a1),a0
	lea	0(a0,d0.l),a0
	move.l	a0,$16(a1)
;	vertsUsed += n;
	add.l	d2,$26(a1)
	movem.l	(a7)+,d2/d3/a2/a3
	rts

	SECTION "LineStrip__DRAWLIST__Tj:0",CODE


;void DRAWLIST::LineStrip(sint32 n)
	XDEF	LineStrip__DRAWLIST__Tj
LineStrip__DRAWLIST__Tj
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$18(a7),d2
	move.l	$14(a7),a1
L292
;	LockMode(LOCKED);
	moveq	#1,d0
	move.l	a1,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L300
L293
	tst.l	d0
	beq.b	L295
L294
	or.l	#1,$A(a0)
	bra.b	L296
L295
	and.l	#-2,$A(a0)
L296
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L298
L297
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L299
L298
	move.l	$1A(a0),a2
	move.l	#$1A,(a2)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a2
	move.l	a2,$1A(a0)
	move.l	d0,4(a3)
	addq.l	#1,$2A(a0)
L299
L300
;	commandReg = currInst->opcode = DRW_LINESTRIP;
	move.l	$1A(a1),a0
	move.l	#$8,(a0)
	move.l	#$8,$3A(a1)
; (currInst++)->numVerts = n;
	move.l	$1A(a1),a2
	lea	$8(a2),a0
	move.l	a0,$1A(a1)
	move.l	d2,4(a2)
;	instsUsed++;
	addq.l	#1,$2A(a1)
;	currVert += n;
	move.l	d2,d0
	moveq	#5,d1
	asl.l	d1,d0
	move.l	$16(a1),a0
	lea	0(a0,d0.l),a0
	move.l	a0,$16(a1)
;	vertsUsed += n;
	add.l	d2,$26(a1)
	movem.l	(a7)+,d2/d3/a2/a3
	rts

	SECTION "Tris__DRAWLIST__Tj:0",CODE


;void DRAWLIST::Tris(sint32 n)
	XDEF	Tris__DRAWLIST__Tj
Tris__DRAWLIST__Tj
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$18(a7),d2
	move.l	$14(a7),a1
L301
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a1),d0
	cmp.l	#$9,d0
	bne.b	L303
L302
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a1),a0
	subq.w	#$8,a0
	add.l	d2,4(a0)
	bra	L312
L303
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a1,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L311
L304
	tst.l	d0
	beq.b	L306
L305
	or.l	#1,$A(a0)
	bra.b	L307
L306
	and.l	#-2,$A(a0)
L307
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L309
L308
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L310
L309
	move.l	$1A(a0),a2
	move.l	#$1A,(a2)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a2
	move.l	a2,$1A(a0)
	move.l	d0,4(a3)
	addq.l	#1,$2A(a0)
L310
L311
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a1),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a1)
; (currInst++)->numVerts = n;
	move.l	$1A(a1),a2
	lea	$8(a2),a0
	move.l	a0,$1A(a1)
	move.l	d2,4(a2)
;		instsUsed++;
	addq.l	#1,$2A(a1)
L312
;	currVert += n;
	move.l	d2,d0
	moveq	#5,d1
	asl.l	d1,d0
	move.l	$16(a1),a0
	lea	0(a0,d0.l),a0
	move.l	a0,$16(a1)
;	vertsUsed += n;
	add.l	d2,$26(a1)
	movem.l	(a7)+,d2/d3/a2/a3
	rts

	SECTION "TriStrip__DRAWLIST__Tj:0",CODE


;void DRAWLIST::TriStrip(sint32 n)
	XDEF	TriStrip__DRAWLIST__Tj
TriStrip__DRAWLIST__Tj
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$18(a7),d2
	move.l	$14(a7),a1
L313
;	LockMode(LOCKED);
	moveq	#1,d0
	move.l	a1,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L321
L314
	tst.l	d0
	beq.b	L316
L315
	or.l	#1,$A(a0)
	bra.b	L317
L316
	and.l	#-2,$A(a0)
L317
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L319
L318
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L320
L319
	move.l	$1A(a0),a2
	move.l	#$1A,(a2)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a2
	move.l	a2,$1A(a0)
	move.l	d0,4(a3)
	addq.l	#1,$2A(a0)
L320
L321
;	commandReg = currInst->opcode = DRW_TRISTRIP;
	move.l	$1A(a1),a0
	move.l	#$B,(a0)
	move.l	#$B,$3A(a1)
; (currInst++)->numVerts = n;
	move.l	$1A(a1),a2
	lea	$8(a2),a0
	move.l	a0,$1A(a1)
	move.l	d2,4(a2)
;	instsUsed++;
	addq.l	#1,$2A(a1)
;	currVert += n;
	move.l	d2,d0
	moveq	#5,d1
	asl.l	d1,d0
	move.l	$16(a1),a0
	lea	0(a0,d0.l),a0
	move.l	a0,$16(a1)
;	vertsUsed += n;
	add.l	d2,$26(a1)
	movem.l	(a7)+,d2/d3/a2/a3
	rts

	SECTION "TriFan__DRAWLIST__Tj:0",CODE


;void DRAWLIST::TriFan(sint32 n)
	XDEF	TriFan__DRAWLIST__Tj
TriFan__DRAWLIST__Tj
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$18(a7),d2
	move.l	$14(a7),a1
L322
;	LockMode(LOCKED);
	moveq	#1,d0
	move.l	a1,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L330
L323
	tst.l	d0
	beq.b	L325
L324
	or.l	#1,$A(a0)
	bra.b	L326
L325
	and.l	#-2,$A(a0)
L326
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L328
L327
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L329
L328
	move.l	$1A(a0),a2
	move.l	#$1A,(a2)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a2
	move.l	a2,$1A(a0)
	move.l	d0,4(a3)
	addq.l	#1,$2A(a0)
L329
L330
;	commandReg = currInst->opcode = DRW_TRIFAN;
	move.l	$1A(a1),a0
	move.l	#$A,(a0)
	move.l	#$A,$3A(a1)
; (currInst++)->numVerts = n;
	move.l	$1A(a1),a2
	lea	$8(a2),a0
	move.l	a0,$1A(a1)
	move.l	d2,4(a2)
;	instsUsed++;
	addq.l	#1,$2A(a1)
;	currVert += n;
	move.l	d2,d0
	moveq	#5,d1
	asl.l	d1,d0
	move.l	$16(a1),a0
	lea	0(a0,d0.l),a0
	move.l	a0,$16(a1)
;	vertsUsed += n;
	add.l	d2,$26(a1)
	movem.l	(a7)+,d2/d3/a2/a3
	rts

	SECTION "Flush__DRAWLIST__T:0",CODE


;sint32 DRAWLIST::Flush()
	XDEF	Flush__DRAWLIST__T
Flush__DRAWLIST__T
	movem.l	d2/a2,-(a7)
	move.l	$C(a7),a2
L331
;	if (currFlushCnt++ == 0 && instsUsed)
	move.l	$2E(a2),d1
	move.l	d1,d0
	addq.l	#1,d0
	move.l	d0,$2E(a2)
	tst.l	d1
	bne.b	L334
L332
	tst.l	$2A(a2)
	beq.b	L334
L333
;		VGPU::ExecuteBuffer(true, instBuf, vertBuf, instsUsed, vBu
	move.l	$1E(a2),-(a7)
	move.l	$2A(a2),-(a7)
	move.l	$E(a2),-(a7)
	move.l	$12(a2),-(a7)
	move.w	#1,-(a7)
	jsr	ExecuteBuffer__VGPU__sP08DCOMMANDP07DVERTEXjj
	add.w	#$12,a7
	bra.b	L336
L334
;	else if (instsUsed)
	tst.l	$2A(a2)
	beq.b	L336
L335
;		VGPU::ExecuteBuffer(false, instBuf, vertBuf, instsUsed, vB
	move.l	$1E(a2),-(a7)
	move.l	$2A(a2),-(a7)
	move.l	$E(a2),-(a7)
	move.l	$12(a2),-(a7)
	clr.w	-(a7)
	jsr	ExecuteBuffer__VGPU__sP08DCOMMANDP07DVERTEXjj
	add.w	#$12,a7
L336
;	vertsUsed = 0;
	clr.l	$26(a2)
;	instsUsed = 0;
	clr.l	$2A(a2)
;	currVert = vertBuf;
	move.l	$E(a2),a0
	move.l	a0,$16(a2)
;	currInst = instBuf;
	move.l	$12(a2),a0
	move.l	a0,$1A(a2)
;	commandReg = NOOP;
	clr.l	$3A(a2)
;	return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2/a2
	rts

	SECTION "Begin__DRAWLIST__T:0",CODE


;sint32 DRAWLIST::Begin()
	XDEF	Begin__DRAWLIST__T
Begin__DRAWLIST__T
	move.l	d2,-(a7)
	move.l	$8(a7),a0
L337
;	if (nestCount++ == 0)
	move.l	$36(a0),d1
	move.l	d1,d0
	addq.l	#1,d0
	move.l	d0,$36(a0)
	tst.l	d1
	bne.b	L341
L338
;		breakCnt = 0;
	clr.l	$32(a0)
;		if (flags & MAKELIST) 
	move.l	$A(a0),d0
	and.l	#2,d0
	beq.b	L340
L339
;		if (flags & MAKELIST) return ERR_VALUE;
	move.l	#-$3010000,d0
	move.l	(a7)+,d2
	rts
L340
;		flags |= MAKELIST|LOCKED;
	or.l	#3,$A(a0)
;		instsUsed = 0;
	clr.l	$2A(a0)
;		vertsUsed = 0;
	clr.l	$26(a0)
;		currVert = vertBuf;
	move.l	$E(a0),a1
	move.l	a1,$16(a0)
;		currInst = instBuf;
	move.l	$12(a0),a1
	move.l	a1,$1A(a0)
L341
;	return OK;
	moveq	#0,d0
	move.l	(a7)+,d2
	rts

	SECTION "End__DRAWLIST__T:0",CODE


;sint32 DRAWLIST::End()
	XDEF	End__DRAWLIST__T
End__DRAWLIST__T
	move.l	a2,-(a7)
	move.l	$8(a7),a2
L342
;	if (!nestCount)
	tst.l	$36(a2)
	bne.b	L344
L343
;		return ERR_RSC;
	move.l	#-$3050000,d0
	move.l	(a7)+,a2
	rts
L344
;	if (--nestCount == 0)
	move.l	$36(a2),d0
	subq.l	#1,d0
	move.l	d0,$36(a2)
	bne.b	L348
L345
;		if (flags & MAKELIST==0) 
	bra.b	L347
L346
;		if (flags & MAKELIST==0) return ERR_VAL
	move.l	#-$3010000,d0
	move.l	(a7)+,a2
	rts
L347
;		flags &= ~(MAKELIST|LOCKED);
	and.l	#-4,$A(a2)
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
;		currFlushCnt = 0;
	clr.l	$2E(a2)
;		currVert = vertBuf;
	move.l	$E(a2),a0
	move.l	a0,$16(a2)
L348
;	return OK;
	moveq	#0,d0
	move.l	(a7)+,a2
	rts

	SECTION "Enable__DRAWLIST__TE:0",CODE


;void DRAWLIST::Enable(x3D::STATE s)
	XDEF	Enable__DRAWLIST__TE
Enable__DRAWLIST__TE
	movem.l	d2/a2,-(a7)
	move.l	$10(a7),d2
	move.l	$C(a7),a2
L349
;	if (stateReg & s)						
	move.l	$3E(a2),d0
	and.l	d2,d0
	beq.b	L351
L350
;	if (stateReg & s)						return;
	movem.l	(a7)+,d2/a2
	rts
L351
;	if (instsUsed+1 > iBufSize)	
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L353
L352
;	if (instsUsed+1 > iBufSize)	Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L353
;	commandReg = currInst->opcode = ENABLE_STATE;
	move.l	$1A(a2),a0
	move.l	#$18,(a0)
	move.l	#$18,$3A(a2)
; (currInst++)->state = s;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;	stateReg |= s;
	or.l	d2,$3E(a2)
;	instsUsed++;
	addq.l	#1,$2A(a2)
	movem.l	(a7)+,d2/a2
	rts

	SECTION "Disable__DRAWLIST__TE:0",CODE


;void DRAWLIST::Disable(x3D::STATE s)
	XDEF	Disable__DRAWLIST__TE
Disable__DRAWLIST__TE
	movem.l	d2/a2,-(a7)
	move.l	$10(a7),d2
	move.l	$C(a7),a2
L354
;	if ((stateReg&s)==0)			
	move.l	$3E(a2),d0
	and.l	d2,d0
	bne.b	L356
L355
;	if ((stateReg&s)==0)			return;
	movem.l	(a7)+,d2/a2
	rts
L356
;	if (instsUsed+1 > iBufSize)	
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L358
L357
;	if (instsUsed+1 > iBufSize)	Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L358
;	commandReg = currInst->opcode = DISABLE_STATE;
	move.l	$1A(a2),a0
	move.l	#$19,(a0)
	move.l	#$19,$3A(a2)
; (currInst++)->state = s;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;	stateReg &= ~s;
	not.l	d2
	and.l	d2,$3E(a2)
;	instsUsed++;
	addq.l	#1,$2A(a2)
	movem.l	(a7)+,d2/a2
	rts

	SECTION "SetColour__DRAWLIST__TUj:0",CODE


;void DRAWLIST::SetColour(uint32 colour)
	XDEF	SetColour__DRAWLIST__TUj
SetColour__DRAWLIST__TUj
	movem.l	d2/a2,-(a7)
	move.l	$10(a7),d2
	move.l	$C(a7),a2
L359
;	if (colourReg==colour)			
	move.l	$42(a2),d0
	cmp.l	d2,d0
	bne.b	L361
L360
;	if (colourReg==colour)			return;
	movem.l	(a7)+,d2/a2
	rts
L361
;	if (commandReg==SET_COLOUR)	
	move.l	$3A(a2),d0
	cmp.l	#$12,d0
	bne.b	L363
L362
;	if (commandReg==SET_COLOUR)	(currInst-
	move.l	$1A(a2),a0
	move.l	d2,-4(a0)
	bra.b	L366
L363
;		if (instsUsed+1 > iBufSize)	
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L365
L364
;		if (instsUsed+1 > iBufSize)	Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L365
;		commandReg = currInst->opcode = SET_COLOUR;
	move.l	$1A(a2),a0
	move.l	#$12,(a0)
	move.l	#$12,$3A(a2)
; colourReg = (currInst++)->colour = colour;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
	move.l	d2,$42(a2)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L366
	movem.l	(a7)+,d2/a2
	rts

	SECTION "SetTexture__DRAWLIST__TP08xTEXSURF:0",CODE


;void DRAWLIST::SetTexture(xTEXSURF* t)
	XDEF	SetTexture__DRAWLIST__TP08xTEXSURF
SetTexture__DRAWLIST__TP08xTEXSURF
	movem.l	a2/a3,-(a7)
	move.l	$10(a7),a0
	move.l	$C(a7),a2
L367
;	sysTEXTURE* tData = t->Handle();
	move.l	$12(a0),a3
;	if (texReg==tData)
	move.l	$4E(a2),a0
	cmp.l	a3,a0
	bne.b	L369
L368
;		return;
	movem.l	(a7)+,a2/a3
	rts
L369
;	if (commandReg==SET_TEXTURE)	
	move.l	$3A(a2),d0
	cmp.l	#$13,d0
	bne.b	L371
L370
;	if (commandReg==SET_TEXTURE)	(currIns
	move.l	$1A(a2),a0
	move.l	a3,-4(a0)
	bra.b	L374
L371
;		if (instsUsed+1 > iBufSize)	
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L373
L372
;		if (instsUsed+1 > iBufSize)	Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L373
;		commandReg = currInst->opcode = SET_TEXTURE;
	move.l	$1A(a2),a0
	move.l	#$13,(a0)
	move.l	#$13,$3A(a2)
; texReg = (currInst++)->texture = tData;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	a3,4(a1)
	move.l	a3,$4E(a2)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L374
	movem.l	(a7)+,a2/a3
	rts

	SECTION "Clear__DRAWLIST__TUj:0",CODE


;void DRAWLIST::Clear(uint32 colour)
	XDEF	Clear__DRAWLIST__TUj
Clear__DRAWLIST__TUj
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$18(a7),d2
	move.l	$14(a7),a2
L375
;	if (commandReg==CLEAR_RGB)
	move.l	$3A(a2),d0
	cmp.l	#4,d0
	bne.b	L377
L376
;		(currInst-1)->colour = colour;
	move.l	$1A(a2),a0
	move.l	d2,-4(a0)
	bra	L388
L377
;		if (instsUsed+2 > iBufSize)
	move.l	$2A(a2),d0
	addq.l	#2,d0
	cmp.l	$22(a2),d0
	ble.b	L379
L378
;			Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L379
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L387
L380
	tst.l	d0
	beq.b	L382
L381
	or.l	#1,$A(a0)
	bra.b	L383
L382
	and.l	#-2,$A(a0)
L383
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L385
L384
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L386
L385
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L386
L387
;		commandReg = currInst->opcode = CLEAR_RGB;
	move.l	$1A(a2),a0
	move.l	#4,(a0)
	move.l	#4,$3A(a2)
; (currInst++)->colour = colour;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L388
	movem.l	(a7)+,d2/d3/a2/a3
	rts

	SECTION "ClearDepth__DRAWLIST__Tf:0",CODE


;void DRAWLIST::ClearDepth(float32 z)
	XDEF	ClearDepth__DRAWLIST__Tf
ClearDepth__DRAWLIST__Tf
	movem.l	d2/a2/a3,-(a7)
	fmovem.x fp2,-(a7)
	move.l	$1C(a7),a2
	fmove.s	$20(a7),fp2
L389
;	if (commandReg==CLEAR_DEPTH)
	move.l	$3A(a2),d0
	cmp.l	#5,d0
	bne.b	L391
L390
;		(currInst-1)->depth = z;
	move.l	$1A(a2),a0
	fmove.s	fp2,-4(a0)
	bra	L402
L391
;		if (instsUsed+2 > iBufSize)
	move.l	$2A(a2),d0
	addq.l	#2,d0
	cmp.l	$22(a2),d0
	ble.b	L393
L392
;			Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L393
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L401
L394
	tst.l	d0
	beq.b	L396
L395
	or.l	#1,$A(a0)
	bra.b	L397
L396
	and.l	#-2,$A(a0)
L397
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L399
L398
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L400
L399
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L400
L401
;		commandReg = currInst->opcode = CLEAR_DEPTH;
	move.l	$1A(a2),a0
	move.l	#5,(a0)
	move.l	#5,$3A(a2)
; (currInst++)->depth = z;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	fmove.s	fp2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L402
	fmovem.x (a7)+,fp2
	movem.l	(a7)+,d2/a2/a3
	rts

	SECTION "Blit__DRAWLIST__TP08xSURFACEssssss:0",CODE


;void DRAWLIST::Blit(xSURFACE* s, S_3CRD)
	XDEF	Blit__DRAWLIST__TP08xSURFACEssssss
Blit__DRAWLIST__TP08xSURFACEssssss
L423	EQU	0
	link	a5,#L423
	movem.l	d2-d7/a2/a3/a6,-(a7)
	movem.l	$8(a5),a2/a6
	move.w	$1A(a5),d2
	move.w	$18(a5),d3
	move.w	$16(a5),d4
	move.w	$14(a5),d5
	move.w	$12(a5),d7
L403
;	if (s->Handle()==0)
	move.l	a6,a0
	tst.l	$C(a0)
	beq.b	L405
L404
	move.l	$C(a0),a0
	move.l	4(a0),a0
	bra.b	L406
L405
	sub.l	a0,a0
L406
	cmp.w	#0,a0
	bne.b	L408
L407
;		return;
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts
L408
;	if (vertsUsed+1 > vBufSize || instsUsed+2 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#1,d0
	cmp.l	$1E(a2),d0
	bgt.b	L410
L409
	move.l	$2A(a2),d0
	addq.l	#2,d0
	cmp.l	$22(a2),d0
	ble.b	L411
L410
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L411
;	LockMode(UNLOCKED);
	moveq	#0,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L419
L412
	tst.l	d0
	beq.b	L414
L413
	or.l	#1,$A(a0)
	bra.b	L415
L414
	and.l	#-2,$A(a0)
L415
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L417
L416
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L418
L417
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L418
L419
;	commandReg =	currInst->opcode		= BLIT;
	move.l	$1A(a2),a0
	move.l	#$D,(a0)
	move.l	#$D,$3A(a2)
;	(currInst++)->surf	= s->Handle();
	move.l	a6,a0
	tst.l	$C(a0)
	beq.b	L421
L420
	move.l	$C(a0),a0
	move.l	4(a0),a3
	bra.b	L422
L421
	sub.l	a3,a3
L422
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	a3,4(a1)
;	register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;	v->x1 = x1;
	move.w	$10(a5),d0
	ext.l	d0
	move.l	d0,(a0)
; v->y1 = y1;
	move.w	d7,d0
	ext.l	d0
	move.l	d0,4(a0)
;	v->x2 = x2;
	move.w	d5,d0
	ext.l	d0
	move.l	d0,$8(a0)
; v->y2 = y2;
	move.w	d4,d0
	ext.l	d0
	move.l	d0,$C(a0)
;	v->x3 = x3, v->y3 = y3;
	move.w	d3,d0
	ext.l	d0
	move.l	d0,$10(a0)
	move.w	d2,d0
	ext.l	d0
	move.l	d0,$14(a0)
;	instsUsed++;
	addq.l	#1,$2A(a2)
;	vertsUsed++;
	addq.l	#1,$26(a2)
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "Clip__DRAWLIST__Tssss:0",CODE


;void DRAWLIST::Clip(S_2CRD)
	XDEF	Clip__DRAWLIST__Tssss
Clip__DRAWLIST__Tssss
	movem.l	d2-d5/a2,-(a7)
	move.w	$1C(a7),d2
	move.w	$22(a7),d3
	move.w	$20(a7),d4
	move.w	$1E(a7),d5
	move.l	$18(a7),a2
L424
;	if (vertsUsed+1 > vBufSize || instsUsed+1 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#1,d0
	cmp.l	$1E(a2),d0
	bgt.b	L426
L425
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L427
L426
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L427
;	commandReg = (currInst++)->opcode		= CLIP;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#3,(a1)
	move.l	#3,$3A(a2)
;	register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;	v->x1 = x1;
	move.w	d2,d0
	ext.l	d0
	move.l	d0,(a0)
; v->y1 = y1;
	move.w	d5,d0
	ext.l	d0
	move.l	d0,4(a0)
;	v->x2 = x2-x1;
	move.w	d4,d0
	ext.l	d0
	move.w	d2,d1
	ext.l	d1
	sub.l	d1,d0
	move.l	d0,$8(a0)
; v->y2 = y2-x1;
	move.w	d3,d0
	ext.l	d0
	move.w	d2,d1
	ext.l	d1
	sub.l	d1,d0
	move.l	d0,$C(a0)
;	instsUsed++;
	addq.l	#1,$2A(a2)
;	vertsUsed++;
	addq.l	#1,$26(a2)
	movem.l	(a7)+,d2-d5/a2
	rts

	SECTION "FogParms__DRAWLIST__TUjfffE:0",CODE


;void DRAWLIST::FogParms(uint32 colour, float32 start, float32 end, f
	XDEF	FogParms__DRAWLIST__TUjfffE
FogParms__DRAWLIST__TUjfffE
	movem.l	d2-d4/a2/a3,-(a7)
	fmovem.x fp2/fp3/fp4,-(a7)
	move.l	$50(a7),d2
	move.l	$40(a7),d3
	move.l	$3C(a7),a2
	fmove.s	$4C(a7),fp2
	fmove.s	$48(a7),fp3
	fmove.s	$44(a7),fp4
L428
;	if (commandReg == FOGPARMS)
	move.l	$3A(a2),d0
	cmp.l	#$10,d0
	bne.b	L430
L429
;		register DVERTEX* v = (currVert-1);
	move.l	$16(a2),a0
	sub.w	#$20,a0
;		v->data1 = colour;
	move.l	d3,(a0)
; v->fy1 = start;
	fmove.s	fp4,4(a0)
; v->fx2 = end;
	fmove.s	fp3,$8(a0)
; v->fy2 = density;
	fmove.s	fp2,$C(a0)
;		(currInst-1)->data = fmode;
	move.l	$1A(a2),a0
	move.l	d2,-4(a0)
	bra	L442
L430
;		if (vertsUsed+1 > vBufSize || instsUsed+2 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#1,d0
	cmp.l	$1E(a2),d0
	bgt.b	L432
L431
	move.l	$2A(a2),d0
	addq.l	#2,d0
	cmp.l	$22(a2),d0
	ble.b	L433
L432
;			Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L433
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L441
L434
	tst.l	d0
	beq.b	L436
L435
	or.l	#1,$A(a0)
	bra.b	L437
L436
	and.l	#-2,$A(a0)
L437
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L439
L438
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L440
L439
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L440
L441
;		commandReg =	currInst->opcode	= FOGPARMS;
	move.l	$1A(a2),a0
	move.l	#$10,(a0)
	move.l	#$10,$3A(a2)
;		(currInst++)->data	= fmode;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;		register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;		v->data1 = colour;
	move.l	d3,(a0)
; v->fy1 = start;
	fmove.s	fp4,4(a0)
; v->fx2 = end;
	fmove.s	fp3,$8(a0)
; v->fy2 = density;
	fmove.s	fp2,$C(a0)
;		instsUsed++;
	addq.l	#1,$2A(a2)
;		vertsUsed++;
	addq.l	#1,$26(a2)
L442
	fmovem.x (a7)+,fp2/fp3/fp4
	movem.l	(a7)+,d2-d4/a2/a3
	rts

	SECTION "BlendMode__DRAWLIST__TEE:0",CODE


;void DRAWLIST::BlendMode(x3D::BFUNC sfac, x3D::BFUNC dfac)
	XDEF	BlendMode__DRAWLIST__TEE
BlendMode__DRAWLIST__TEE
	movem.l	d2/d3/a2,-(a7)
	movem.l	$14(a7),d2/d3
	move.l	$10(a7),a2
L443
;	if (commandReg == BLENDPARMS)
	move.l	$3A(a2),d0
	cmp.l	#$F,d0
	bne.b	L445
L444
;		(currInst-1)->data = ((sfac<<16) | (dfac));
	moveq	#$10,d0
	asl.l	d0,d2
	or.l	d3,d2
	move.l	$1A(a2),a0
	move.l	d2,-4(a0)
	bra.b	L448
L445
;		if (instsUsed+1 > iBufSize)
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L447
L446
;			Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L447
;		commandReg =	currInst->opcode	= BLENDPARMS;
	move.l	$1A(a2),a0
	move.l	#$F,(a0)
	move.l	#$F,$3A(a2)
;		(currInst++)->data = ((sfac<<16) | (dfac));
	moveq	#$10,d0
	asl.l	d0,d2
	or.l	d3,d2
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L448
	movem.l	(a7)+,d2/d3/a2
	rts

	SECTION "AlphaCompareMode__DRAWLIST__TEf:0",CODE


;void DRAWLIST::AlphaCompareMode(x3D::AMODE amode, float32 ref)
	XDEF	AlphaCompareMode__DRAWLIST__TEf
AlphaCompareMode__DRAWLIST__TEf
	movem.l	d2/a2,-(a7)
	fmovem.x fp2,-(a7)
	move.l	$1C(a7),d2
	move.l	$18(a7),a2
	fmove.s	$20(a7),fp2
L449
;	alphaReg = ref;
	fmove.s	fp2,$4A(a2)
;	if (commandReg==SET_AMODE)
	move.l	$3A(a2),d0
	cmp.l	#$17,d0
	bne.b	L451
L450
;		(currVert-1)->data1	= amode;
	move.l	$16(a2),a0
	move.l	d2,-$20(a0)
;		(currVert-1)->fy1		= ref;
	move.l	$16(a2),a0
	fmove.s	fp2,-$1C(a0)
	bra.b	L455
L451
;		if (vertsUsed+1 > vBufSize || instsUsed+1 > iBufSize)	
	move.l	$26(a2),d0
	addq.l	#1,d0
	cmp.l	$1E(a2),d0
	bgt.b	L453
L452
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L454
L453
;(vertsUsed+1 > vB
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L454
;		commandReg = (currInst++)->opcode = SET_AMODE;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#$17,(a1)
	move.l	#$17,$3A(a2)
;		currVert->data1		= amode;
	move.l	$16(a2),a0
	move.l	d2,(a0)
;		(currVert++)->fy1	= ref;
	move.l	$16(a2),a1
	lea	$20(a1),a0
	move.l	a0,$16(a2)
	fmove.s	fp2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
;		vertsUsed++;
	addq.l	#1,$26(a2)
L455
	fmovem.x (a7)+,fp2
	movem.l	(a7)+,d2/a2
	rts

	SECTION "LogicMode__DRAWLIST__TE:0",CODE


;void DRAWLIST::LogicMode(x3D::LMODE lmode)
	XDEF	LogicMode__DRAWLIST__TE
LogicMode__DRAWLIST__TE
	movem.l	d2/a2,-(a7)
	move.l	$10(a7),d2
	move.l	$C(a7),a2
L456
;	if (logicReg==lmode)				
	move.l	$52(a2),d0
	cmp.l	d2,d0
	bne.b	L458
L457
;	if (logicReg==lmode)				return;
	movem.l	(a7)+,d2/a2
	rts
L458
;	if (commandReg==SET_LOGIC)	
	move.l	$3A(a2),d0
	cmp.l	#$14,d0
	bne.b	L460
L459
;	if (commandReg==SET_LOGIC)	(currInst-1)
	move.l	$1A(a2),a0
	move.l	d2,-4(a0)
	bra.b	L463
L460
;		if (instsUsed+1 > iBufSize)	
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L462
L461
;		if (instsUsed+1 > iBufSize)	Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L462
;		commandReg = currInst->opcode = SET_LOGIC;
	move.l	$1A(a2),a0
	move.l	#$14,(a0)
	move.l	#$14,$3A(a2)
; logicReg = lmode;
	move.l	d2,$52(a2)
; (currInst++)->data = lmode;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L463
	movem.l	(a7)+,d2/a2
	rts

	SECTION "DepthCompareMode__DRAWLIST__TE:0",CODE


;void DRAWLIST::DepthCompareMode(x3D::ZMODE zmode)
	XDEF	DepthCompareMode__DRAWLIST__TE
DepthCompareMode__DRAWLIST__TE
	movem.l	d2/a2,-(a7)
	move.l	$10(a7),d2
	move.l	$C(a7),a2
L464
;	if (zTestReg==zmode)				
	move.l	$5A(a2),d0
	cmp.l	d2,d0
	bne.b	L466
L465
;	if (zTestReg==zmode)				return;
	movem.l	(a7)+,d2/a2
	rts
L466
;	if (commandReg==SET_ZMODE)	
	move.l	$3A(a2),d0
	cmp.l	#$16,d0
	bne.b	L468
L467
;	if (commandReg==SET_ZMODE)	(currInst-1)
	move.l	$1A(a2),a0
	move.l	d2,-4(a0)
	bra.b	L471
L468
;		if (instsUsed+1 > iBufSize)	
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L470
L469
;		if (instsUsed+1 > iBufSize)	Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L470
;		commandReg = currInst->opcode = SET_ZMODE;
	move.l	$1A(a2),a0
	move.l	#$16,(a0)
	move.l	#$16,$3A(a2)
; zTestReg = zmode;
	move.l	d2,$5A(a2)
; (currInst++)->data = zmode;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L471
	movem.l	(a7)+,d2/a2
	rts

	SECTION "FogMode__DRAWLIST__TE:0",CODE


;void DRAWLIST::FogMode(x3D::FMODE fmode)
	XDEF	FogMode__DRAWLIST__TE
FogMode__DRAWLIST__TE
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$18(a7),d2
	move.l	$14(a7),a2
L472
;	if (fogReg==fmode)				
	move.l	$56(a2),d0
	cmp.l	d2,d0
	bne.b	L474
L473
;	if (fogReg==fmode)				return;
	movem.l	(a7)+,d2/d3/a2/a3
	rts
L474
;	if (commandReg==SET_FOG)	
	move.l	$3A(a2),d0
	cmp.l	#$15,d0
	bne.b	L476
L475
;	if (commandReg==SET_FOG)	(currInst-1)->da
	move.l	$1A(a2),a0
	move.l	d2,-4(a0)
	bra	L487
L476
;		if (instsUsed+2 > iBufSize)	
	move.l	$2A(a2),d0
	addq.l	#2,d0
	cmp.l	$22(a2),d0
	ble.b	L478
L477
;		if (instsUsed+2 > iBufSize)	Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L478
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L486
L479
	tst.l	d0
	beq.b	L481
L480
	or.l	#1,$A(a0)
	bra.b	L482
L481
	and.l	#-2,$A(a0)
L482
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L484
L483
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L485
L484
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L485
L486
;		commandReg = currInst->opcode = SET_FOG;
	move.l	$1A(a2),a0
	move.l	#$15,(a0)
	move.l	#$15,$3A(a2)
; fogReg = fmode;
	move.l	d2,$56(a2)
; (currInst++)->data = fmode;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L487
	movem.l	(a7)+,d2/d3/a2/a3
	rts

	SECTION "XDebug_BreakPoint__DRAWLIST__T:0",CODE


;void DRAWLIST::XDebug_BreakPoint()
	XDEF	XDebug_BreakPoint__DRAWLIST__T
XDebug_BreakPoint__DRAWLIST__T
	movem.l	d2/a2,-(a7)
	move.l	$C(a7),a2
L488
;	if (commandReg==BREAKPT)	
	move.l	$3A(a2),d0
	cmp.l	#$1E,d0
	bne.b	L490
L489
;	if (commandReg==BREAKPT)	return;
	movem.l	(a7)+,d2/a2
	rts
L490
;		if (instsUsed+1 > iBufSize)	
	move.l	$2A(a2),d0
	addq.l	#1,d0
	cmp.l	$22(a2),d0
	ble.b	L492
L491
;		if (instsUsed+1 > iBufSize)	Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L492
;		commandReg = currInst->opcode = BREAKPT;
	move.l	$1A(a2),a0
	move.l	#$1E,(a0)
	move.l	#$1E,$3A(a2)
; (currInst++)->data = breakCnt++;
	move.l	$32(a2),d1
	move.l	d1,d0
	addq.l	#1,d0
	move.l	d0,$32(a2)
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d1,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
	movem.l	(a7)+,d2/a2
	rts

	SECTION "Line__DRAWLIST__TUjssss:0",CODE


;void DRAWLIST::Line(uint32 colour, S_2CRD)
	XDEF	Line__DRAWLIST__TUjssss
Line__DRAWLIST__TUjssss
	movem.l	d2-d6/a2/a3,-(a7)
	move.w	$2E(a7),d2
	move.w	$2C(a7),d3
	move.w	$2A(a7),d4
	move.w	$28(a7),d5
	move.l	$24(a7),d6
	move.l	$20(a7),a2
L493
;	if (vertsUsed+2 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L495
L494
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L496
L495
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L496
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Disable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetColour(colour);
	move.l	d6,-(a7)
	move.l	a2,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;	if (commandReg==DRW_LINES)		
	move.l	$3A(a2),d0
	cmp.l	#7,d0
	bne.b	L498
L497
;	if (commandReg==DRW_LINES)		(currInst-
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#2,4(a0)
	bra	L507
L498
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L506
L499
	tst.l	d0
	beq.b	L501
L500
	or.l	#1,$A(a0)
	bra.b	L502
L501
	and.l	#-2,$A(a0)
L502
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L504
L503
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L505
L504
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L505
L506
;		commandReg = currInst->opcode = DRW_LINES;
	move.l	$1A(a2),a0
	move.l	#7,(a0)
	move.l	#7,$3A(a2)
; (currInst++)->numVerts = 2;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L507
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		v->x = x1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	(v++)->z = depthReg;
	move.l	a0,a1
	add.w	#$20,a0
	move.l	$46(a2),$8(a1)
;		v->x = x2;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	(v++)->z = depthReg;
	move.l	a0,a1
	move.l	$46(a2),$8(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed+=2;
	addq.l	#2,$26(a2)
	movem.l	(a7)+,d2-d6/a2/a3
	rts

	SECTION "LineShA__DRAWLIST__TPUjssss:0",CODE


;void DRAWLIST::LineShA(uint32* colour, S_2CRD)
	XDEF	LineShA__DRAWLIST__TPUjssss
LineShA__DRAWLIST__TPUjssss
	movem.l	d2-d6/a2/a3/a6,-(a7)
	movem.l	$24(a7),a2/a3
	move.w	$32(a7),d2
	move.w	$30(a7),d3
	move.w	$2E(a7),d4
	move.w	$2C(a7),d5
L508
;	if (vertsUsed+2 > vBufSize || instsUsed+4 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L510
L509
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L511
L510
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L511
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	if (commandReg==DRW_LINES)		
	move.l	$3A(a2),d0
	cmp.l	#7,d0
	bne.b	L513
L512
;	if (commandReg==DRW_LINES)		(currInst-
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#2,4(a0)
	bra	L522
L513
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L521
L514
	tst.l	d0
	beq.b	L516
L515
	or.l	#1,$A(a0)
	bra.b	L517
L516
	and.l	#-2,$A(a0)
L517
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L519
L518
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L520
L519
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a6
	lea	$8(a6),a1
	move.l	a1,$1A(a0)
	move.l	a6,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L520
L521
;		currInst->opcode = commandReg = DRW_LINES;
	move.l	#7,$3A(a2)
	move.l	$1A(a2),a0
	move.l	#7,(a0)
; (currInst++)->numVerts = 2;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#2,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L522
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		v->x = x1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	v->z = depthReg;
	move.l	$46(a2),$8(a0)
;	(v++)->colour = *(colour++);
	move.l	a0,a1
	add.w	#$20,a0
	move.l	(a3)+,$18(a1)
;		v->x = x2;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	v->z = depthReg;
	move.l	$46(a2),$8(a0)
;	(v++)->colour = *colour;
	move.l	a3,a1
	move.l	(a1),d0
	move.l	a0,a1
	move.l	d0,$18(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed+=2;
	addq.l	#2,$26(a2)
	movem.l	(a7)+,d2-d6/a2/a3/a6
	rts

	SECTION "Tri__DRAWLIST__TUjssssss:0",CODE


;void DRAWLIST::Tri(uint32 colour, S_3CRD)
	XDEF	Tri__DRAWLIST__TUjssssss
Tri__DRAWLIST__TUjssssss
L538	EQU	0
	link	a5,#L538
	movem.l	d2-d7/a2/a3,-(a7)
	move.w	$1A(a5),d2
	move.w	$18(a5),d3
	move.w	$16(a5),d4
	move.w	$14(a5),d5
	move.l	$C(a5),d6
	move.w	$12(a5),d7
	move.l	$8(a5),a2
L523
;	if (vertsUsed+3 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#3,d0
	cmp.l	$1E(a2),d0
	bgt.b	L525
L524
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L526
L525
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L526
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Disable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetColour(colour);
	move.l	d6,-(a7)
	move.l	a2,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L528
L527
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#3,4(a0)
	bra	L537
L528
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L536
L529
	tst.l	d0
	beq.b	L531
L530
	or.l	#1,$A(a0)
	bra.b	L532
L531
	and.l	#-2,$A(a0)
L532
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L534
L533
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L535
L534
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L535
L536
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 3;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#3,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L537
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	(v++)->z = depthReg;
	move.l	a0,a1
	add.w	#$20,a0
	move.l	$46(a2),$8(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	(v++)->z = depthReg;
	move.l	a0,a1
	add.w	#$20,a0
	move.l	$46(a2),$8(a1)
;		v->x = x3;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y3;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	(v++)->z = depthReg;
	move.l	a0,a1
	move.l	$46(a2),$8(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	movem.l	(a7)+,d2-d7/a2/a3
	unlk	a5
	rts

	SECTION "TriShA__DRAWLIST__TPUjssssss:0",CODE


;void DRAWLIST::TriShA(uint32* colour, S_3CRD)
	XDEF	TriShA__DRAWLIST__TPUjssssss
TriShA__DRAWLIST__TPUjssssss
L554	EQU	0
	link	a5,#L554
	movem.l	d2-d7/a2/a3/a6,-(a7)
	movem.l	$8(a5),a2/a3
	move.w	$1A(a5),d2
	move.w	$18(a5),d3
	move.w	$16(a5),d4
	move.w	$14(a5),d5
	move.w	$12(a5),d7
L539
;	if (vertsUsed+3 > vBufSize || instsUsed+4 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#3,d0
	cmp.l	$1E(a2),d0
	bgt.b	L541
L540
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L542
L541
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L542
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L544
L543
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#3,4(a0)
	bra	L553
L544
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L552
L545
	tst.l	d0
	beq.b	L547
L546
	or.l	#1,$A(a0)
	bra.b	L548
L547
	and.l	#-2,$A(a0)
L548
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L550
L549
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L551
L550
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a6
	lea	$8(a6),a1
	move.l	a1,$1A(a0)
	move.l	a6,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L551
L552
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 3;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#3,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L553
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	v->z = depthReg;
	move.l	$46(a2),$8(a0)
;	(v++)->colour = *(colour++);
	move.l	a0,a1
	add.w	#$20,a0
	move.l	(a3)+,$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	v->z = depthReg;
	move.l	$46(a2),$8(a0)
;	(v++)->colour = *(colour++);
	move.l	a0,a1
	add.w	#$20,a0
	move.l	(a3)+,$18(a1)
;		v->x = x3;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,(a0)
;	v->y = y3;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,4(a0)
;	v->z = depthReg;
	move.l	$46(a2),$8(a0)
;	(v++)->colour = *colour;
	move.l	a3,a1
	move.l	(a1),d0
	move.l	a0,a1
	move.l	d0,$18(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "Rect__DRAWLIST__TUjssss:0",CODE


;void DRAWLIST::Rect(uint32 colour, S_2CRD)
	XDEF	Rect__DRAWLIST__TUjssss
Rect__DRAWLIST__TUjssss
	movem.l	d2-d6/a2/a3,-(a7)
	move.w	$2E(a7),d2
	move.w	$2C(a7),d3
	move.w	$2A(a7),d4
	move.w	$28(a7),d5
	move.l	$24(a7),d6
	move.l	$20(a7),a2
L555
;	if (vertsUsed+6 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L557
L556
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L558
L557
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L558
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Disable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetColour(colour);
	move.l	d6,-(a7)
	move.l	a2,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L560
L559
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L569
L560
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L568
L561
	tst.l	d0
	beq.b	L563
L562
	or.l	#1,$A(a0)
	bra.b	L564
L563
	and.l	#-2,$A(a0)
L564
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L566
L565
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L567
L566
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L567
L568
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L569
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp0
;		v->x = x1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	(v++)->z = depth;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$8(a1)
;		v->x = x2;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	(v++)->z = depth;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$8(a1)
;		v->x = x1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	(v++)->z = depth;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$8(a1)
;		v->x = x2;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	(v++)->z = depth;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$8(a1)
;		v->x = x2;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	(v++)->z = depth;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$8(a1)
;		v->x = x1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	(v++)->z = depth;
	move.l	a0,a1
	fmove.s	fp0,$8(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	movem.l	(a7)+,d2-d6/a2/a3
	rts

	SECTION "RectShH__DRAWLIST__TPUjssss:0",CODE


;void DRAWLIST::RectShH(uint32* colour, S_2CRD)
	XDEF	RectShH__DRAWLIST__TPUjssss
RectShH__DRAWLIST__TPUjssss
	movem.l	d2-d6/a2/a3/a6,-(a7)
	movem.l	$24(a7),a2/a6
	move.w	$2C(a7),d2
	move.w	$2E(a7),d3
	move.w	$32(a7),d4
	move.w	$30(a7),d5
L570
;	if (flags & ENFORCESTATE)
	move.l	$A(a2),d0
	and.l	#$10000000,d0
	beq.b	L572
L571
;		Tri(0, x1,y1, x1,y1, x1,y1);
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	clr.l	-(a7)
	move.l	a2,-(a7)
	jsr	Tri__DRAWLIST__TUjssssss
	add.w	#$14,a7
;		flags &= ~ENFORCESTATE;
	and.l	#$EFFFFFFF,$A(a2)
L572
;	if (vertsUsed+6 > vBufSize || instsUsed+4 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L574
L573
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L575
L574
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L575
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L577
L576
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L586
L577
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L585
L578
	tst.l	d0
	beq.b	L580
L579
	or.l	#1,$A(a0)
	bra.b	L581
L580
	and.l	#-2,$A(a0)
L581
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L583
L582
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L584
L583
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L584
L585
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L586
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp0
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),d0
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[1];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	4(a6),$18(a1)
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),d0
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[1];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	4(a6),$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[1];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	4(a6),$18(a1)
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),d0
	move.l	a0,a1
	move.l	d0,$18(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	movem.l	(a7)+,d2-d6/a2/a3/a6
	rts

	SECTION "RectShV__DRAWLIST__TPUjssss:0",CODE


;void DRAWLIST::RectShV(uint32* colour, S_2CRD)
	XDEF	RectShV__DRAWLIST__TPUjssss
RectShV__DRAWLIST__TPUjssss
	movem.l	d2-d6/a2/a3/a6,-(a7)
	movem.l	$24(a7),a2/a6
	move.w	$2C(a7),d2
	move.w	$2E(a7),d3
	move.w	$32(a7),d4
	move.w	$30(a7),d5
L587
;	if (flags & ENFORCESTATE)
	move.l	$A(a2),d0
	and.l	#$10000000,d0
	beq.b	L589
L588
;		Tri(0, x1,y1, x1,y1, x1,y1);
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	clr.l	-(a7)
	move.l	a2,-(a7)
	jsr	Tri__DRAWLIST__TUjssssss
	add.w	#$14,a7
;		flags &= ~ENFORCESTATE;
	and.l	#$EFFFFFFF,$A(a2)
L589
;	if (vertsUsed+6 > vBufSize || instsUsed+4 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L591
L590
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L592
L591
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L592
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L594
L593
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L603
L594
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L602
L595
	tst.l	d0
	beq.b	L597
L596
	or.l	#1,$A(a0)
	bra.b	L598
L597
	and.l	#-2,$A(a0)
L598
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L600
L599
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L601
L600
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L601
L602
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L603
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp0
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),d0
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),d0
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[1];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	4(a6),$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),d0
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[1];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	4(a6),$18(a1)
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[1];
	move.l	a0,a1
	move.l	4(a6),$18(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	movem.l	(a7)+,d2-d6/a2/a3/a6
	rts

	SECTION "RectShA__DRAWLIST__TPUjssss:0",CODE


;void DRAWLIST::RectShA(uint32* colour, S_2CRD)
	XDEF	RectShA__DRAWLIST__TPUjssss
RectShA__DRAWLIST__TPUjssss
	movem.l	d2-d6/a2/a3/a6,-(a7)
	movem.l	$24(a7),a2/a6
	move.w	$2C(a7),d2
	move.w	$2E(a7),d3
	move.w	$32(a7),d4
	move.w	$30(a7),d5
L604
;	if (flags & ENFORCESTATE)
	move.l	$A(a2),d0
	and.l	#$10000000,d0
	beq.b	L606
L605
;		Tri(0, x1,y1, x1,y1, x1,y1);
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	clr.l	-(a7)
	move.l	a2,-(a7)
	jsr	Tri__DRAWLIST__TUjssssss
	add.w	#$14,a7
;		flags &= ~ENFORCESTATE;
	and.l	#$EFFFFFFF,$A(a2)
L606
;	if (vertsUsed+6 > vBufSize || instsUsed+4 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L608
L607
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L609
L608
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L609
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L611
L610
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L620
L611
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L619
L612
	tst.l	d0
	beq.b	L614
L613
	or.l	#1,$A(a0)
	bra.b	L615
L614
	and.l	#-2,$A(a0)
L615
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L617
L616
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L618
L617
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L618
L619
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L620
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp0
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),d0
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[1];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	4(a6),$18(a1)
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[2];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	$8(a6),$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[1];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	4(a6),$18(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[3];
	move.l	a0,a1
	add.w	#$20,a0
	move.l	$C(a6),$18(a1)
;		v->x = x1;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = colour[2];
	move.l	a0,a1
	move.l	$8(a6),$18(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	movem.l	(a7)+,d2-d6/a2/a3/a6
	rts

	SECTION "RectTlTx__DRAWLIST__TUjssssP08xTEXSURFssff:0",CODE


;void DRAWLIST::RectTlTx(uint32 colour, S_2CRD, TEXARG)
	XDEF	RectTlTx__DRAWLIST__TUjssssP08xTEXSURFssff
RectTlTx__DRAWLIST__TUjssssP08xTEXSURFssff
L636	EQU	0
	link	a5,#L636
	movem.l	d2-d7/a2/a3,-(a7)
	fmovem.x fp2/fp3,-(a7)
	move.l	$C(a5),d2
	move.w	$1E(a5),d3
	move.w	$12(a5),d4
	move.w	$16(a5),d5
	move.w	$1C(a5),d7
	move.l	$8(a5),a2
	move.l	$18(a5),a3
	fmove.s	$24(a5),fp2
	fmove.s	$20(a5),fp3
L621
;	if (vertsUsed+6 > vBufSize || instsUsed+6 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L623
L622
	move.l	$2A(a2),d0
	addq.l	#6,d0
	cmp.l	$22(a2),d0
	ble.b	L624
L623
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L624
;	Enable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetColour(colour);
	move.l	d2,-(a7)
	move.l	a2,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;	SetTexture(t);
	move.l	a3,-(a7)
	move.l	a2,-(a7)
	jsr	SetTexture__DRAWLIST__TP08xTEXSURF
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L626
L625
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L635
L626
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L634
L627
	tst.l	d0
	beq.b	L629
L628
	or.l	#1,$A(a0)
	bra.b	L630
L629
	and.l	#-2,$A(a0)
L630
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L632
L631
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L633
L632
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L633
L634
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L635
;		rfloat32 tu = ((x2-x1)/tSclX)+tOfsX;
	move.w	$14(a5),d0
	ext.l	d0
	move.w	$10(a5),d1
	ext.l	d1
	sub.l	d1,d0
	fmove.l	d0,fp1
	fdiv.x	fp3,fp1
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp0
	fadd.x	fp0,fp1
;		rfloat32 tv = ((y2-y1)/tSclY)+tOfsY;
	move.w	d5,d0
	ext.l	d0
	move.w	d4,d1
	ext.l	d1
	sub.l	d1,d0
	fmove.l	d0,fp0
	fdiv.x	fp2,fp0
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp2
	fadd.x	fp2,fp0
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp2
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tOfsX;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tOfsY;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tOfsX;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tOfsX;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	fmove.s	fp0,$14(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,d2-d7/a2/a3
	unlk	a5
	rts

	SECTION "RectTlTxShH__DRAWLIST__TPUjssssP08xTEXSURFssff:0",CODE


;void DRAWLIST::RectTlTxShH(uint32* colour, S_2CRD, TEXARG)
	XDEF	RectTlTxShH__DRAWLIST__TPUjssssP08xTEXSURFssff
RectTlTxShH__DRAWLIST__TPUjssssP08xTEXSURFssff
L652	EQU	0
	link	a5,#L652
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3,-(a7)
	movem.l	$8(a5),a2/a6
	move.w	$1E(a5),d2
	move.w	$12(a5),d3
	move.w	$16(a5),d4
	move.w	$1C(a5),d5
	move.w	$10(a5),d7
	move.l	$18(a5),a3
	fmove.s	$24(a5),fp2
	fmove.s	$20(a5),fp3
L637
;	if (vertsUsed+6 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L639
L638
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L640
L639
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L640
;	Enable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetTexture(t);
	move.l	a3,-(a7)
	move.l	a2,-(a7)
	jsr	SetTexture__DRAWLIST__TP08xTEXSURF
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L642
L641
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L651
L642
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L650
L643
	tst.l	d0
	beq.b	L645
L644
	or.l	#1,$A(a0)
	bra.b	L646
L645
	and.l	#-2,$A(a0)
L646
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L648
L647
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L649
L648
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L649
L650
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L651
;		rfloat32 tu = ((x2-x1)/tSclX)+tOfsX;
	move.w	$14(a5),d0
	ext.l	d0
	move.w	d7,d1
	ext.l	d1
	sub.l	d1,d0
	fmove.l	d0,fp1
	fdiv.x	fp3,fp1
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp0
	fadd.x	fp0,fp1
;		rfloat32 tv = ((y2-y1)/tSclY)+tOfsY;
	move.w	d4,d0
	ext.l	d0
	move.w	d3,d1
	ext.l	d1
	sub.l	d1,d0
	fmove.l	d0,fp0
	fdiv.x	fp2,fp0
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp2
	fadd.x	fp2,fp0
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp2
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	fmove.s	fp0,$14(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "RectTlTxShV__DRAWLIST__TPUjssssP08xTEXSURFssff:0",CODE


;void DRAWLIST::RectTlTxShV(uint32* colour, S_2CRD, TEXARG)
	XDEF	RectTlTxShV__DRAWLIST__TPUjssssP08xTEXSURFssff
RectTlTxShV__DRAWLIST__TPUjssssP08xTEXSURFssff
L668	EQU	0
	link	a5,#L668
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3,-(a7)
	movem.l	$8(a5),a2/a6
	move.w	$1E(a5),d2
	move.w	$12(a5),d3
	move.w	$16(a5),d4
	move.w	$1C(a5),d5
	move.w	$10(a5),d7
	move.l	$18(a5),a3
	fmove.s	$24(a5),fp2
	fmove.s	$20(a5),fp3
L653
;	if (vertsUsed+6 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L655
L654
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L656
L655
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L656
;	Enable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetTexture(t);
	move.l	a3,-(a7)
	move.l	a2,-(a7)
	jsr	SetTexture__DRAWLIST__TP08xTEXSURF
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L658
L657
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L667
L658
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L666
L659
	tst.l	d0
	beq.b	L661
L660
	or.l	#1,$A(a0)
	bra.b	L662
L661
	and.l	#-2,$A(a0)
L662
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L664
L663
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L665
L664
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L665
L666
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L667
;		rfloat32 tu = ((x2-x1)/tSclX)+tOfsX;
	move.w	$14(a5),d0
	ext.l	d0
	move.w	d7,d1
	ext.l	d1
	sub.l	d1,d0
	fmove.l	d0,fp1
	fdiv.x	fp3,fp1
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp0
	fadd.x	fp0,fp1
;		rfloat32 tv = ((y2-y1)/tSclY)+tOfsY;
	move.w	d4,d0
	ext.l	d0
	move.w	d3,d1
	ext.l	d1
	sub.l	d1,d0
	fmove.l	d0,fp0
	fdiv.x	fp2,fp0
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp2
	fadd.x	fp2,fp0
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp2
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	fmove.s	fp0,$14(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "RectTlTxShA__DRAWLIST__TPUjssssP08xTEXSURFssff:0",CODE


;void DRAWLIST::RectTlTxShA(uint32* colour, S_2CRD, TEXARG)
	XDEF	RectTlTxShA__DRAWLIST__TPUjssssP08xTEXSURFssff
RectTlTxShA__DRAWLIST__TPUjssssP08xTEXSURFssff
L684	EQU	0
	link	a5,#L684
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3,-(a7)
	movem.l	$8(a5),a2/a6
	move.w	$1E(a5),d2
	move.w	$12(a5),d3
	move.w	$16(a5),d4
	move.w	$1C(a5),d5
	move.w	$10(a5),d7
	move.l	$18(a5),a3
	fmove.s	$24(a5),fp2
	fmove.s	$20(a5),fp3
L669
;	if (vertsUsed+6 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L671
L670
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L672
L671
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L672
;	Enable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetTexture(t);
	move.l	a3,-(a7)
	move.l	a2,-(a7)
	jsr	SetTexture__DRAWLIST__TP08xTEXSURF
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L674
L673
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L683
L674
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L682
L675
	tst.l	d0
	beq.b	L677
L676
	or.l	#1,$A(a0)
	bra.b	L678
L677
	and.l	#-2,$A(a0)
L678
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L680
L679
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L681
L680
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L681
L682
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L683
;		rfloat32 tu = ((x2-x1)/tSclX)+tOfsX;
	move.w	$14(a5),d0
	ext.l	d0
	move.w	d7,d1
	ext.l	d1
	sub.l	d1,d0
	fmove.l	d0,fp1
	fdiv.x	fp3,fp1
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp0
	fadd.x	fp0,fp1
;		rfloat32 tv = ((y2-y1)/tSclY)+tOfsY;
	move.w	d4,d0
	ext.l	d0
	move.w	d3,d1
	ext.l	d1
	sub.l	d1,d0
	fmove.l	d0,fp0
	fdiv.x	fp2,fp0
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp2
	fadd.x	fp2,fp0
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp2
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[2];
	move.l	$8(a6),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[3];
	move.l	$C(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp1,$10(a0)
; 		(v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,4(a0)
;	v->z = depth;
	fmove.s	fp2,$8(a0)
;	v->colour = colour[2];
	move.l	$8(a6),$18(a0)
;	v->u = tOfsX;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	fmove.s	fp0,$14(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "RectScTx__DRAWLIST__TUjssssP08xTEXSURFssff:0",CODE


;void DRAWLIST::RectScTx(uint32 colour, S_2CRD, TEXARG)
	XDEF	RectScTx__DRAWLIST__TUjssssP08xTEXSURFssff
RectScTx__DRAWLIST__TUjssssP08xTEXSURFssff
L704	EQU	0
	link	a5,#L704
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4,-(a7)
	move.l	$C(a5),d2
	move.w	$1E(a5),d3
	move.w	$1C(a5),d4
	move.w	$16(a5),d5
	move.w	$14(a5),d7
	move.l	$8(a5),a2
	move.l	$18(a5),a3
	fmove.s	$24(a5),fp3
	fmove.s	$20(a5),fp4
L685
;	if (vertsUsed+6 > vBufSize || instsUsed+6 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L687
L686
	move.l	$2A(a2),d0
	addq.l	#6,d0
	cmp.l	$22(a2),d0
	ble.b	L688
L687
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L688
;	Enable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetColour(colour);
	move.l	d2,-(a7)
	move.l	a2,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;	SetTexture(t);
	move.l	a3,-(a7)
	move.l	a2,-(a7)
	jsr	SetTexture__DRAWLIST__TP08xTEXSURF
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L690
L689
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L699
L690
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L698
L691
	tst.l	d0
	beq.b	L693
L692
	or.l	#1,$A(a0)
	bra.b	L694
L693
	and.l	#-2,$A(a0)
L694
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L696
L695
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L697
L696
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a6
	lea	$8(a6),a1
	move.l	a1,$1A(a0)
	move.l	a6,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L697
L698
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L699
;		rfloat32 tu = (t->Width()/tSclX)+tOfsX;
	move.l	a3,a0
	cmp.w	#0,a0
	beq.b	L701
L700
	addq.w	#4,a0
L701
	move.l	$8(a0),a1
	move.l	a0,d0
	add.l	$2C(a1),d0
	move.l	d0,-(a7)
	move.l	$28(a1),a1
	jsr	(a1)
	addq.w	#4,a7
	fmove.l	d0,fp2
	fdiv.x	fp4,fp2
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
	fadd.x	fp0,fp2
;		rfloat32 tv = (t->Height()/tSclY)+tOfsY;
	move.l	a3,a0
	cmp.w	#0,a0
	beq.b	L703
L702
	moveq	#4,d0
	add.l	a3,d0
	move.l	d0,a3
L703
	move.l	a3,a1
	move.l	$8(a1),a0
	move.l	a3,d0
	add.l	$24(a0),d0
	move.l	d0,-(a7)
	move.l	$20(a0),a0
	jsr	(a0)
	addq.w	#4,a7
	fmove.l	d0,fp0
	fdiv.x	fp3,fp0
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp1
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	$12(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tOfsX;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tOfsY;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	$12(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tOfsX;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x2;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	$12(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp2
	fmove.s	fp2,(a0)
;	v->y = y2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp2
	fmove.s	fp2,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour;
	move.l	d2,$18(a0)
; v->u = tOfsX;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	fmove.s	fp0,$14(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	fmovem.x (a7)+,fp2/fp3/fp4
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "RectScTxShH__DRAWLIST__TPUjssssP08xTEXSURFssff:0",CODE


;void DRAWLIST::RectScTxShH(uint32* colour, S_2CRD, TEXARG)
	XDEF	RectScTxShH__DRAWLIST__TPUjssssP08xTEXSURFssff
RectScTxShH__DRAWLIST__TPUjssssP08xTEXSURFssff
L724	EQU	-4
	link	a5,#L724
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4,-(a7)
	movem.l	$8(a5),a2/a6
	move.w	$1E(a5),d2
	move.w	$1C(a5),d3
	move.w	$16(a5),d4
	move.w	$14(a5),d5
	move.w	$12(a5),d7
	move.l	$18(a5),a3
	fmove.s	$24(a5),fp3
	fmove.s	$20(a5),fp4
L705
;	if (vertsUsed+6 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L707
L706
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L708
L707
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L708
;	Enable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetTexture(t);
	move.l	a3,-(a7)
	move.l	a2,-(a7)
	jsr	SetTexture__DRAWLIST__TP08xTEXSURF
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L710
L709
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L719
L710
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L718
L711
	tst.l	d0
	beq.b	L713
L712
	or.l	#1,$A(a0)
	bra.b	L714
L713
	and.l	#-2,$A(a0)
L714
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L716
L715
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L717
L716
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),-4(a5)
	move.l	-4(a5),a1
	lea	$8(a1),a1
	move.l	a1,$1A(a0)
	move.l	-4(a5),a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L717
L718
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L719
;		rfloat32 tu = (t->Width()/tSclX)+tOfsX;
	move.l	a3,a0
	cmp.w	#0,a0
	beq.b	L721
L720
	addq.w	#4,a0
L721
	move.l	$8(a0),a1
	move.l	a0,d0
	add.l	$2C(a1),d0
	move.l	d0,-(a7)
	move.l	$28(a1),a1
	jsr	(a1)
	addq.w	#4,a7
	fmove.l	d0,fp2
	fdiv.x	fp4,fp2
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fadd.x	fp0,fp2
;		rfloat32 tv = (t->Height()/tSclY)+tOfsY;
	move.l	a3,a0
	cmp.w	#0,a0
	beq.b	L723
L722
	moveq	#4,d0
	add.l	a3,d0
	move.l	d0,a3
L723
	move.l	a3,a1
	move.l	$8(a1),a0
	move.l	a3,d0
	add.l	$24(a0),d0
	move.l	d0,-(a7)
	move.l	$20(a0),a0
	jsr	(a0)
	addq.w	#4,a7
	fmove.l	d0,fp0
	fdiv.x	fp3,fp0
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp1
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp2
	fmove.s	fp2,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp2
	fmove.s	fp2,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	fmove.s	fp0,$14(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	fmovem.x (a7)+,fp2/fp3/fp4
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "RectScTxShV__DRAWLIST__TPUjssssP08xTEXSURFssff:0",CODE


;void DRAWLIST::RectScTxShV(uint32* colour, S_2CRD, TEXARG)
	XDEF	RectScTxShV__DRAWLIST__TPUjssssP08xTEXSURFssff
RectScTxShV__DRAWLIST__TPUjssssP08xTEXSURFssff
L744	EQU	-4
	link	a5,#L744
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4,-(a7)
	movem.l	$8(a5),a2/a6
	move.w	$1E(a5),d2
	move.w	$1C(a5),d3
	move.w	$16(a5),d4
	move.w	$14(a5),d5
	move.w	$12(a5),d7
	move.l	$18(a5),a3
	fmove.s	$24(a5),fp3
	fmove.s	$20(a5),fp4
L725
;	if (vertsUsed+6 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L727
L726
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L728
L727
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L728
;	Enable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetTexture(t);
	move.l	a3,-(a7)
	move.l	a2,-(a7)
	jsr	SetTexture__DRAWLIST__TP08xTEXSURF
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L730
L729
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L739
L730
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L738
L731
	tst.l	d0
	beq.b	L733
L732
	or.l	#1,$A(a0)
	bra.b	L734
L733
	and.l	#-2,$A(a0)
L734
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L736
L735
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L737
L736
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),-4(a5)
	move.l	-4(a5),a1
	lea	$8(a1),a1
	move.l	a1,$1A(a0)
	move.l	-4(a5),a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L737
L738
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L739
;		rfloat32 tu = (t->Width()/tSclX)+tOfsX;
	move.l	a3,a0
	cmp.w	#0,a0
	beq.b	L741
L740
	addq.w	#4,a0
L741
	move.l	$8(a0),a1
	move.l	a0,d0
	add.l	$2C(a1),d0
	move.l	d0,-(a7)
	move.l	$28(a1),a1
	jsr	(a1)
	addq.w	#4,a7
	fmove.l	d0,fp2
	fdiv.x	fp4,fp2
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fadd.x	fp0,fp2
;		rfloat32 tv = (t->Height()/tSclY)+tOfsY;
	move.l	a3,a0
	cmp.w	#0,a0
	beq.b	L743
L742
	moveq	#4,d0
	add.l	a3,d0
	move.l	d0,a3
L743
	move.l	a3,a1
	move.l	$8(a1),a0
	move.l	a3,d0
	add.l	$24(a0),d0
	move.l	d0,-(a7)
	move.l	$20(a0),a0
	jsr	(a0)
	addq.w	#4,a7
	fmove.l	d0,fp0
	fdiv.x	fp3,fp0
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp1
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp2
	fmove.s	fp2,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp2
	fmove.s	fp2,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	fmove.s	fp0,$14(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	fmovem.x (a7)+,fp2/fp3/fp4
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "RectScTxShA__DRAWLIST__TPUjssssP08xTEXSURFssff:0",CODE


;void DRAWLIST::RectScTxShA(uint32* colour, S_2CRD, TEXARG)
	XDEF	RectScTxShA__DRAWLIST__TPUjssssP08xTEXSURFssff
RectScTxShA__DRAWLIST__TPUjssssP08xTEXSURFssff
L764	EQU	-4
	link	a5,#L764
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4,-(a7)
	movem.l	$8(a5),a2/a6
	move.w	$1E(a5),d2
	move.w	$1C(a5),d3
	move.w	$16(a5),d4
	move.w	$14(a5),d5
	move.w	$12(a5),d7
	move.l	$18(a5),a3
	fmove.s	$24(a5),fp3
	fmove.s	$20(a5),fp4
L745
;	if (vertsUsed+6 > vBufSize || instsUsed+5 > iBufSize)
	move.l	$26(a2),d0
	addq.l	#6,d0
	cmp.l	$1E(a2),d0
	bgt.b	L747
L746
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L748
L747
;		Flush();
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L748
;	Enable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetTexture(t);
	move.l	a3,-(a7)
	move.l	a2,-(a7)
	jsr	SetTexture__DRAWLIST__TP08xTEXSURF
	addq.w	#$8,a7
;	if (commandReg==DRW_TRIANGLES)		
	move.l	$3A(a2),d0
	cmp.l	#$9,d0
	bne.b	L750
L749
;	if (commandReg==DRW_TRIANGLES)		(c
	move.l	$1A(a2),a0
	subq.w	#$8,a0
	addq.l	#6,4(a0)
	bra	L759
L750
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L758
L751
	tst.l	d0
	beq.b	L753
L752
	or.l	#1,$A(a0)
	bra.b	L754
L753
	and.l	#-2,$A(a0)
L754
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L756
L755
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L757
L756
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),-4(a5)
	move.l	-4(a5),a1
	lea	$8(a1),a1
	move.l	a1,$1A(a0)
	move.l	-4(a5),a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L757
L758
;		commandReg = currInst->opcode = DRW_TRIANGLES;
	move.l	$1A(a2),a0
	move.l	#$9,(a0)
	move.l	#$9,$3A(a2)
; (currInst++)->numVerts = 6;
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	#6,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
L759
;		rfloat32 tu = (t->Width()/tSclX)+tOfsX;
	move.l	a3,a0
	cmp.w	#0,a0
	beq.b	L761
L760
	addq.w	#4,a0
L761
	move.l	$8(a0),a1
	move.l	a0,d0
	add.l	$2C(a1),d0
	move.l	d0,-(a7)
	move.l	$28(a1),a1
	jsr	(a1)
	addq.w	#4,a7
	fmove.l	d0,fp2
	fdiv.x	fp4,fp2
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fadd.x	fp0,fp2
;		rfloat32 tv = (t->Height()/tSclY)+tOfsY;
	move.l	a3,a0
	cmp.w	#0,a0
	beq.b	L763
L762
	moveq	#4,d0
	add.l	a3,d0
	move.l	d0,a3
L763
	move.l	a3,a1
	move.l	$8(a1),a0
	move.l	a3,d0
	add.l	$24(a0),d0
	move.l	d0,-(a7)
	move.l	$20(a0),a0
	jsr	(a0)
	addq.w	#4,a7
	fmove.l	d0,fp0
	fdiv.x	fp3,fp0
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
;		register DVERTEX* v = currVert;
	move.l	$16(a2),a0
;		rfloat32 depth = depthReg;
	fmove.s	$46(a2),fp1
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[0];
	move.l	a6,a1
	move.l	(a1),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[2];
	move.l	$8(a6),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[1];
	move.l	4(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tOfsY;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp3
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp3,$14(a1)
;		v->x = x2;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp3
	fmove.s	fp3,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[3];
	move.l	$C(a6),$18(a0)
;	v->u = tu;
	fmove.s	fp2,$10(a0)
; 		(v++)->v = tv;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$14(a1)
;		v->x = x1;
	move.w	$10(a5),d0
	ext.l	d0
	fmove.l	d0,fp2
	fmove.s	fp2,(a0)
;	v->y = y2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp2
	fmove.s	fp2,4(a0)
;	v->z = depth;
	fmove.s	fp1,$8(a0)
;	v->colour = colour[2];
	move.l	$8(a6),$18(a0)
;	v->u = tOfsX;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,$10(a0)
; (v++)->v = tv;
	move.l	a0,a1
	fmove.s	fp0,$14(a1)
;		currVert = v;
	lea	$20(a0),a0
	move.l	a0,$16(a2)
;		vertsUsed += 6;
	addq.l	#6,$26(a2)
	fmovem.x (a7)+,fp2/fp3/fp4
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "Circle__DRAWLIST__TUjsss:0",CODE


;void DRAWLIST::Circle(uint32 colour, S_1CRD, sint16 rad)
	XDEF	Circle__DRAWLIST__TUjsss
Circle__DRAWLIST__TUjsss
	movem.l	d2-d6/a2/a3,-(a7)
	fmovem.x fp2/fp3/fp4/fp5/fp6/fp7,-(a7)
	move.w	$74(a7),d3
	move.w	$72(a7),d4
	move.w	$70(a7),d5
	move.l	$6C(a7),d6
	move.l	$68(a7),a2
L765
;	if (rad > 96)				
	cmp.w	#$60,d3
	ble.b	L767
L766
;	if (rad > 96)				segs = 4*DRAW_TSIZE;
	moveq	#$40,d2
	bra.b	L772
L767
;	else if (rad > 48)	
	cmp.w	#$30,d3
	ble.b	L769
L768
;	else if (rad > 48)	segs = 2*DRAW_TSIZE;
	moveq	#$20,d2
	bra.b	L772
L769
;	else if (rad > 12)	
	cmp.w	#$C,d3
	ble.b	L771
L770
;	else if (rad > 12)	segs = DRAW_TSIZE;
	moveq	#$10,d2
	bra.b	L772
L771
;	else								segs = DRAW_TSIZE/2;
	moveq	#$8,d2
L772
;	if (vertsUsed+segs+2 > vBufSize || instsUsed+5 > iBufSize) 
	move.l	$26(a2),d0
	add.l	d2,d0
	addq.l	#2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L774
L773
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L775
L774
;sUsed+segs+2 > vB
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L775
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Disable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetColour(colour);
	move.l	d6,-(a7)
	move.l	a2,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L783
L776
	tst.l	d0
	beq.b	L778
L777
	or.l	#1,$A(a0)
	bra.b	L779
L778
	and.l	#-2,$A(a0)
L779
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L781
L780
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L782
L781
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L782
L783
;		commandReg = currInst->opcode = DRW_TRIFAN;
	move.l	$1A(a2),a0
	move.l	#$A,(a0)
	move.l	#$A,$3A(a2)
; (currInst++)->numVerts = segs+2;
	move.l	d2,d0
	addq.l	#2,d0
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d0,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
;		rfloat32 fx = x;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp2
;		rfloat32 fy = y;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
;		rfloat32 fr = rad;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp5
;		register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;		rfloat32 fd = depthReg;
	fmove.s	$46(a2),fp0
;		v->x = fx;
	fmove.s	fp2,(a0)
;			v->y = fy;
	fmove.s	fp1,4(a0)
;			(v++)->z = fd;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp0,$8(a1)
;		segs = (4*DRAW_TSIZE)/segs;
	moveq	#$40,d0
	divsl.l	d2,d0
	move.l	d0,d2
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	moveq	#$10,d1
	divsl.l	d2,d1
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp2,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp1,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d1,d0
	moveq	#5,d3
	asl.l	d3,d0
	add.l	d0,a0
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp2,fp3
	fadd.x	fp5,fp3
	fmove.s	fp3,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp1,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d1,d0
	moveq	#5,d3
	asl.l	d3,d0
	add.l	d0,a0
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp2,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp1,fp3
	fadd.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d1,d0
	moveq	#5,d3
	asl.l	d3,d0
	add.l	d0,a0
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp2,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp1,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d1,d0
	moveq	#5,d3
	asl.l	d3,d0
	add.l	d0,a0
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp2,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp1,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	moveq	#1,d3
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d2,d0
	bra	L785
L784
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.x	fp5,fp4
	fmul.s	0(a1,d0.l*4),fp4
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	moveq	#$10,d4
	sub.l	d0,d4
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d4.l*4),fp3
	fmul.x	fp5,fp3
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d3,d4
	asl.l	#5,d4
	move.l	$16(a2),a0
	add.l	d4,a0
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp2,fp6
	fadd.x	fp4,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp1,fp6
	fsub.x	fp3,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d1,d4
	moveq	#5,d5
	asl.l	d5,d4
	add.l	d4,a0
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp2,fp6
	fadd.x	fp3,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp1,fp6
	fadd.x	fp4,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d1,d4
	moveq	#5,d5
	asl.l	d5,d4
	add.l	d4,a0
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp2,fp6
	fsub.x	fp4,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp1,fp6
	fadd.x	fp3,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	move.l	d1,d4
	moveq	#5,d5
	asl.l	d5,d4
	add.l	d4,a0
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp2,fp6
	fsub.x	fp3,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.x	fp1,fp3
	fsub.x	fp4,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	fmove.s	fp0,$8(a0)
	addq.l	#1,d3
	add.l	d2,d0
L785
	cmp.l	#$10,d0
	blt	L784
L786
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
;		CIRCLE_EDGE(v,fx,fy,fr,fd,segs)
	lea	$40(a0),a0
	move.l	a0,$16(a2)
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d6/a2/a3
	rts

	SECTION "CircleShC__DRAWLIST__TPUjsss:0",CODE


;void DRAWLIST::CircleShC(uint32* colour, S_1CRD, sint16 rad)
	XDEF	CircleShC__DRAWLIST__TPUjsss
CircleShC__DRAWLIST__TPUjsss
	movem.l	d2-d6/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4/fp5/fp6/fp7,-(a7)
	movem.l	$6C(a7),a2/a3
	move.w	$78(a7),d2
	move.w	$76(a7),d4
	move.w	$74(a7),d5
L787
;	if (rad > 96)				
	cmp.w	#$60,d2
	ble.b	L789
L788
;	if (rad > 96)				segs = 4*DRAW_TSIZE;
	moveq	#$40,d3
	bra.b	L794
L789
;	else if (rad > 48)	
	cmp.w	#$30,d2
	ble.b	L791
L790
;	else if (rad > 48)	segs = 2*DRAW_TSIZE;
	moveq	#$20,d3
	bra.b	L794
L791
;	else if (rad > 12)	
	cmp.w	#$C,d2
	ble.b	L793
L792
;	else if (rad > 12)	segs = DRAW_TSIZE;
	moveq	#$10,d3
	bra.b	L794
L793
;	else								segs = DRAW_TSIZE/2;
	moveq	#$8,d3
L794
;	if (vertsUsed+segs+2 > vBufSize || instsUsed+4 > iBufSize) 
	move.l	$26(a2),d0
	add.l	d3,d0
	addq.l	#2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L796
L795
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L797
L796
;sUsed+segs+2 > vB
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L797
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L805
L798
	tst.l	d0
	beq.b	L800
L799
	or.l	#1,$A(a0)
	bra.b	L801
L800
	and.l	#-2,$A(a0)
L801
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L803
L802
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L804
L803
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a6
	lea	$8(a6),a1
	move.l	a1,$1A(a0)
	move.l	a6,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L804
L805
;		commandReg = currInst->opcode = DRW_TRIFAN;
	move.l	$1A(a2),a0
	move.l	#$A,(a0)
	move.l	#$A,$3A(a2)
; (currInst++)->numVerts = segs+2;
	move.l	d3,d0
	addq.l	#2,d0
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d0,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
;		rfloat32 fx = x;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp2
;		rfloat32 fy = y;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp1
;		rfloat32 fr = rad;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp5
;		register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;		rfloat32 fd = depthReg;
	fmove.s	$46(a2),fp0
;		ruint32 clr = *(colour++);
	move.l	(a3)+,d0
;		v->x = fx;
	fmove.s	fp2,(a0)
;			v->y = fy;
	fmove.s	fp1,4(a0)
;			v->z = fd;
	fmove.s	fp0,$8(a0)
;	(v++)->colour = clr;
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		clr = *colour;
	move.l	a3,a1
	move.l	(a1),d0
;		segs = (4*DRAW_TSIZE)/segs;
	moveq	#$40,d1
	divsl.l	d3,d1
	move.l	d1,d3
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	moveq	#$10,d2
	divsl.l	d3,d2
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp2,fp3
	fadd.x	fp5,fp3
	fmove.s	fp3,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp1,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp3
	fadd.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp2,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp1,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	moveq	#1,d4
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d3,d1
	bra	L807
L806
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.x	fp5,fp4
	fmul.s	0(a1,d1.l*4),fp4
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	moveq	#$10,d5
	sub.l	d1,d5
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d5.l*4),fp3
	fmul.x	fp5,fp3
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d4,d5
	asl.l	#5,d5
	move.l	$16(a2),a0
	add.l	d5,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp2,fp6
	fadd.x	fp4,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp6
	fsub.x	fp3,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp2,fp6
	fadd.x	fp3,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp6
	fadd.x	fp4,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp2,fp6
	fsub.x	fp4,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp6
	fadd.x	fp3,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp2,fp6
	fsub.x	fp3,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp3
	fsub.x	fp4,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
	addq.l	#1,d4
	add.l	d3,d1
L807
	cmp.l	#$10,d1
	blt	L806
L808
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	lea	$40(a0),a0
	move.l	a0,$16(a2)
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d6/a2/a3/a6
	rts

	SECTION "CircleShPt__DRAWLIST__TPUjsssss:0",CODE


;void DRAWLIST::CircleShPt(uint32* colour, S_2CRD, sint16 rad)
	XDEF	CircleShPt__DRAWLIST__TPUjsssss
CircleShPt__DRAWLIST__TPUjsssss
L831	EQU	-$14
	link	a5,#L831
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4/fp5/fp6/fp7,-(a7)
	movem.l	$8(a5),a2/a3
	move.w	$18(a5),d2
	move.w	$12(a5),d4
	move.w	$10(a5),d5
	move.w	$16(a5),d7
L809
;	if (rad > 96)				
	cmp.w	#$60,d2
	ble.b	L811
L810
;	if (rad > 96)				segs = 4*DRAW_TSIZE;
	moveq	#$40,d3
	bra.b	L816
L811
;	else if (rad > 48)	
	cmp.w	#$30,d2
	ble.b	L813
L812
;	else if (rad > 48)	segs = 2*DRAW_TSIZE;
	moveq	#$20,d3
	bra.b	L816
L813
;	else if (rad > 12)	
	cmp.w	#$C,d2
	ble.b	L815
L814
;	else if (rad > 12)	segs = DRAW_TSIZE;
	moveq	#$10,d3
	bra.b	L816
L815
;	else								segs = DRAW_TSIZE/2;
	moveq	#$8,d3
L816
;	if (vertsUsed+segs+2 > vBufSize || instsUsed+4 > iBufSize) 
	move.l	$26(a2),d0
	add.l	d3,d0
	addq.l	#2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L818
L817
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L819
L818
;sUsed+segs+2 > vB
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L819
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L827
L820
	tst.l	d0
	beq.b	L822
L821
	or.l	#1,$A(a0)
	bra.b	L823
L822
	and.l	#-2,$A(a0)
L823
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L825
L824
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L826
L825
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a6
	lea	$8(a6),a1
	move.l	a1,$1A(a0)
	move.l	a6,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L826
L827
;		commandReg = currInst->opcode = DRW_TRIFAN;
	move.l	$1A(a2),a0
	move.l	#$A,(a0)
	move.l	#$A,$3A(a2)
; (currInst++)->numVerts = segs+2;
	move.l	d3,d0
	addq.l	#2,d0
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d0,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
;		rfloat32 fx = x2;
	move.w	$14(a5),d0
	ext.l	d0
	fmove.l	d0,fp1
;		rfloat32 fy = y2;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp0
;		rfloat32 fr = rad;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp5
;		register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;		rfloat32 fd = depthReg;
	fmove.s	$46(a2),fp2
;		ruint32 clr = *(colour++);
	move.l	(a3)+,d0
;		v->x = fx;
	fmove.s	fp1,(a0)
;			v->y = fy;
	fmove.s	fp0,4(a0)
;			v->z = fd;
	fmove.s	fp2,$8(a0)
;	(v++)->colour = clr;
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		fx = x1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp1
; fy = y1;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
;		clr = *colour;
	move.l	a3,a1
	move.l	(a1),d0
;		segs = (4*DRAW_TSIZE)/segs;
	moveq	#$40,d1
	divsl.l	d3,d1
	move.l	d1,d3
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	moveq	#$10,d2
	divsl.l	d3,d2
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp1,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp0,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp3
	fadd.x	fp5,fp3
	fmove.s	fp3,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp1,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp0,fp3
	fadd.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp0,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp1,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp0,fp3
	fsub.x	fp5,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	moveq	#1,d4
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d3,d1
	bra	L829
L828
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.x	fp5,fp4
	fmul.s	0(a1,d1.l*4),fp4
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	moveq	#$10,d5
	sub.l	d1,d5
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d5.l*4),fp3
	fmul.x	fp5,fp3
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d4,d5
	asl.l	#5,d5
	move.l	$16(a2),a0
	add.l	d5,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp6
	fadd.x	fp4,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp0,fp6
	fsub.x	fp3,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp6
	fadd.x	fp3,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp0,fp6
	fadd.x	fp4,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp6
	fsub.x	fp4,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp0,fp6
	fadd.x	fp3,fp6
	fmove.s	fp6,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp1,fp6
	fsub.x	fp3,fp6
	fmove.s	fp6,(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.x	fp0,fp3
	fsub.x	fp4,fp3
	fmove.s	fp3,4(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	fmove.s	fp2,$8(a0)
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	move.l	d0,$18(a0)
	addq.l	#1,d4
	add.l	d3,d1
L829
	cmp.l	#$10,d1
	blt	L828
L830
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
;		CIRCLE_EDGE_CLR(v,fx,fy,fr
	lea	$40(a0),a0
	move.l	a0,$16(a2)
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "Elipse__DRAWLIST__TUjssss:0",CODE


;void DRAWLIST::Elipse(uint32 col, S_2CRD)
	XDEF	Elipse__DRAWLIST__TUjssss
Elipse__DRAWLIST__TUjssss
L857	EQU	-$1C
	link	a5,#L857
	movem.l	d2-d7/a2/a3,-(a7)
	fmovem.x fp2/fp3/fp4/fp5/fp6/fp7,-(a7)
	move.w	$16(a5),d3
	move.w	$14(a5),d4
	move.w	$12(a5),d5
	move.l	$C(a5),d6
	move.w	$10(a5),d7
	move.l	$8(a5),a2
L832
;		sint32 rad = (x2>y2) ? x2 : y2;
	cmp.w	d3,d4
	ble.b	L834
L833
	move.w	d4,d0
	bra.b	L835
L834
	move.w	d3,d0
L835
	ext.l	d0
;		if (rad > 96)				
	cmp.l	#$60,d0
	ble.b	L837
L836
;		if (rad > 96)				segs = 4*DRAW_TSIZE;
	moveq	#$40,d2
	bra.b	L842
L837
;		else if (rad > 48)	
	cmp.l	#$30,d0
	ble.b	L839
L838
;		else if (rad > 48)	segs = 2*DRAW_TSIZE;
	moveq	#$20,d2
	bra.b	L842
L839
;		else if (rad > 12)	
	cmp.l	#$C,d0
	ble.b	L841
L840
;		else if (rad > 12)	segs = DRAW_TSIZE;
	moveq	#$10,d2
	bra.b	L842
L841
;		else								segs = DRAW_TSIZE/2;
	moveq	#$8,d2
L842
;	if (vertsUsed+segs+2 > vBufSize || instsUsed+5 > iBufSize) 
	move.l	$26(a2),d0
	add.l	d2,d0
	addq.l	#2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L844
L843
	move.l	$2A(a2),d0
	addq.l	#5,d0
	cmp.l	$22(a2),d0
	ble.b	L845
L844
;sUsed+segs+2 > vB
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L845
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Disable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	SetColour(col);
	move.l	d6,-(a7)
	move.l	a2,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L853
L846
	tst.l	d0
	beq.b	L848
L847
	or.l	#1,$A(a0)
	bra.b	L849
L848
	and.l	#-2,$A(a0)
L849
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L851
L850
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L852
L851
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a3
	lea	$8(a3),a1
	move.l	a1,$1A(a0)
	move.l	a3,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L852
L853
;		commandReg = currInst->opcode = DRW_TRIFAN;
	move.l	$1A(a2),a0
	move.l	#$A,(a0)
	move.l	#$A,$3A(a2)
; (currInst++)->numVerts = segs+2;
	move.l	d2,d0
	addq.l	#2,d0
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d0,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
;		rfloat32 fx = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp4
;		rfloat32 fy = y1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
;		rfloat32 frx = x2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,-$1C(a5)
; rfloat32 fry = y2;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp5
;		register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;		rfloat32 fd = depthReg;
	fmove.s	$46(a2),fp2
;		v->x = fx;
	fmove.s	fp4,(a0)
;			v->y = fy;
	fmove.s	fp3,4(a0)
;			(v++)->z = fd;
	move.l	a0,a1
	add.w	#$20,a0
	fmove.s	fp2,$8(a1)
;		segs = (4*DRAW_TSIZE)/segs;
	moveq	#$40,d0
	divsl.l	d2,d0
	move.l	d0,d2
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	moveq	#$10,d1
	divsl.l	d2,d1
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp4,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp3,fp0
	fsub.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d1,d0
	moveq	#5,d3
	asl.l	d3,d0
	add.l	d0,a0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp4,fp0
	fadd.s	-$1C(a5),fp0
	fmove.s	fp0,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp3,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d1,d0
	moveq	#5,d3
	asl.l	d3,d0
	add.l	d0,a0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp4,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp3,fp0
	fadd.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d1,d0
	moveq	#5,d3
	asl.l	d3,d0
	add.l	d0,a0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp4,fp0
	fsub.s	-$1C(a5),fp0
	fmove.s	fp0,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp3,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d1,d0
	moveq	#5,d3
	asl.l	d3,d0
	add.l	d0,a0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp4,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp3,fp0
	fsub.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	moveq	#1,d3
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d2,d0
	bra	L855
L854
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d0.l*4),fp1
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	moveq	#$10,d4
	sub.l	d0,d4
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d4.l*4),fp0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d3,d4
	asl.l	#5,d4
	move.l	$16(a2),a0
	add.l	d4,a0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp1,fp6
	fmul.s	-$1C(a5),fp6
	fmove.s	fp4,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp0,fp6
	fmul.x	fp5,fp6
	fmove.s	fp3,fp7
	fsub.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d1,d4
	moveq	#5,d5
	asl.l	d5,d4
	add.l	d4,a0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp0,fp6
	fmul.s	-$1C(a5),fp6
	fmove.s	fp4,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp1,fp6
	fmul.x	fp5,fp6
	fmove.s	fp3,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d1,d4
	moveq	#5,d5
	asl.l	d5,d4
	add.l	d4,a0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp1,fp6
	fmul.s	-$1C(a5),fp6
	fmove.s	fp4,fp7
	fsub.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.x	fp0,fp6
	fmul.x	fp5,fp6
	fmove.s	fp3,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	move.l	d1,d4
	moveq	#5,d5
	asl.l	d5,d4
	add.l	d4,a0
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmul.s	-$1C(a5),fp0
	fmove.x	fp4,fp6
	fsub.x	fp0,fp6
	fmove.s	fp6,(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmul.x	fp5,fp1
	fmove.x	fp3,fp0
	fsub.x	fp1,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	fmove.s	fp2,$8(a0)
	addq.l	#1,d3
	add.l	d2,d0
L855
	cmp.l	#$10,d0
	blt	L854
L856
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
;		ELIPSE_EDGE(v,fx,fy,frx,fry,f
	lea	$40(a0),a0
	move.l	a0,$16(a2)
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d7/a2/a3
	unlk	a5
	rts

	SECTION "ElipseShC__DRAWLIST__TPUjssss:0",CODE


;void DRAWLIST::ElipseShC(uint32* col, S_2CRD)
	XDEF	ElipseShC__DRAWLIST__TPUjssss
ElipseShC__DRAWLIST__TPUjssss
L883	EQU	-$20
	link	a5,#L883
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4/fp5/fp6/fp7,-(a7)
	movem.l	$8(a5),a2/a3
	move.w	$16(a5),d2
	move.w	$14(a5),d4
	move.w	$12(a5),d5
	move.w	$10(a5),d7
L858
;		sint32 rad = (x2>y2) ? x2 : y2;
	cmp.w	d2,d4
	ble.b	L860
L859
	move.w	d4,d0
	bra.b	L861
L860
	move.w	d2,d0
L861
	ext.l	d0
;		if (rad > 96)				
	cmp.l	#$60,d0
	ble.b	L863
L862
;		if (rad > 96)				segs = 4*DRAW_TSIZE;
	moveq	#$40,d3
	bra.b	L868
L863
;		else if (rad > 48)	
	cmp.l	#$30,d0
	ble.b	L865
L864
;		else if (rad > 48)	segs = 2*DRAW_TSIZE;
	moveq	#$20,d3
	bra.b	L868
L865
;		else if (rad > 12)	
	cmp.l	#$C,d0
	ble.b	L867
L866
;		else if (rad > 12)	segs = DRAW_TSIZE;
	moveq	#$10,d3
	bra.b	L868
L867
;		else								segs = DRAW_TSIZE/2;
	moveq	#$8,d3
L868
;	if (vertsUsed+segs+2 > vBufSize || instsUsed+4 > iBufSize) 
	move.l	$26(a2),d0
	add.l	d3,d0
	addq.l	#2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L870
L869
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L871
L870
;sUsed+segs+2 > vB
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L871
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L879
L872
	tst.l	d0
	beq.b	L874
L873
	or.l	#1,$A(a0)
	bra.b	L875
L874
	and.l	#-2,$A(a0)
L875
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L877
L876
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L878
L877
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a6
	lea	$8(a6),a1
	move.l	a1,$1A(a0)
	move.l	a6,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L878
L879
;		commandReg = currInst->opcode = DRW_TRIFAN;
	move.l	$1A(a2),a0
	move.l	#$A,(a0)
	move.l	#$A,$3A(a2)
; (currInst++)->numVerts = segs+2;
	move.l	d3,d0
	addq.l	#2,d0
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d0,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
;		rfloat32 fx = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp4
;		rfloat32 fy = y1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp3
;		rfloat32 frx = x2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,-$20(a5)
; rfloat32 fry = y2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp5
;		register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;		rfloat32 fd = depthReg;
	fmove.s	$46(a2),fp2
;		ruint32 clr = *(col++);
	move.l	(a3)+,d0
;		v->x = fx;
	fmove.s	fp4,(a0)
;			v->y = fy;
	fmove.s	fp3,4(a0)
;			v->z = fd;
	fmove.s	fp2,$8(a0)
;	(v++)->colour = clr;
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		clr = *col;
	move.l	a3,a1
	move.l	(a1),d0
;		segs = (4*DRAW_TSIZE)/segs;
	moveq	#$40,d1
	divsl.l	d3,d1
	move.l	d1,d3
;		ELIPSE_EDGE_CLR(v,fx,
	moveq	#$10,d2
	divsl.l	d3,d2
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp3,fp0
	fsub.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp4,fp0
	fadd.s	-$20(a5),fp0
	fmove.s	fp0,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp3,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp3,fp0
	fadd.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp4,fp0
	fsub.s	-$20(a5),fp0
	fmove.s	fp0,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp3,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp3,fp0
	fsub.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	moveq	#1,d4
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d3,d1
	bra	L881
L880
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d1.l*4),fp1
;		ELIPSE_EDGE_CLR(v,fx,
	moveq	#$10,d5
	sub.l	d1,d5
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d5.l*4),fp0
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d4,d5
	asl.l	#5,d5
	move.l	$16(a2),a0
	add.l	d5,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp1,fp6
	fmul.s	-$20(a5),fp6
	fmove.s	fp4,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp0,fp6
	fmul.x	fp5,fp6
	fmove.s	fp3,fp7
	fsub.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp0,fp6
	fmul.s	-$20(a5),fp6
	fmove.s	fp4,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp1,fp6
	fmul.x	fp5,fp6
	fmove.s	fp3,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp1,fp6
	fmul.s	-$20(a5),fp6
	fmove.s	fp4,fp7
	fsub.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp0,fp6
	fmul.x	fp5,fp6
	fmove.s	fp3,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmul.s	-$20(a5),fp0
	fmove.x	fp4,fp6
	fsub.x	fp0,fp6
	fmove.s	fp6,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmul.x	fp5,fp1
	fmove.x	fp3,fp0
	fsub.x	fp1,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
	addq.l	#1,d4
	add.l	d3,d1
L881
	cmp.l	#$10,d1
	blt	L880
L882
;		ELIPSE_EDGE_CLR(v,fx,
;		ELIPSE_EDGE_CLR(v,fx,
	lea	$40(a0),a0
	move.l	a0,$16(a2)
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	SECTION "ElipseShPt__DRAWLIST__TPUjssssss:0",CODE


;void DRAWLIST::ElipseShPt(uint32* col, S_3CRD)
	XDEF	ElipseShPt__DRAWLIST__TPUjssssss
ElipseShPt__DRAWLIST__TPUjssssss
L909	EQU	-$20
	link	a5,#L909
	movem.l	d2-d7/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4/fp5/fp6/fp7,-(a7)
	movem.l	$8(a5),a2/a3
	move.w	$16(a5),d2
	move.w	$14(a5),d4
	move.w	$12(a5),d5
	move.w	$10(a5),d7
L884
;		sint32 rad = (x2>y2) ? x2 : y2;
	cmp.w	d2,d4
	ble.b	L886
L885
	move.w	d4,d0
	bra.b	L887
L886
	move.w	d2,d0
L887
	ext.l	d0
;		if (rad > 96)				
	cmp.l	#$60,d0
	ble.b	L889
L888
;		if (rad > 96)				segs = 4*DRAW_TSIZE;
	moveq	#$40,d3
	bra.b	L894
L889
;		else if (rad > 48)	
	cmp.l	#$30,d0
	ble.b	L891
L890
;		else if (rad > 48)	segs = 2*DRAW_TSIZE;
	moveq	#$20,d3
	bra.b	L894
L891
;		else if (rad > 12)	
	cmp.l	#$C,d0
	ble.b	L893
L892
;		else if (rad > 12)	segs = DRAW_TSIZE;
	moveq	#$10,d3
	bra.b	L894
L893
;		else								segs = DRAW_TSIZE/2;
	moveq	#$8,d3
L894
;	if (vertsUsed+segs+2 > vBufSize || instsUsed+4 > iBufSize) 
	move.l	$26(a2),d0
	add.l	d3,d0
	addq.l	#2,d0
	cmp.l	$1E(a2),d0
	bgt.b	L896
L895
	move.l	$2A(a2),d0
	addq.l	#4,d0
	cmp.l	$22(a2),d0
	ble.b	L897
L896
;sUsed+segs+2 > vB
	move.l	a2,-(a7)
	jsr	Flush__DRAWLIST__T
	addq.w	#4,a7
L897
;	Disable(TEXTURE);
	pea	$100.w
	move.l	a2,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	Enable(GOURAUD);
	pea	$400.w
	move.l	a2,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;		LockMode(LOCKED);
	moveq	#1,d0
	move.l	a2,a0
	move.l	$A(a0),d1
	and.l	#1,d1
	cmp.l	d0,d1
	beq.b	L905
L898
	tst.l	d0
	beq.b	L900
L899
	or.l	#1,$A(a0)
	bra.b	L901
L900
	and.l	#-2,$A(a0)
L901
	move.l	$3A(a0),d1
	cmp.l	#$1A,d1
	bne.b	L903
L902
	move.l	$1A(a0),a0
	move.l	d0,-4(a0)
	bra.b	L904
L903
	move.l	$1A(a0),a1
	move.l	#$1A,(a1)
	move.l	#$1A,$3A(a0)
	move.l	$1A(a0),a6
	lea	$8(a6),a1
	move.l	a1,$1A(a0)
	move.l	a6,a1
	move.l	d0,4(a1)
	addq.l	#1,$2A(a0)
L904
L905
;		commandReg = currInst->opcode = DRW_TRIFAN;
	move.l	$1A(a2),a0
	move.l	#$A,(a0)
	move.l	#$A,$3A(a2)
; (currInst++)->numVerts = segs+2;
	move.l	d3,d0
	addq.l	#2,d0
	move.l	$1A(a2),a1
	lea	$8(a1),a0
	move.l	a0,$1A(a2)
	move.l	d0,4(a1)
;		instsUsed++;
	addq.l	#1,$2A(a2)
;		rfloat32 fx = x3;
	move.w	$18(a5),d0
	ext.l	d0
	fmove.l	d0,fp3
;		rfloat32 fy = y3;
	move.w	$1A(a5),d0
	ext.l	d0
	fmove.l	d0,fp2
;		rfloat32 frx = x2;
	move.w	d4,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,-$20(a5)
; rfloat32 fry = y2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp5
;		register DVERTEX* v = currVert++;
	move.l	$16(a2),a0
	lea	$20(a0),a1
	move.l	a1,$16(a2)
;		rfloat32 fd = depthReg;
	fmove.s	$46(a2),fp4
;		ruint32 clr = *(col++);
	move.l	(a3)+,d0
;		v->x = fx;
	fmove.s	fp3,(a0)
;			v->y = fy;
	fmove.s	fp2,4(a0)
;			v->z = fd;
	fmove.s	fp4,$8(a0)
;	(v++)->colour = clr;
	move.l	a0,a1
	add.w	#$20,a0
	move.l	d0,$18(a1)
;		fx = x1;
	move.w	d7,d0
	ext.l	d0
	fmove.l	d0,fp3
; fy = y1;
	move.w	d5,d0
	ext.l	d0
	fmove.l	d0,fp2
;		clr = *col;
	move.l	a3,a1
	move.l	(a1),d0
;		segs = (4*DRAW_TSIZE)/segs;
	moveq	#$40,d1
	divsl.l	d3,d1
	move.l	d1,d3
;		ELIPSE_EDGE_CLR(v,fx,
	moveq	#$10,d2
	divsl.l	d3,d2
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp3,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp2,fp0
	fsub.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp3,fp0
	fadd.s	-$20(a5),fp0
	fmove.s	fp0,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp3,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp2,fp0
	fadd.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp3,fp0
	fsub.s	-$20(a5),fp0
	fmove.s	fp0,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp2,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d1
	moveq	#5,d4
	asl.l	d4,d1
	add.l	d1,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp3,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp2,fp0
	fsub.x	fp5,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	moveq	#1,d4
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d3,d1
	bra	L907
L906
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d1.l*4),fp1
;		ELIPSE_EDGE_CLR(v,fx,
	moveq	#$10,d5
	sub.l	d1,d5
	move.l	#_qTrigTab__DRAWLIST,a1
	fmove.s	0(a1,d5.l*4),fp0
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d4,d5
	asl.l	#5,d5
	move.l	$16(a2),a0
	add.l	d5,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp1,fp6
	fmul.s	-$20(a5),fp6
	fmove.s	fp3,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp0,fp6
	fmul.x	fp5,fp6
	fmove.s	fp2,fp7
	fsub.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp0,fp6
	fmul.s	-$20(a5),fp6
	fmove.s	fp3,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp1,fp6
	fmul.x	fp5,fp6
	fmove.s	fp2,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp1,fp6
	fmul.s	-$20(a5),fp6
	fmove.s	fp3,fp7
	fsub.x	fp6,fp7
	fmove.s	fp7,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.x	fp0,fp6
	fmul.x	fp5,fp6
	fmove.s	fp2,fp7
	fadd.x	fp6,fp7
	fmove.s	fp7,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d2,d5
	moveq	#5,d6
	asl.l	d6,d5
	add.l	d5,a0
;		ELIPSE_EDGE_CLR(v,fx,
	fmul.s	-$20(a5),fp0
	fmove.x	fp3,fp6
	fsub.x	fp0,fp6
	fmove.s	fp6,(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmul.x	fp5,fp1
	fmove.x	fp2,fp0
	fsub.x	fp1,fp0
	fmove.s	fp0,4(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	fmove.s	fp4,$8(a0)
;		ELIPSE_EDGE_CLR(v,fx,
	move.l	d0,$18(a0)
	addq.l	#1,d4
	add.l	d3,d1
L907
	cmp.l	#$10,d1
	blt	L906
L908
;		ELIPSE_EDGE_CLR(v,fx,
;		ELIPSE_EDGE_CLR(v,fx,
	lea	$40(a0),a0
	move.l	a0,$16(a2)
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d7/a2/a3/a6
	unlk	a5
	rts

	END
