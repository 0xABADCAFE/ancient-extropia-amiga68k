
; Storm C Compiler
; Mendoza:Extropia/eXtropia/prj/AXON/Model.cpp
	mc68030
	mc68881
	XREF	Render__MODEL__TR04VIEW
	XREF	Rotate__MODEL__Tsss
	XREF	Move__MODEL__TRC05VEC3D
	XREF	Place__MODEL__TRC05VEC3Dfsss
	XREF	ClipBox__MODEL__T
	XREF	_0dt__MAPCELL__T
	XREF	Visibility__MAPCELL__TR04VIEW
	XREF	_0dt__VIEW__T
	XREF	Transform__VIEW__TP03C3DP10W3D_VertexUj
	XREF	op__multAsgn__VIEW__TRC09TRANSFORM
	XREF	Close__VIEW__T
	XREF	Open__VIEW__T
	XREF	MoveEvent__VIEW__T
	XREF	ResizeEvent__VIEW__T
	XREF	ExitEvent__VIEW__T
	XREF	KeyEvent__VIEW__Tjs
	XREF	MouseEvent__VIEW__Tjjj
	XREF	UseTex__TEXTUREHEAP__PCcj
	XREF	op__multAsgn__TRANSFORM__TRC09TRANSFORM
	XREF	Rotate__TRANSFORM__Tfff
	XREF	Translate__TRANSFORM__TRC05VEC3D
	XREF	Scale__TRANSFORM__TRC05VEC3D
	XREF	Define__PLANE__TP03C3DP03C3DP03C3D
	XREF	Define__PLANE__TP05VEC3DP05VEC3DP05VEC3D
	XREF	_sqrt__r
	XREF	Delete__xTEXTURE__T
	XREF	Create__xTEXTURE__TsssPvPUj
	XREF	Close__xDBWIN__T
	XREF	Open__xDBWIN__T
	XREF	Set__xDBWIN__TsssssPCc
	XREF	Idle__xDISPLAYIO_ASYNC__T
	XREF	Done__xDISPLAYIO_ASYNC__T
	XREF	Init__xDISPLAYIO_ASYNC__T
	XREF	MoveEvent__xDISPLAYIO__T
	XREF	ResizeEvent__xDISPLAYIO__T
	XREF	Idle__xDISPLAYIO__T
	XREF	HandleEvent__xDISPLAYIO__T
	XREF	ApplyInputModification__xDISPLAYIO__T
	XREF	ViewSurface__xDISPLAY__T
	XREF	DrawSurface__xDISPLAY__T
	XREF	Refresh__xDISPLAY__T
	XREF	Close__xDISPLAY__T
	XREF	Open__xDISPLAY__T
	XREF	_0dt__xSURFACE__T
	XREF	_0dt__POOL_ST__T
	XREF	_0ct__POOL_ST__TUsUj
	XREF	FreeT__POOL_ST__TPv
	XREF	NewT__POOL_ST__TPvUs
	XREF	NewT__POOL_ST__TPv
	XREF	Create__POOL_ST__TUsUj
	XREF	PrintAlloc__POOL_ST__TR07ostreamjj
	XREF	_0dt__POOL_LT__T
	XREF	Close__xFILEIO__T
	XREF	Write__xFILEIO__TPvUiUi
	XREF	Read__xFILEIO__TPvUiUi
	XREF	Open__xFILEIO__TPCcjj
	XREF	SendPacket__xFILEIO__TPv
	XREF	WaitPacket__xFILEIO__T
	XREF	InputQueued__xINPUT__T
	XREF	Idle__xINPUT__T
	XREF	ExitEvent__xINPUT__T
	XREF	KeyEvent__xINPUT__Tjs
	XREF	MouseEvent__xINPUT__Tjjj
	XREF	ApplyInputModification__xINPUT__T
	XREF	UnLink__xCHAINABLE__T
	XREF	_0ct__xTHREADABLE__TPCcUjjs
	XREF	ShutDown__xTHREADABLE__T
	XREF	Done__xTHREADABLE__T
	XREF	Init__xTHREADABLE__T
	XREF	_0dt__xLOCKABLE__T
	XREF	FreeLock__xLOCKABLE__Ts
	XREF	WaitLock__xLOCKABLE__T
	XREF	_0dt__sysRTLIB__T
	XREF	MessageBox__sysBASELIB__PcPcPce
	XREF	_system
	XREF	op__leftshift__ostream__Td
	XREF	op__leftshift__ostream__TUj
	XREF	op__leftshift__ostream__Tj
	XREF	op__leftshift__ostream__TPCc
	XREF	op__leftshift__ostream__Tc
	XREF	opfx__ostream__T
	XREF	read__istream__TPci
	XREF	get__istream__TRc
	XREF	getline__istream__TPcic
	XREF	get__istream__TPcic
	XREF	op__rightshift__istream__TRc
	XREF	op__rightshift__istream__TPc
	XREF	doallocate__streambuf__T
	XREF	xsgetn__streambuf__TPci
	XREF	xsputn__streambuf__TPCci
	XREF	underflow__streambuf__T
	XREF	overflow__streambuf__Ti
	XREF	setbuf__streambuf__TPcUi
	XREF	sputn__streambuf__TPCci
	XREF	_0dt__streambuf__T
	XREF	userword__ios__Ti
	XREF	init__ios__TP09streambuf
	XREF	_ftell
	XREF	_fseek
	XREF	_fwrite
	XREF	_fread
	XREF	_vfprintf
	XREF	_sprintf
	XREF	_fflush
	XREF	_feof
	XREF	_fclose
	XREF	_fopen
	XREF	_fgets
	XREF	_memset
	XREF	_memmove
	XREF	_strncpy
	XREF	_std__in
	XREF	_std__out
	XREF	_std__err
	XREF	_basefield__ios
	XREF	_adjustfield__ios
	XREF	_floatfield__ios
	XREF	_aNextBit__ios
	XREF	_aNextWord__ios
	XREF	_cin
	XREF	_cout
	XREF	_cerr
	XREF	_clog
	XREF	_st
	XREF	_gxSt
	XREF	_errBuff__xBASELIB
	XREF	_errSev__xBASELIB
	XREF	_errTbl__xBASELIB
	XREF	_SysBase
	XREF	_IntuitionBase
	XREF	_DOSBase
	XREF	_sysData__sysBASELIB
	XREF	_msgbuff__sysBASELIB
	XREF	_main__sysBASELIB
	XREF	_allocated__MEM
	XREF	_totSize__MEM
	XREF	_nextFree__MEM
	XREF	_cnt__MEM
	XREF	_maxAllocs__MEM
	XREF	_GfxBase
	XREF	_TimerBase
	XREF	_TimerBase__xTIMABLE
	XREF	_current__xTIMABLE
	XREF	_clockFreq__xTIMABLE
	XREF	_threadCnt__xTHREADABLE
	XREF	_main__xTHREADABLE
	XREF	_CyberGfxBase
	XREF	_Warp3DBase
	XREF	_graphics__x2D
	XREF	_cyberGfx__x2D
	XREF	_formatNames__x2D
	XREF	_surfaceTypes__x2D
	XREF	_warp3D__x3D
	XREF	_hw3D__x3D
	XREF	_pointRender__x3D
	XREF	_lineRender__x3D
	XREF	_triangleRender__x3D
	XREF	_otherPrimitives__x3D
	XREF	_shadingModes__x3D
	XREF	_textureModes__x3D
	XREF	_textureFmts__x3D
	XREF	_alpha__x3D
	XREF	_fogModes__x3D
	XREF	_zBuffer__x3D
	XREF	_stencil__x3D
	XREF	_misc__x3D
	XREF	_primNames__x3D
	XREF	_renderNames__x3D
	XREF	_shadingNames__x3D
	XREF	_texModeNames__x3D
	XREF	_texFormatNames__x3D
	XREF	_alphaNames__x3D
	XREF	_fogNames__x3D
	XREF	_zBufferNames__x3D
	XREF	_stencilNames__x3D
	XREF	_miscNames__x3D
	XREF	_drawSurface__x3D
	XREF	_context__x3D
	XREF	_drawRegion__x3D
	XREF	_fogData__x3D
	XREF	_flags__xGFX
	XREF	_mode__xGFX
	XREF	_numModes__xGFX
	XREF	_rPool__xSURFACE
	XREF	_DiskfontBase
	XREF	_fontInfo__xDRAW
	XREF	_fontData__xDRAW
	XREF	_fonts__xDRAW
	XREF	_flags__xDRAW
	XREF	_flushCnt__xDRAW
	XREF	_cTab__xDRAW
	XREF	_sTab__xDRAW
	XREF	_fault__xDRAW
	XREF	_vBufPos__xDRAW
	XREF	_zDepth__xDRAW
	XREF	_maxVBufPos__xDRAW
	XREF	_vArraySize__xDRAW
	XREF	_vArray__xDRAW
	XREF	_vBuffer__xDRAW
	XREF	_nestCount__xDRAW
	XREF	_currentCol__xDRAW
	XREF	_sineData__QTRIG
	XREF	_gradData__QTRIG
	XREF	_vCachePtr__AXON
	XREF	_vCache__AXON
	XREF	_heap__TEXTUREHEAP
	XREF	_keys__TEXTUREHEAP
	XREF	_index__TEXTUREHEAP
	XREF	_heapSize__TEXTUREHEAP
	XREF	_lastTexture__TEXTUREHEAP
	XREF	_lastKey__TEXTUREHEAP
	XREF	_dimension__WORLDMAP
	XREF	_logDim__WORLDMAP
	XREF	_fracLimit__WORLDMAP
	XREF	_worldGrid__WORLDMAP
	XREF	_minZ__WORLDMAP
	XREF	_maxZ__WORLDMAP
	XREF	_floodLevel__WORLDMAP
	XREF	_scale__WORLDMAP
	XREF	_unitName__WORLDMAP
	XREF	_detailLevel__WORLDMAP
	XREF	_cell__WORLDMAP
	XREF	_visible__WORLDMAP
	XREF	_wet__WORLDMAP
	XREF	_things__WORLDMAP
	XREF	_frames__WORLDMAP
	XREF	_frameTime__WORLDMAP
	XREF	_totalTime__WORLDMAP
	XREF	_stopWatch__WORLDMAP
	XREF	_ground__WORLDMAP
	XREF	_water__WORLDMAP

	SECTION "_0ct__streampos__T:0",CODE

	rts

	SECTION "Place__RGBCUBE__TRC05VEC3Dfsss:0",CODE


;void RGBCUBE::Place(const VEC3D& org, float32 s, sint16 x, sint16 y,
	XDEF	Place__RGBCUBE__TRC05VEC3Dfsss
Place__RGBCUBE__TRC05VEC3Dfsss
	move.l	a2,-(a7)
	fmovem.x fp2,-(a7)
	movem.l	$14(a7),a0/a1
	fmove.s	$1C(a7),fp0
L281
;	origin = org;
	move.l	a1,a2
	lea	$68(a0),a1
	move.l	(a2),(a1)
	move.l	4(a2),4(a1)
	move.l	$8(a2),$8(a1)
;	pt[10].x = pt[0].x = origin.x - s;
	fmove.s	$68(a0),fp1
	fsub.x	fp0,fp1
	fmove.s	fp1,$90(a0)
	lea	$90(a0),a1
	fmove.s	fp1,$F0(a1)
;	pt[10].y = pt[0].y = origin.y - s;
	fmove.s	$6C(a0),fp1
	fsub.x	fp0,fp1
	fmove.s	fp1,$94(a0)
	lea	$90(a0),a1
	fmove.s	fp1,$F4(a1)
;	pt[10].z = pt[0].z = origin.z - s;
	fmove.s	$70(a0),fp1
	fsub.x	fp0,fp1
	fmove.s	fp1,$98(a0)
	lea	$90(a0),a1
	fmove.s	fp1,$F8(a1)
;	pt[10].c = pt[0].c = 0xFF000000;
	move.l	#-$1000000,$A4(a0)
	lea	$90(a0),a1
	move.l	#-$1000000,$104(a1)
;	pt[12].x = pt[1].x = origin.x + s;
	fmove.s	$68(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$18(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$120(a1)
;	pt[12].y = pt[1].y = origin.y - s;
	fmove.s	$6C(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$1C(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$124(a1)
;	pt[12].z = pt[1].z = origin.z - s;
	fmove.s	$70(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$20(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$128(a1)
;	pt[12].c = pt[1].c = 0x7F0000FF;
	lea	$90(a0),a1
	move.l	#$7F0000FF,$2C(a1)
	lea	$90(a0),a1
	move.l	#$7F0000FF,$134(a1)
;	pt[8].x = pt[2].x = origin.x - s;
	fmove.s	$68(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$30(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$C0(a1)
;	pt[8].y = pt[2].y = origin.y - s;
	fmove.s	$6C(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$34(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$C4(a1)
;	pt[8].z = pt[2].z = origin.z + s;
	fmove.s	$70(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$38(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$C8(a1)
;	pt[8].c = pt[2].c = 0x7F00FF00;
	lea	$90(a0),a1
	move.l	#$7F00FF00,$44(a1)
	lea	$90(a0),a1
	move.l	#$7F00FF00,$D4(a1)
;	pt[14].x = pt[3].x = origin.x + s;
	fmove.s	$68(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$48(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$150(a1)
;	pt[14].y = pt[3].y = origin.y - s;
	fmove.s	$6C(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$4C(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$154(a1)
;	pt[14].z = pt[3].z = origin.z + s;
	fmove.s	$70(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$50(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$158(a1)
;	pt[14].c = pt[3].c = 0x7F00FFFF;
	lea	$90(a0),a1
	move.l	#$7F00FFFF,$5C(a1)
	lea	$90(a0),a1
	move.l	#$7F00FFFF,$164(a1)
;	pt[9].x = pt[4].x = origin.x - s;
	fmove.s	$68(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$60(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$D8(a1)
;	pt[9].y = pt[4].y = origin.y + s;
	fmove.s	$6C(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$64(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$DC(a1)
;	pt[9].z = pt[4].z = origin.z + s;
	fmove.s	$70(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$68(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$E0(a1)
;	pt[9].c = pt[4].c = 0x7FFFFF00;
	lea	$90(a0),a1
	move.l	#$7FFFFF00,$74(a1)
	lea	$90(a0),a1
	move.l	#$7FFFFF00,$EC(a1)
;	pt[15].x = pt[5].x = origin.x + s;
	fmove.s	$68(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$78(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$168(a1)
;	pt[15].y = pt[5].y = origin.y + s;
	fmove.s	$6C(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$7C(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$16C(a1)
;	pt[15].z = pt[5].z = origin.z + s;
	fmove.s	$70(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$80(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$170(a1)
;	pt[15].c = pt[5].c = 0x7FFFFFFF;
	lea	$90(a0),a1
	move.l	#$7FFFFFFF,$8C(a1)
	lea	$90(a0),a1
	move.l	#$7FFFFFFF,$17C(a1)
;	pt[11].x = pt[6].x = origin.x - s;
	fmove.s	$68(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$90(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$108(a1)
;	pt[11].y = pt[6].y = origin.y + s;
	fmove.s	$6C(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$94(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$10C(a1)
;	pt[11].z = pt[6].z = origin.z - s;
	fmove.s	$70(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$98(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$110(a1)
;	pt[11].c = pt[6].c = 0x7FFF0000;
	lea	$90(a0),a1
	move.l	#$7FFF0000,$A4(a1)
	lea	$90(a0),a1
	move.l	#$7FFF0000,$11C(a1)
;	pt[13].x = pt[7].x = origin.x + s;
	fmove.s	$68(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$A8(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$138(a1)
;	pt[13].y = pt[7].y = origin.y + s;
	fmove.s	$6C(a0),fp1
	fadd.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$AC(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$13C(a1)
;	pt[13].z = pt[7].z = origin.z - s;
	fmove.s	$70(a0),fp1
	fsub.x	fp0,fp1
	lea	$90(a0),a1
	fmove.s	fp1,$B0(a1)
	lea	$90(a0),a1
	fmove.s	fp1,$140(a1)
;	pt[13].c = pt[7].c = 0x7FFF00FF;
	lea	$90(a0),a1
	move.l	#$7FFF00FF,$BC(a1)
	lea	$90(a0),a0
	move.l	#$7FFF00FF,$14C(a0)
	fmovem.x (a7)+,fp2
	move.l	(a7)+,a2
	rts

	SECTION "Render__RGBCUBE__TR04VIEW:0",CODE


;void RGBCUBE::Render(VIEW& view)
	XDEF	Render__RGBCUBE__TR04VIEW
Render__RGBCUBE__TR04VIEW
L287	EQU	-$20
	link	a5,#L287
	movem.l	d2/a2/a3/a6,-(a7)
	move.l	$C(a5),a3
L282
;	register sysVERTEX* v = Vertices(16);
	moveq	#$10,d2
	move.l	_vBufPos__xDRAW,d0
	add.l	d2,d0
	cmp.l	_vArraySize__xDRAW,d0
	blo.b	L286
L283
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	jsr	-$138(a6)
	move.l	_vBufPos__xDRAW,d0
	cmp.l	_maxVBufPos__xDRAW,d0
	ble.b	L285
L284
	move.l	_vBufPos__xDRAW,_maxVBufPos__xDRAW
L285
	clr.l	_vBufPos__xDRAW
	and.l	#-3,_flags__xDRAW
	addq.l	#1,_flushCnt__xDRAW
L286
	move.l	_vBufPos__xDRAW,d0
	asl.l	#6,d0
	move.l	_vBuffer__xDRAW,a1
	lea	0(a1,d0.l),a0
	add.l	d2,_vBufPos__xDRAW
	or.l	#$40,_flags__xDRAW
	move.l	a0,a2
;	view.Transform(pt, v ,16);
	pea	$10.w
	move.l	a2,-(a7)
	move.l	$8(a5),a1
	pea	$90(a1)
	move.l	a3,-(a7)
	jsr	Transform__VIEW__TP03C3DP10W3D_VertexUj
	add.w	#$10,a7
;	Disable(TEXTURE);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$100,d0
	moveq	#2,d1
	jsr	-$30(a6)
;	TriStrip(v, 8);
	lea	-$10(a5),a0
	move.l	#$8,(a0)+
	move.l	a2,(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	lea	-$10(a5),a1
	jsr	-$AE(a6)
;	TriStrip(v+8,8);
	lea	-$20(a5),a0
	move.l	#$8,(a0)+
	lea	$200(a2),a1
	move.l	a1,(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	lea	-$20(a5),a1
	jsr	-$AE(a6)
;	Enable(TEXTURE);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$100,d0
	moveq	#1,d1
	jsr	-$30(a6)
	movem.l	(a7)+,d2/a2/a3/a6
	unlk	a5
	rts

	SECTION "_count__PINETREE:1",DATA

	XDEF	_count__PINETREE
_count__PINETREE
	dc.l	0

	SECTION "_texture__PINETREE:2",BSS

	XDEF	_texture__PINETREE
_texture__PINETREE
	ds.l	1

	SECTION "_points__PINETREE:0",CODE


	XDEF	_INIT_8_Model_cpp__points__PINETREE
_INIT_8_Model_cpp__points__PINETREE
	fmovem.x fp2/fp3/fp4,-(a7)
L289
;C3D		PINETREE::points[30] = {
	lea	_points__PINETREE,a0
	clr.l	(a0)
	clr.l	4(a0)
	move.l	#$3F800000,$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$DFF000,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	move.l	#$BCEC8F75,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$DFEFFC,$14(a0)
	add.w	#$18,a0
	move.l	#$3CCCCCCC,(a0)
	move.l	#$3C6C7B8F,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$DFEFFC,$14(a0)
	add.w	#$18,a0
	move.l	#$BCCCCCCC,(a0)
	move.l	#$3C6C7B8F,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$DFEFFC,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	move.l	#$BCEC8F75,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$DFEFFC,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	clr.l	4(a0)
	move.l	#$3EE66666,$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$1000000,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	move.l	#$BE99999A,4(a0)
	move.l	#$3E4CCCCD,$8(a0)
	clr.l	$C(a0)
	move.l	#$BF000000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$3E850581,(a0)
	move.l	#$BE19999A,4(a0)
	move.l	#$3E570A3E,$8(a0)
	move.l	#$3EDDB3D7,$C(a0)
	move.l	#$BE800000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$3E850581,(a0)
	move.l	#$3E19999A,4(a0)
	move.l	#$3E75C290,$8(a0)
	move.l	#$3EDDB3D7,$C(a0)
	move.l	#$3E800000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	move.l	#$3E99999A,4(a0)
	move.l	#$3E4CCCCD,$8(a0)
	clr.l	$C(a0)
	move.l	#$3F000000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$BE850581,(a0)
	move.l	#$3E19999A,4(a0)
	move.l	#$3E75C290,$8(a0)
	move.l	#$BEDDB3D7,$C(a0)
	move.l	#$3E800000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$BE850581,(a0)
	move.l	#$BE19999A,4(a0)
	move.l	#$3E4CCCCD,$8(a0)
	move.l	#$BEDDB3D7,$C(a0)
	move.l	#$BE800000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	move.l	#$BE99999A,4(a0)
	move.l	#$3E75C290,$8(a0)
	clr.l	$C(a0)
	move.l	#$BF000000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	clr.l	4(a0)
	move.l	#$3F333333,$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$1000000,$14(a0)
	add.w	#$18,a0
	move.l	#$3E000000,(a0)
	move.l	#$BE5DB3D7,4(a0)
	move.l	#$3EB851EC,$8(a0)
	move.l	#$3E800000,$C(a0)
	move.l	#$BEDDB3D7,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$3E800000,(a0)
	clr.l	4(a0)
	move.l	#$3EA8F5C3,$8(a0)
	move.l	#$3F000000,$C(a0)
	clr.l	$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$3E000000,(a0)
	move.l	#$3E5DB3D7,4(a0)
	move.l	#$3EB851EC,$8(a0)
	move.l	#$3E800000,$C(a0)
	move.l	#$3EDDB3D7,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$BE000000,(a0)
	move.l	#$3E5DB3D7,4(a0)
	move.l	#$3EA8F5C3,$8(a0)
	move.l	#$BE800000,$C(a0)
	move.l	#$3EDDB3D7,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$BE800000,(a0)
	clr.l	4(a0)
	move.l	#$3EB851EC,$8(a0)
	move.l	#$BF000000,$C(a0)
	clr.l	$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$BE000000,(a0)
	move.l	#$BE5DB3D7,4(a0)
	move.l	#$3EA8F5C3,$8(a0)
	move.l	#$BE800000,$C(a0)
	move.l	#$BEDDB3D7,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$3E000000,(a0)
	move.l	#$BE5DB3D7,4(a0)
	move.l	#$3EB851EC,$8(a0)
	move.l	#$3E19999A,$C(a0)
	move.l	#$BEDDB3D7,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	clr.l	4(a0)
	move.l	#$3F800000,$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$7F7F80,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	move.l	#$BE28F5C2,4(a0)
	move.l	#$3F0A3D71,$8(a0)
	clr.l	$C(a0)
	move.l	#$BF000000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$3E1252DA,(a0)
	move.l	#$BDA8F5C2,4(a0)
	move.l	#$3F11EB85,$8(a0)
	move.l	#$3EDDB3D7,$C(a0)
	move.l	#$BE800000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$3E1252DA,(a0)
	move.l	#$3DA8F5C2,4(a0)
	move.l	#$3F0A3D71,$8(a0)
	move.l	#$3EDDB3D7,$C(a0)
	move.l	#$3E800000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	move.l	#$3E28F5C2,4(a0)
	move.l	#$3F11EB85,$8(a0)
	clr.l	$C(a0)
	move.l	#$3F000000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$BE1252DA,(a0)
	move.l	#$3DA8F5C2,4(a0)
	move.l	#$3F0A3D71,$8(a0)
	move.l	#$BEDDB3D7,$C(a0)
	move.l	#$3E800000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	move.l	#$BE1252DA,(a0)
	move.l	#$BDA8F5C2,4(a0)
	move.l	#$3F11EB85,$8(a0)
	move.l	#$BEDDB3D7,$C(a0)
	move.l	#$BE800000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	move.l	#$BE28F5C2,4(a0)
	move.l	#$3F0A3D71,$8(a0)
	clr.l	$C(a0)
	move.l	#$BF000000,$10(a0)
	move.l	#-1,$14(a0)
	add.w	#$18,a0
	clr.l	(a0)
	clr.l	4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	clr.l	$14(a0)
	fmovem.x (a7)+,fp2/fp3/fp4
	rts

	SECTION "_points__PINETREE:1",DATA

	XDEF	_points__PINETREE
_points__PINETREE
	ds.b	720

	SECTION "_0ct__PINETREE__T:0",CODE


;PINETREE::PINETREE()
	XDEF	_0ct__PINETREE__T
_0ct__PINETREE__T
	XREF	sym_handlers
L302	EQU	-$1C
	link	a5,#L302
	movem.l	a2/a3/a6,-(a7)
	fmovem.x fp2/fp3,-(a7)
	move.l	$8(a5),a3
L292
	move.l	sym_handlers,-$1C(a5)
	move.l	a3,-(a7)
	jsr	_0ct__MODEL__T
	addq.w	#4,a7
	lea	(a5),a0
	move.l	a3,-(a0)
	move.l	#_0dt__MODEL__T,-(a0)
	move.l	sym_handlers,-(a0)
	move.l	a0,sym_handlers
;	if (++count==1)
	addq.l	#1,_count__PINETREE
	move.l	_count__PINETREE,d0
	cmp.l	#1,d0
	bne	L301
L293
;	
;		texture = TEXTUREHEAP::UseTex("data/branches.tex");
	move.l	#-1,-(a7)
	move.l	#L290,-(a7)
	jsr	UseTex__TEXTUREHEAP__PCcj
	addq.w	#$8,a7
	move.l	d0,_texture__PINETREE
;		if (texture)
	tst.l	_texture__PINETREE
	beq.b	L295
L294
;		
;			texture->SetEnv(xTEXTURE::MODULATE);
	move.l	_texture__PINETREE,a0
	move.l	$10(a0),a1
	move.l	_Warp3DBase,a6
	moveq	#3,d1
	move.l	$C(a0),a0
	sub.l	a2,a2
	jsr	-$7E(a6)
;			texture->SetFilter(xTEXTURE::LINEAR);
	move.l	_texture__PINETREE,a0
	move.l	$10(a0),a1
	move.l	_Warp3DBase,a6
	moveq	#1,d0
	moveq	#2,d1
	move.l	$C(a0),a0
	jsr	-$78(a6)
	bra.b	L298
L295
;			cout << "PINETREE:: Error loading texturemap\n";
	move.l	#L291,-(a7)
	move.l	_cout,a0
	cmp.w	#0,a0
	beq.b	L297
L296
	addq.w	#4,a0
L297
	move.l	a0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
L298
;		
;			float32 w = texture->Width();
	move.l	_texture__PINETREE,a0
	move.l	$8(a0),a1
	move.l	a0,d0
	add.l	$2C(a1),d0
	move.l	d0,-(a7)
	move.l	$28(a1),a1
	jsr	(a1)
	addq.w	#4,a7
	fmove.l	d0,fp2
;			float32 h = texture->Height();
	move.l	_texture__PINETREE,a0
	move.l	$8(a0),a1
	move.l	a0,d0
	add.l	$24(a1),d0
	move.l	d0,-(a7)
	move.l	$20(a1),a1
	jsr	(a1)
	addq.w	#4,a7
	fmove.l	d0,fp1
;			for (sint32 i=0;
	moveq	#0,d0
	bra.b	L300
L299
;			
;				points[i].u = (points[i].u+0.5F)*w;
	move.l	d0,d1
	muls.l	#$18,d1
	move.l	#_points__PINETREE,a1
	fmove.s	$C(a1,d1.l),fp0
	fadd.s	#$.3F000000,fp0
	fmul.x	fp2,fp0
	move.l	d0,d1
	muls.l	#$18,d1
	move.l	#_points__PINETREE,a1
	fmove.s	fp0,$C(a1,d1.l)
;				points[i].v = (points[i].v+0.5F)*h;
	move.l	d0,d1
	muls.l	#$18,d1
	move.l	#_points__PINETREE,a1
	fmove.s	$10(a1,d1.l),fp0
	fadd.s	#$.3F000000,fp0
	fmul.x	fp1,fp0
	move.l	d0,d1
	muls.l	#$18,d1
	move.l	#_points__PINETREE,a1
	fmove.s	fp0,$10(a1,d1.l)
	addq.l	#1,d0
L300
	cmp.l	#$1E,d0
	blt.b	L299
L301
;	tex = texture->TexHandle();
	move.l	_texture__PINETREE,a0
	move.l	a3,a1
	move.l	$10(a0),$90(a1)
	move.l	-$1C(a5),sym_handlers
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,a2/a3/a6
	unlk	a5
	rts

L291
	dc.b	'PINETREE:: Error loading texturemap',$A,0
L290
	dc.b	'data/branches.tex',0

	SECTION "Place__PINETREE__TRC05VEC3Dfsss:0",CODE


;void PINETREE::Place(const VEC3D& org, float32 s, sint16 x, sint16 y
	XDEF	Place__PINETREE__TRC05VEC3Dfsss
Place__PINETREE__TRC05VEC3Dfsss
L304	EQU	-$18
	link	a5,#L304
	movem.l	d2/d3/a2,-(a7)
	fmovem.x fp2/fp3,-(a7)
	move.w	$18(a5),d0
	move.w	$14(a5),d1
	move.w	$16(a5),d2
	move.l	$C(a5),a0
	move.l	$8(a5),a2
	fmove.s	$10(a5),fp0
L303
;	origin = org;
	move.l	a0,a1
	lea	$68(a2),a0
	fmove.s	(a1),fp1
	fmove.s	fp1,(a0)
	move.l	4(a1),4(a0)
	move.l	$8(a1),$8(a0)
;	angles = VEC3D(x,y,z);
	lea	-$18(a5),a0
	ext.l	d0
	fmove.l	d0,fp3
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp2
	move.w	d1,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
	fmove.s	fp2,4(a0)
	fmove.s	fp3,$8(a0)
	lea	-$18(a5),a1
	lea	$74(a2),a0
	fmove.s	(a1),fp1
	fmove.s	fp1,(a0)
	move.l	4(a1),4(a0)
	move.l	$8(a1),$8(a0)
;	scale  = VEC3D(s,s,s);
	lea	-$C(a5),a0
	fmove.x	fp0,fp2
	fmove.x	fp0,fp1
	fmove.s	fp0,(a0)
	fmove.s	fp1,4(a0)
	fmove.s	fp2,$8(a0)
	lea	-$C(a5),a1
	lea	$80(a2),a0
	move.l	(a1),(a0)
	move.l	4(a1),4(a0)
	move.l	$8(a1),$8(a0)
;	transform.Scale(scale);
	pea	$80(a2)
	move.l	a2,-(a7)
	jsr	Scale__TRANSFORM__TRC05VEC3D
	addq.w	#$8,a7
;	transform.Rotate(angles);
	lea	$74(a2),a0
	move.l	$8(a0),-(a7)
	move.l	4(a0),-(a7)
	fmove.s	(a0),fp0
	fmove.s	fp0,-(a7)
	pea	(a2)
	jsr	Rotate__TRANSFORM__Tfff
	add.w	#$10,a7
;	transform.Translate(origin);
	pea	$68(a2)
	move.l	a2,-(a7)
	jsr	Translate__TRANSFORM__TRC05VEC3D
	addq.w	#$8,a7
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,d2/d3/a2
	unlk	a5
	rts

	SECTION "Render__PINETREE__TR04VIEW:0",CODE


;void PINETREE::Render(VIEW& view)
	XDEF	Render__PINETREE__TR04VIEW
Render__PINETREE__TR04VIEW
L322	EQU	-$40
	link	a5,#L322
	movem.l	d2/a2/a6,-(a7)
	fmovem.x fp2/fp3,-(a7)
	movem.l	$8(a5),a2/a6
L306
;	if (WORLDMAP::LOD() < 0.1F)
	fmove.s	_detailLevel__WORLDMAP,fp0
	fcmp.s	#$.3DCCCCCD,fp0
	fboge.b	L308
L307
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,d2/a2/a6
	unlk	a5
	rts
L308
;	if (view.State(VIEW::CHANGED))
	move.l	#$20000,d0
	and.l	$180(a6),d0
	beq	L321
L309
;	
;		pj = CachedVertices(30);
	moveq	#$1E,d0
	move.l	d0,d1
	add.l	_vCachePtr__AXON,d1
	cmp.l	#$4000,d1
	bls.b	L313
L310
	move.l	#L305,-(a7)
	move.l	_cout,a0
	cmp.w	#0,a0
	beq.b	L312
L311
	addq.w	#4,a0
L312
	move.l	a0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
	sub.l	a0,a0
	bra.b	L314
L313
	move.l	_vCachePtr__AXON,d1
	asl.l	#6,d1
	move.l	_vCache__AXON,a1
	lea	0(a1,d1.l),a0
	add.l	d0,_vCachePtr__AXON
L314
	move.l	a2,a1
	move.l	a0,$94(a1)
;		view*=transform;
	move.l	a2,-(a7)
	move.l	a6,-(a7)
	jsr	op__multAsgn__VIEW__TRC09TRANSFORM
	addq.w	#$8,a7
;		view.Transform(points, pj, 30);
	pea	$1E.w
	move.l	a2,a1
	move.l	$94(a1),-(a7)
	move.l	#_points__PINETREE,-(a7)
	move.l	a6,-(a7)
	jsr	Transform__VIEW__TP03C3DP10W3D_VertexUj
	add.w	#$10,a7
;		rfloat32 a = ClipFloat((10F*(WORLDMAP::LOD()-0.1F)), 0F, 0.99F);
	fmove.s	#$.3F7D70A4,fp2
	fmove.s	#$.00000000,fp1
	fmove.s	_detailLevel__WORLDMAP,fp0
	fsub.s	#$.3DCCCCCD,fp0
	fmul.s	#$.41200000,fp0
	fcmp.x	fp1,fp0
	fboge.b	L316
L315
	fmove.x	fp1,fp0
	bra.b	L320
L316
	fcmp.x	fp2,fp0
	fbole.b	L318
L317
	fmove.x	fp2,fp0
L318
L319
L320
;		pj[0].color.a = 0.1F + 0.9F*a;
	fmove.x	fp0,fp1
	fmul.s	#$.3F666667,fp1
	fadd.s	#$.3DCCCCCD,fp1
	move.l	a2,a1
	move.l	$94(a1),a0
	fmove.s	fp1,$2C(a0)
;		pj[5].color.a = a;
	move.l	a2,a1
	move.l	$94(a1),a0
	fmove.s	fp0,$16C(a0)
;		pj[13].color.a = a;
	move.l	a2,a1
	move.l	$94(a1),a0
	fmove.s	fp0,$36C(a0)
;		pj[21].color.a = a;
	move.l	a2,a1
	move.l	$94(a1),a0
	fmove.s	fp0,$56C(a0)
L321
;	Enable(ALPHA_BLEND);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$2000,d0
	moveq	#1,d1
	jsr	-$30(a6)
;	Disable(TEXTURE);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$100,d0
	moveq	#2,d1
	jsr	-$30(a6)
;	TriFan(pj, 5);
	move.l	a2,a0
	move.l	$94(a0),a1
	lea	-$10(a5),a0
	move.l	#5,(a0)+
	move.l	a1,(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	lea	-$10(a5),a1
	jsr	-$A8(a6)
;	Enable(TEXTURE);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$100,d0
	moveq	#1,d1
	jsr	-$30(a6)
;	TriFanTx(pj+5, 8, tex);
	move.l	a2,a0
	move.l	$90(a0),a6
	move.l	a2,a1
	move.l	$94(a1),a0
	lea	$140(a0),a1
	lea	-$20(a5),a0
	move.l	#$8,(a0)+
	move.l	a1,(a0)+
	move.l	a6,(a0)+
	clr.l	(a0)+
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	lea	-$20(a5),a1
	jsr	-$A8(a6)
;	TriFanTx(pj+13, 8, tex);
	move.l	a2,a0
	move.l	$90(a0),a6
	move.l	a2,a1
	move.l	$94(a1),a0
	lea	$340(a0),a1
	lea	-$30(a5),a0
	move.l	#$8,(a0)+
	move.l	a1,(a0)+
	move.l	a6,(a0)+
	clr.l	(a0)+
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	lea	-$30(a5),a1
	jsr	-$A8(a6)
;	TriFanTx(pj+21, 8, tex);
	move.l	a2,a0
	move.l	$90(a0),a6
	move.l	a2,a1
	move.l	$94(a1),a0
	lea	$540(a0),a1
	lea	-$40(a5),a0
	move.l	#$8,(a0)+
	move.l	a1,(a0)+
	move.l	a6,(a0)+
	clr.l	(a0)+
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	lea	-$40(a5),a1
	jsr	-$A8(a6)
;	Disable(ALPHA_BLEND);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$2000,d0
	moveq	#2,d1
	jsr	-$30(a6)
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,d2/a2/a6
	unlk	a5
	rts

L305
	dc.b	'Vertex Overflow',$A,0

	SECTION "_0dt__PINETREE__T:0",CODE


;PINETREE::~PINETREE()
	XDEF	_0dt__PINETREE__T
_0dt__PINETREE__T
L323
;	if (--count==0)
	subq.l	#1,_count__PINETREE
	tst.l	_count__PINETREE
	bne.b	L325
L324
;		texture->Delete();
	move.l	_texture__PINETREE,-(a7)
	jsr	Delete__xTEXTURE__T
	addq.w	#4,a7
L325
	rts

	SECTION "_count__BUILDING:1",DATA

	XDEF	_count__BUILDING
_count__BUILDING
	dc.l	0

	SECTION "_texture__BUILDING:0",CODE


	XDEF	_INIT_8_Model_cpp__texture__BUILDING
_INIT_8_Model_cpp__texture__BUILDING
L328	EQU	-$C
	link	a5,#L328
	move.l	a2,-(a7)
L327
;xTEXTURE	BUILDING::texture;
	move.l	#_0virttab__08xTEXTURE__08xTEXTURE,_texture__BUILDING+$8
	lea	_texture__BUILDING,a0
	move.l	sym_handlers,a1
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
	lea	(a5),a2
	move.l	a0,-(a2)
	move.l	#_0dt__AREA__T,-(a2)
	move.l	sym_handlers,-(a2)
	move.l	a2,sym_handlers
	clr.l	$C(a0)
	clr.l	$10(a0)
	clr.l	$14(a0)
	clr.l	$18(a0)
	clr.l	$1C(a0)
	clr.l	$20(a0)
	move.l	a1,sym_handlers
	move.l	(a7)+,a2
	unlk	a5
	rts

	XDEF	_EXIT_8_Model_cpp__texture__BUILDING
_EXIT_8_Model_cpp__texture__BUILDING
L329
	move.l	#_texture__BUILDING,-(a7)
	jsr	Delete__xTEXTURE__T
	addq.w	#4,a7
	rts

	SECTION "_texture__BUILDING:2",BSS

	XDEF	_texture__BUILDING
_texture__BUILDING
	ds.b	56

	SECTION "_points__BUILDING:0",CODE


	XDEF	_INIT_8_Model_cpp__points__BUILDING
_INIT_8_Model_cpp__points__BUILDING
	fmovem.x fp2/fp3/fp4,-(a7)
L330
;C3D				BUILDING::points[6] = {
	lea	_points__BUILDING,a0
	clr.l	(a0)
	clr.l	4(a0)
	move.l	#$3F400000,$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$5F5F70,$14(a0)
	add.w	#$18,a0
	move.l	#$BF000000,(a0)
	move.l	#$BF000000,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$DFDFC0,$14(a0)
	add.w	#$18,a0
	move.l	#$3F000000,(a0)
	move.l	#$BF000000,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$DFDFB8,$14(a0)
	add.w	#$18,a0
	move.l	#$3F000000,(a0)
	move.l	#$3F000000,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$6F7F78,$14(a0)
	add.w	#$18,a0
	move.l	#$BF000000,(a0)
	move.l	#$3F000000,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$6F7F78,$14(a0)
	add.w	#$18,a0
	move.l	#$BF000000,(a0)
	move.l	#$BF000000,4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	move.l	#-$DFDFC0,$14(a0)
	fmovem.x (a7)+,fp2/fp3/fp4
	rts

	SECTION "_points__BUILDING:1",DATA

	XDEF	_points__BUILDING
_points__BUILDING
	ds.b	144

	SECTION "_0ct__BUILDING__T:0",CODE


;BUILDING::BUILDING()
	XDEF	_0ct__BUILDING__T
_0ct__BUILDING__T
L332	EQU	-$C
	link	a5,#L332
	movem.l	a2/a3,-(a7)
	move.l	$8(a5),a2
L331
	move.l	sym_handlers,a3
	move.l	a2,-(a7)
	jsr	_0ct__MODEL__T
	addq.w	#4,a7
	lea	(a5),a0
	move.l	a2,-(a0)
	move.l	#_0dt__MODEL__T,-(a0)
	move.l	sym_handlers,-(a0)
	move.l	a0,sym_handlers
;BUILDING::BUILDING()
	move.l	a3,sym_handlers
	movem.l	(a7)+,a2/a3
	unlk	a5
	rts

	SECTION "Place__BUILDING__TRC05VEC3Dfsss:0",CODE


;void BUILDING::Place(const VEC3D& org, float32 s, sint16 x, sint16 y
	XDEF	Place__BUILDING__TRC05VEC3Dfsss
Place__BUILDING__TRC05VEC3Dfsss
L334	EQU	-$18
	link	a5,#L334
	movem.l	d2/d3/a2,-(a7)
	fmovem.x fp2/fp3,-(a7)
	move.w	$18(a5),d0
	move.w	$14(a5),d1
	move.w	$16(a5),d2
	move.l	$C(a5),a0
	move.l	$8(a5),a2
	fmove.s	$10(a5),fp0
L333
;	origin	= org;
	move.l	a0,a1
	lea	$68(a2),a0
	fmove.s	(a1),fp1
	fmove.s	fp1,(a0)
	move.l	4(a1),4(a0)
	move.l	$8(a1),$8(a0)
;	angles	= VEC3D(x,y,z);
	lea	-$18(a5),a0
	ext.l	d0
	fmove.l	d0,fp3
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp2
	move.w	d1,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	fp1,(a0)
	fmove.s	fp2,4(a0)
	fmove.s	fp3,$8(a0)
	lea	-$18(a5),a1
	lea	$74(a2),a0
	fmove.s	(a1),fp1
	fmove.s	fp1,(a0)
	move.l	4(a1),4(a0)
	move.l	$8(a1),$8(a0)
;	scale		= VEC3D(s,s,s);
	lea	-$C(a5),a0
	fmove.x	fp0,fp2
	fmove.x	fp0,fp1
	fmove.s	fp0,(a0)
	fmove.s	fp1,4(a0)
	fmove.s	fp2,$8(a0)
	lea	-$C(a5),a1
	lea	$80(a2),a0
	move.l	(a1),(a0)
	move.l	4(a1),4(a0)
	move.l	$8(a1),$8(a0)
;	transform.Scale(scale);
	pea	$80(a2)
	move.l	a2,-(a7)
	jsr	Scale__TRANSFORM__TRC05VEC3D
	addq.w	#$8,a7
;	transform.Rotate(angles);
	lea	$74(a2),a0
	move.l	$8(a0),-(a7)
	move.l	4(a0),-(a7)
	fmove.s	(a0),fp0
	fmove.s	fp0,-(a7)
	pea	(a2)
	jsr	Rotate__TRANSFORM__Tfff
	add.w	#$10,a7
;	transform.Translate(origin);
	pea	$68(a2)
	move.l	a2,-(a7)
	jsr	Translate__TRANSFORM__TRC05VEC3D
	addq.w	#$8,a7
	fmovem.x (a7)+,fp2/fp3
	movem.l	(a7)+,d2/d3/a2
	unlk	a5
	rts

	SECTION "Render__BUILDING__TR04VIEW:0",CODE


;void BUILDING::Render(VIEW& view)
	XDEF	Render__BUILDING__TR04VIEW
Render__BUILDING__TR04VIEW
L344	EQU	-$10
	link	a5,#L344
	movem.l	d2/a2/a6,-(a7)
	movem.l	$8(a5),a2/a6
L336
;	if (view.State(VIEW::CHANGED))
	move.l	#$20000,d0
	and.l	$180(a6),d0
	beq	L343
L337
;	
;		pj = CachedVertices(6);
	moveq	#6,d0
	move.l	d0,d1
	add.l	_vCachePtr__AXON,d1
	cmp.l	#$4000,d1
	bls.b	L341
L338
	move.l	#L335,-(a7)
	move.l	_cout,a0
	cmp.w	#0,a0
	beq.b	L340
L339
	addq.w	#4,a0
L340
	move.l	a0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
	sub.l	a0,a0
	bra.b	L342
L341
	move.l	_vCachePtr__AXON,d1
	asl.l	#6,d1
	move.l	_vCache__AXON,a1
	lea	0(a1,d1.l),a0
	add.l	d0,_vCachePtr__AXON
L342
	move.l	a2,a1
	move.l	a0,$94(a1)
;		view*=transform;
	move.l	a2,-(a7)
	move.l	a6,-(a7)
	jsr	op__multAsgn__VIEW__TRC09TRANSFORM
	addq.w	#$8,a7
;		view.Transform(points, pj, 6);
	pea	6.w
	move.l	a2,a1
	move.l	$94(a1),-(a7)
	move.l	#_points__BUILDING,-(a7)
	move.l	a6,-(a7)
	jsr	Transform__VIEW__TP03C3DP10W3D_VertexUj
	add.w	#$10,a7
L343
;	Disable(ALPHA_BLEND);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$2000,d0
	moveq	#2,d1
	jsr	-$30(a6)
;	Disable(TEXTURE);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$100,d0
	moveq	#2,d1
	jsr	-$30(a6)
;	TriFan(pj, 6);
	move.l	a2,a0
	move.l	$94(a0),a1
	lea	-$10(a5),a0
	move.l	#6,(a0)+
	move.l	a1,(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	lea	-$10(a5),a1
	jsr	-$A8(a6)
;	Enable(TEXTURE);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$100,d0
	moveq	#1,d1
	jsr	-$30(a6)
;	Disable(ALPHA_BLEND);
	move.l	_context__x3D,a0
	move.l	_Warp3DBase,a6
	move.l	#$2000,d0
	moveq	#2,d1
	jsr	-$30(a6)
	movem.l	(a7)+,d2/a2/a6
	unlk	a5
	rts

L335
	dc.b	'Vertex Overflow',$A,0

	SECTION "_0dt__BUILDING__T:0",CODE


;BUILDING::~BUILDING()
	XDEF	_0dt__BUILDING__T
_0dt__BUILDING__T
L345
;BUILDING::~BUILDING()
	rts

	SECTION "Width__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Width__AREA__T
Width__AREA__T
	move.l	4(a7),a0
L346
	move.w	(a0),d0
	ext.l	d0
	rts

	SECTION "Height__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Height__AREA__T
Height__AREA__T
	move.l	4(a7),a0
L347
	move.w	2(a0),d0
	ext.l	d0
	rts

	SECTION "Depth__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Depth__AREA__T
Depth__AREA__T
	move.l	4(a7),a0
L348
	move.w	4(a0),d0
	ext.l	d0
	rts

	SECTION "Format__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Format__AREA__T
Format__AREA__T
	move.l	4(a7),a0
L349
	move.w	6(a0),d0
	ext.l	d0
	rts

	SECTION "_0dt__AREA__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__AREA__T
_0dt__AREA__T
L350
	rts

	SECTION "_0dt__xTEXTURE__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__xTEXTURE__T
_0dt__xTEXTURE__T
	move.l	4(a7),a0
L351
	move.l	a0,-(a7)
	jsr	Delete__xTEXTURE__T
	addq.w	#4,a7
	rts

	SECTION "_0ct__MODEL__T:0",CODE

	CNOP	0,2

_0ct__MODEL__T
	move.l	a2,-(a7)
	move.l	$8(a7),a0
L352
	clr.l	$64(a0)
	move.l	a0,$60(a0)
	move.l	a0,a1
	move.l	$60(a1),a0
	move.l	#$3F800000,d0
	move.l	d0,(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	move.l	d0,(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	clr.l	(a0)+
	move.l	d0,(a0)+
	clr.l	(a0)
	move.l	#2,$64(a1)
	move.l	(a7)+,a2
	rts

	SECTION "_0dt__MODEL__T:0",CODE

	CNOP	0,2

_0dt__MODEL__T
L353
	rts

	SECTION "_0virttab__08xTEXTURE__08xTEXTURE:0",CODE

	XDEF	_0virttab__08xTEXTURE__08xTEXTURE
_0virttab__08xTEXTURE__08xTEXTURE
	dc.l	$38,0
	dc.l	_0dt__xTEXTURE__T,0
	dc.l	Format__AREA__T,0
	dc.l	Depth__AREA__T,0
	dc.l	Height__AREA__T,0
	dc.l	Width__AREA__T,0
	dc.l	$38,0
	dc.l	_0dt__xTEXTURE__T,0

	END
