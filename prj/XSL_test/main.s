
; Storm C Compiler
; Mendoza:Extropia/eXtropia/prj/XSL_test/main.cpp
	mc68030
	mc68881
	XREF	LightSourceTXFX__R08xDISPLAY
	XREF	CampFireFX__R08xDISPLAY
	XREF	BounceFX__R08xDISPLAY
	XREF	TriangleFX__R08xDISPLAY
	XREF	Primitives__R08xDISPLAY
	XREF	Done__xDRAW_
	XREF	Init__xDRAW__Uj
	XREF	Release__xDRAW_
	XREF	Bind__xDRAW__P08xSURFACE
	XREF	Delete__xTEXTURE__T
	XREF	Create__xTEXTURE__TsssPvPUj
	XREF	Close__xDBWIN__T
	XREF	Open__xDBWIN__T
	XREF	Set__xDBWIN__TsssssPCc
	XREF	Idle__xDISPLAYIO_ASYNC__T
	XREF	Done__xDISPLAYIO_ASYNC__T
	XREF	Init__xDISPLAYIO_ASYNC__T
	XREF	MoveEvent__xDISPLAYIO__T
	XREF	ResizeEvent__xDISPLAYIO__T
	XREF	Idle__xDISPLAYIO__T
	XREF	HandleEvent__xDISPLAYIO__T
	XREF	ApplyInputModification__xDISPLAYIO__T
	XREF	ViewSurface__xDISPLAY__T
	XREF	DrawSurface__xDISPLAY__T
	XREF	Refresh__xDISPLAY__T
	XREF	Close__xDISPLAY__T
	XREF	Open__xDISPLAY__T
	XREF	_0dt__xSURFACE__T
	XREF	Done__xGFX_
	XREF	Init__xGFX_
	XREF	_0dt__POOL_ST__T
	XREF	_0ct__POOL_ST__TUsUj
	XREF	FreeT__POOL_ST__TPv
	XREF	NewT__POOL_ST__TPvUs
	XREF	NewT__POOL_ST__TPv
	XREF	Create__POOL_ST__TUsUj
	XREF	PrintAlloc__POOL_ST__TR07ostreamjj
	XREF	_0dt__POOL_LT__T
	XREF	Close__xFILEIO__T
	XREF	Write__xFILEIO__TPvUiUi
	XREF	Read__xFILEIO__TPvUiUi
	XREF	Open__xFILEIO__TPCcjj
	XREF	SendPacket__xFILEIO__TPv
	XREF	WaitPacket__xFILEIO__T
	XREF	InputQueued__xINPUT__T
	XREF	Idle__xINPUT__T
	XREF	ExitEvent__xINPUT__T
	XREF	KeyEvent__xINPUT__Tjs
	XREF	MouseEvent__xINPUT__Tjjj
	XREF	ApplyInputModification__xINPUT__T
	XREF	UnLink__xCHAINABLE__T
	XREF	_0ct__xTHREADABLE__TPCcUjjs
	XREF	ShutDown__xTHREADABLE__T
	XREF	Done__xTHREADABLE__T
	XREF	Init__xTHREADABLE__T
	XREF	_0dt__xLOCKABLE__T
	XREF	FreeLock__xLOCKABLE__Ts
	XREF	WaitLock__xLOCKABLE__T
	XREF	_0dt__sysRTLIB__T
	XREF	MessageBox__sysBASELIB__PcPcPce
	XREF	Error__xBASELIB__jPc
	XREF	Done__xBASELIB_
	XREF	Init__xBASELIB_
	XREF	_system
	XREF	op__leftshift__ostream__Td
	XREF	op__leftshift__ostream__TUj
	XREF	op__leftshift__ostream__Tj
	XREF	op__leftshift__ostream__TPCc
	XREF	op__leftshift__ostream__Tc
	XREF	opfx__ostream__T
	XREF	read__istream__TPci
	XREF	get__istream__TRc
	XREF	getline__istream__TPcic
	XREF	get__istream__TPcic
	XREF	op__rightshift__istream__TRc
	XREF	op__rightshift__istream__TPc
	XREF	doallocate__streambuf__T
	XREF	xsgetn__streambuf__TPci
	XREF	xsputn__streambuf__TPCci
	XREF	underflow__streambuf__T
	XREF	overflow__streambuf__Ti
	XREF	setbuf__streambuf__TPcUi
	XREF	sputn__streambuf__TPCci
	XREF	_0dt__streambuf__T
	XREF	userword__ios__Ti
	XREF	init__ios__TP09streambuf
	XREF	_ftell
	XREF	_fseek
	XREF	_fwrite
	XREF	_fread
	XREF	_vfprintf
	XREF	_sprintf
	XREF	_fflush
	XREF	_feof
	XREF	_fclose
	XREF	_fopen
	XREF	_fgets
	XREF	_memset
	XREF	_memmove
	XREF	_strncpy
	XREF	_std__in
	XREF	_std__out
	XREF	_std__err
	XREF	_basefield__ios
	XREF	_adjustfield__ios
	XREF	_floatfield__ios
	XREF	_aNextBit__ios
	XREF	_aNextWord__ios
	XREF	_cin
	XREF	_cout
	XREF	_cerr
	XREF	_clog
	XREF	_st
	XREF	_gxSt
	XREF	_errBuff__xBASELIB
	XREF	_errSev__xBASELIB
	XREF	_errTbl__xBASELIB
	XREF	_SysBase
	XREF	_IntuitionBase
	XREF	_DOSBase
	XREF	_sysData__sysBASELIB
	XREF	_msgbuff__sysBASELIB
	XREF	_main__sysBASELIB
	XREF	_allocated__MEM
	XREF	_totSize__MEM
	XREF	_nextFree__MEM
	XREF	_cnt__MEM
	XREF	_maxAllocs__MEM
	XREF	_GfxBase
	XREF	_TimerBase
	XREF	_TimerBase__xTIMABLE
	XREF	_current__xTIMABLE
	XREF	_clockFreq__xTIMABLE
	XREF	_threadCnt__xTHREADABLE
	XREF	_main__xTHREADABLE
	XREF	_CyberGfxBase
	XREF	_Warp3DBase
	XREF	_graphics__x2D
	XREF	_cyberGfx__x2D
	XREF	_formatNames__x2D
	XREF	_surfaceTypes__x2D
	XREF	_warp3D__x3D
	XREF	_hw3D__x3D
	XREF	_pointRender__x3D
	XREF	_lineRender__x3D
	XREF	_triangleRender__x3D
	XREF	_otherPrimitives__x3D
	XREF	_shadingModes__x3D
	XREF	_textureModes__x3D
	XREF	_textureFmts__x3D
	XREF	_alpha__x3D
	XREF	_fogModes__x3D
	XREF	_zBuffer__x3D
	XREF	_stencil__x3D
	XREF	_misc__x3D
	XREF	_primNames__x3D
	XREF	_renderNames__x3D
	XREF	_shadingNames__x3D
	XREF	_texModeNames__x3D
	XREF	_texFormatNames__x3D
	XREF	_alphaNames__x3D
	XREF	_fogNames__x3D
	XREF	_zBufferNames__x3D
	XREF	_stencilNames__x3D
	XREF	_miscNames__x3D
	XREF	_drawSurface__x3D
	XREF	_context__x3D
	XREF	_drawRegion__x3D
	XREF	_fogData__x3D
	XREF	_flags__xGFX
	XREF	_mode__xGFX
	XREF	_numModes__xGFX
	XREF	_rPool__xSURFACE
	XREF	_DiskfontBase
	XREF	_fontInfo__xDRAW
	XREF	_fontData__xDRAW
	XREF	_fonts__xDRAW
	XREF	_flags__xDRAW
	XREF	_flushCnt__xDRAW
	XREF	_cTab__xDRAW
	XREF	_sTab__xDRAW
	XREF	_fault__xDRAW
	XREF	_vBufPos__xDRAW
	XREF	_zDepth__xDRAW
	XREF	_maxVBufPos__xDRAW
	XREF	_vArraySize__xDRAW
	XREF	_vArray__xDRAW
	XREF	_vBuffer__xDRAW
	XREF	_nestCount__xDRAW
	XREF	_currentCol__xDRAW

	SECTION "_0ct__streampos__T:0",CODE

	rts

	SECTION "Bound__xDRAW_:0",CODE


	XDEF	_INIT_8_main_cpp_Bound__xDRAW_
_INIT_8_main_cpp_Bound__xDRAW_
	XREF	sym_handlers
L198	EQU	-$7C
	link	a5,#L198
	movem.l	d2-d5/a2/a6,-(a7)
L193
	lea	_test__main_,a0
	move.l	#_0virttab__06xDBWIN__06xDBWIN,$52(a0)
	lea	$D8(a0),a1
	move.l	a1,4(a0)
	lea	$9E(a0),a1
	move.l	a1,(a0)
	move.b	#3,$8(a0)
	move.l	#_0virttab__04AREA__06xDBWIN,$E0(a0)
	move.l	#_0virttab__09xLOCKABLE__06xDBWIN,$D4(a0)
	move.l	#_0virttab__08xSURFACE__08xSURFACE,$66(a0)
	move.l	#_0virttab__08xSURFACE__08xSURFACE,$86(a0)
	lea	_test__main_,a0
	move.l	a0,-$58(a5)
	move.l	#L192,-$54(a5)
	move.w	#$10,-$4E(a5)
	move.w	#$200,d5
	move.w	#$200,d4
	move.w	#$80,d3
	move.w	#$80,d2
	move.l	sym_handlers,-$10(a5)
	move.l	-$58(a5),-$34(a5)
	move.l	-$34(a5),-$C(a5)
	move.l	sym_handlers,-$8(a5)
	move.l	-$34(a5),a0
	btst	#1,$8(a0)
	beq.b	L195
L194
	move.l	-$34(a5),-$18(a5)
	move.l	-$18(a5),a0
	move.l	(a0),-$18(a5)
	move.l	-$18(a5),a1
	clr.l	4(a1)
	move.l	_SysBase,a6
	sub.l	a1,a1
	jsr	-$126(a6)
	move.l	-$18(a5),a1
	move.l	d0,(a1)
	move.l	-$18(a5),a1
	pea	$2E.w
	clr.l	-(a7)
	pea	$8(a1)
	jsr	_memset
	add.w	#$C,a7
	move.l	-$18(a5),a1
	move.l	_SysBase,a6
	lea	$8(a1),a0
	jsr	-$22E(a6)
	lea	-$40(a5),a0
	move.l	-$18(a5),-(a0)
	move.l	#_0dt__xLOCKABLE__T,-(a0)
	move.l	sym_handlers,-(a0)
	move.l	a0,sym_handlers
L195
	move.l	-$34(a5),a0
	btst	#0,$8(a0)
	beq.b	L197
L196
	move.l	-$34(a5),a0
	move.l	4(a0),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
	lea	-$34(a5),a1
	move.l	a0,-(a1)
	move.l	#_0dt__AREA__T,-(a1)
	move.l	sym_handlers,-(a1)
	move.l	a1,sym_handlers
L197
	move.l	-$34(a5),a1
	clr.l	$4A(a1)
	move.l	-$34(a5),a1
	clr.l	$4E(a1)
	move.l	-$8(a5),sym_handlers
	lea	-$70(a5),a0
	move.l	-$C(a5),-(a0)
	move.l	#_0dt__xDISPLAY__T,-(a0)
	move.l	sym_handlers,-(a0)
	move.l	a0,sym_handlers
	move.l	-$58(a5),a0
	clr.l	$56(a0)
	move.l	-$58(a5),a0
	lea	$5E(a0),a6
	move.l	-$58(a5),a1
	lea	$5E(a1),a0
	move.l	sym_handlers,a1
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
	lea	-$18(a5),a2
	move.l	a0,-(a2)
	move.l	#_0dt__AREA__T,-(a2)
	move.l	sym_handlers,-(a2)
	move.l	a2,sym_handlers
	clr.l	$C(a0)
	clr.l	$10(a0)
	clr.l	$14(a0)
	clr.l	$18(a0)
	clr.l	$1C(a0)
	move.l	a1,sym_handlers
	lea	-$58(a5),a0
	move.l	a6,-(a0)
	move.l	#_0dt__xSURFACE__T,-(a0)
	move.l	sym_handlers,-(a0)
	move.l	a0,sym_handlers
	move.l	-$58(a5),a0
	lea	$7E(a0),a6
	move.l	-$58(a5),a1
	lea	$7E(a1),a0
	move.l	sym_handlers,a1
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
	lea	-$24(a5),a2
	move.l	a0,-(a2)
	move.l	#_0dt__AREA__T,-(a2)
	move.l	sym_handlers,-(a2)
	move.l	a2,sym_handlers
	clr.l	$C(a0)
	clr.l	$10(a0)
	clr.l	$14(a0)
	clr.l	$18(a0)
	clr.l	$1C(a0)
	move.l	a1,sym_handlers
	lea	-$64(a5),a0
	move.l	a6,-(a0)
	move.l	#_0dt__xSURFACE__T,-(a0)
	move.l	sym_handlers,-(a0)
	move.l	a0,sym_handlers
	move.l	-$54(a5),-(a7)
	move.w	-$4E(a5),-(a7)
	move.w	d5,-(a7)
	move.w	d4,-(a7)
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	move.l	-$58(a5),-(a7)
	jsr	Set__xDBWIN__TsssssPCc
	add.w	#$12,a7
	move.l	-$10(a5),sym_handlers
	movem.l	(a7)+,d2-d5/a2/a6
	unlk	a5
	rts

L192
	dc.b	'Test Window [class xDBWIN]',0

	SECTION "main_:0",CODE


	XDEF	_EXIT_8_main_cpp_main_
_EXIT_8_main_cpp_main_
L204	EQU	-4
	link	a5,#L204
	move.l	a2,-(a7)
L199
	move.l	#_test__main_,a2
	move.l	a2,-(a7)
	jsr	Close__xDBWIN__T
	addq.w	#4,a7
	pea	$7E(a2)
	jsr	_0dt__xSURFACE__T
	addq.w	#4,a7
	pea	$5E(a2)
	jsr	_0dt__xSURFACE__T
	addq.w	#4,a7
	move.l	a2,a0
	btst	#0,$8(a0)
L200
L201
	btst	#1,$8(a0)
	beq.b	L203
L202
	move.l	(a0),-(a7)
	jsr	_0dt__xLOCKABLE__T
	addq.w	#4,a7
L203
	move.l	(a7)+,a2
	unlk	a5
	rts

;int main()
	XDEF	main_
main_
L250	EQU	-6
	link	a5,#L250
	move.l	d2,-(a7)
L221
;	if (xBASELIB::Init()!=OK)
	jsr	Init__xBASELIB_
	tst.l	d0
	beq.b	L223
L222
	moveq	#$A,d0
	move.l	(a7)+,d2
	unlk	a5
	rts
L223
;	if (xGFX::Init()!=OK)
	jsr	Init__xGFX_
	tst.l	d0
	beq.b	L225
L224
; 		sysBASELIB::MessageBox("Program Aborted", "OK", xB
	move.l	#L205,-(a7)
	move.l	#-$3050008,-(a7)
	jsr	Error__xBASELIB__jPc
	addq.w	#$8,a7
	move.l	d0,-(a7)
	move.l	#L206,-(a7)
	move.l	#L207,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;		goto 
	bra	L249
L225
;		if (xDRAW::Init()==OK)
	pea	$200.w
	jsr	Init__xDRAW__Uj
	addq.w	#4,a7
	tst.l	d0
	bne	L248
L226
;			test.Open();
	move.l	#_test__main_,-(a7)
	jsr	Open__xDBWIN__T
	addq.w	#4,a7
;			if (xDRAW::Bind(test.DrawSurface())==OK)
	move.l	#_test__main_,a0
	pea	$5E(a0)
	jsr	Bind__xDRAW__P08xSURFACE
	addq.w	#4,a7
	tst.l	d0
	bne	L247
L227
;				bool quit=0;
	moveq	#0,d2
;				while (quit==0)
	bra	L245
L228
;					uint32 choose = sysBASELIB::MessageBox("xDRAW", "1|2|3|4|5
	move.l	#L208,-(a7)
	move.l	#L209,-(a7)
	move.l	#L210,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;					switch (choose)
	cmp.l	#3,d0
	beq	L235
	bhi.b	L251
	cmp.l	#1,d0
	beq.b	L229
	cmp.l	#2,d0
	beq	L232
	bra	L244
L251
	cmp.l	#4,d0
	beq	L238
	cmp.l	#5,d0
	beq	L241
	bra	L244
;						
L229
;							sysBASELIB::MessageBox("Info", "Go on", "x
	move.l	#L211,-(a7)
	move.l	#L212,-(a7)
	move.l	#L213,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;							cout << "Took :  " << Primitives(test) << "ms\n";
	move.l	#L214,-(a7)
	pea	_test__main_
	jsr	Primitives__R08xDISPLAY
	addq.w	#4,a7
	move.l	d0,-(a7)
	move.l	#L215,-(a7)
	move.l	_cout,a0
	cmp.w	#0,a0
	beq.b	L231
L230
	addq.w	#4,a0
L231
	move.l	a0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TUj
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
;							
	bra	L245
L232
;							sysBASELIB::MessageBox("Info", "Go on", "D
	move.l	#L216,-(a7)
	move.l	#L212,-(a7)
	move.l	#L213,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;							cout << "Took " << TriangleFX(test) << "ms\n";
	move.l	#L214,-(a7)
	pea	_test__main_
	jsr	TriangleFX__R08xDISPLAY
	addq.w	#4,a7
	move.l	d0,-(a7)
	move.l	#L217,-(a7)
	move.l	_cout,a0
	cmp.w	#0,a0
	beq.b	L234
L233
	addq.w	#4,a0
L234
	move.l	a0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TUj
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
;							
	bra	L245
L235
;							sysBASELIB::MessageBox("Info", "Go on", "D
	move.l	#L218,-(a7)
	move.l	#L212,-(a7)
	move.l	#L213,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;							cout << "Took " << BounceFX(test) << "ms\n";
	move.l	#L214,-(a7)
	pea	_test__main_
	jsr	BounceFX__R08xDISPLAY
	addq.w	#4,a7
	move.l	d0,-(a7)
	move.l	#L217,-(a7)
	move.l	_cout,a0
	cmp.w	#0,a0
	beq.b	L237
L236
	addq.w	#4,a0
L237
	move.l	a0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TUj
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
;							
	bra	L245
L238
;							sysBASELIB::MessageBox("Info", "Go on", "D
	move.l	#L219,-(a7)
	move.l	#L212,-(a7)
	move.l	#L213,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;							cout << "Took " << CampFireFX(test) << "ms\n";
	move.l	#L214,-(a7)
	pea	_test__main_
	jsr	CampFireFX__R08xDISPLAY
	addq.w	#4,a7
	move.l	d0,-(a7)
	move.l	#L217,-(a7)
	move.l	_cout,a0
	cmp.w	#0,a0
	beq.b	L240
L239
	addq.w	#4,a0
L240
	move.l	a0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TUj
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
;							
	bra.b	L245
L241
;							sysBASELIB::MessageBox("Info", "Go on", "D
	move.l	#L220,-(a7)
	move.l	#L212,-(a7)
	move.l	#L213,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;							cout << "Took " << LightSourceTXFX(test) << "ms\n";
	move.l	#L214,-(a7)
	pea	_test__main_
	jsr	LightSourceTXFX__R08xDISPLAY
	addq.w	#4,a7
	move.l	d0,-(a7)
	move.l	#L217,-(a7)
	move.l	_cout,a0
	cmp.w	#0,a0
	beq.b	L243
L242
	addq.w	#4,a0
L243
	move.l	a0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TUj
	addq.w	#$8,a7
	move.l	d0,-(a7)
	jsr	op__leftshift__ostream__TPCc
	addq.w	#$8,a7
;							
	bra.b	L245
L244
;							quit = TRUE;
	moveq	#1,d2
;							
L245
	tst.w	d2
	beq	L228
L246
;				xDRAW::Release();
	jsr	Release__xDRAW_
L247
;			test.Close();
	move.l	#_test__main_,-(a7)
	jsr	Close__xDBWIN__T
	addq.w	#4,a7
L248
;		xDRAW::Done();
	jsr	Done__xDRAW_
L249
;	xGFX::Done();
	jsr	Done__xGFX_
;	xBASELIB::Done();
	jsr	Done__xBASELIB_
	moveq	#0,d0
	move.l	(a7)+,d2
	unlk	a5
	rts

L209
	dc.b	'1|2|3|4|5|Exit',0
L216
	dc.b	'Demo 2',$A,$A,'Example of alpha blending',$A,'on shaded surfaces'
	dc.b	0
L218
	dc.b	'Demo 3',$A,$A,'Picture of a motion blurred',$A,'ball falling dra'
	dc.b	'wn only',$A,'using primitives',0
L219
	dc.b	'Demo 4',$A,$A,'A (not so) cosy camp fire!',$A,'Demonstrates simp'
	dc.b	'le texture',$A,'animation with blending',0
L220
	dc.b	'Demo 5',$A,$A,'Sprite animation using a special',$A,'AB3D-II sty'
	dc.b	'le lightmapped bitmap',$A,'to simulate realtime lightsourcing',$A
	dc.b	'by blending 5 precalculated',$A,'source maps',$A,$A,'This is *ve'
	dc.b	'ry* hard in software!',0
L212
	dc.b	'Go on',0
L213
	dc.b	'Info',0
L206
	dc.b	'OK',0
L207
	dc.b	'Program Aborted',0
L217
	dc.b	'Took ',0
L215
	dc.b	'Took :  ',0
L208
	dc.b	'Welcome to the eXtropia xDRAW Demonstration',$A,$A
	dc.b	'Version 0.1 Beta ('
	dc.b	'Dec 18 19:1'
	dc.b	') Amiga68K',$A
	dc.b	'Demo 1 : Basic Primitives',$A
	dc.b	'Demo 2 : Transparency 1',$A
	dc.b	'Demo 3 : Transparency 2',$A
	dc.b	'Demo 4 : Texture Anim',$A
	dc.b	'Demo 5 : Lightsourcable Textures',0
L214
	dc.b	'ms',$A,0
L210
	dc.b	'xDRAW',0
L211
	dc.b	'xDRAW Demonstration',$A,'Demo 1',$A,$A,'Basic Primitives and',$A
	dc.b	'supported shading methods',0
L205
	dc.b	'xGFX',0

	SECTION "main_:1",DATA

_test__main_
	ds.b	228

	SECTION "Width__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Width__AREA__T
Width__AREA__T
L253	EQU	0
	link	a5,#L253
	move.l	$8(a5),a0
L252
	move.w	(a0),d0
	ext.l	d0
	unlk	a5
	rts

	SECTION "Height__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Height__AREA__T
Height__AREA__T
L255	EQU	0
	link	a5,#L255
	move.l	$8(a5),a0
L254
	move.w	2(a0),d0
	ext.l	d0
	unlk	a5
	rts

	SECTION "Depth__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Depth__AREA__T
Depth__AREA__T
L257	EQU	0
	link	a5,#L257
	move.l	$8(a5),a0
L256
	move.w	4(a0),d0
	ext.l	d0
	unlk	a5
	rts

	SECTION "Format__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Format__AREA__T
Format__AREA__T
L259	EQU	0
	link	a5,#L259
	move.l	$8(a5),a0
L258
	move.w	6(a0),d0
	ext.l	d0
	unlk	a5
	rts

	SECTION "_0dt__AREA__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__AREA__T
_0dt__AREA__T
L261	EQU	0
	link	a5,#L261
L260
	unlk	a5
	rts

	SECTION "_0dt__xDISPLAY__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__xDISPLAY__T
_0dt__xDISPLAY__T
L267	EQU	-4
	link	a5,#L267
	move.l	$8(a5),a0
L262
	btst	#0,$8(a0)
L263
L264
	btst	#1,$8(a0)
	beq.b	L266
L265
	move.l	(a0),-(a7)
	jsr	_0dt__xLOCKABLE__T
	addq.w	#4,a7
L266
	unlk	a5
	rts

	SECTION "Refresh__xDBWIN__T:0",CODE

	CNOP	0,2

	XDEF	Refresh__xDBWIN__T
Refresh__xDBWIN__T
L269	EQU	0
	link	a5,#L269
	movem.l	d2-d6/a6,-(a7)
	move.l	$8(a5),a0
L268
	move.l	$4E(a0),a1
	move.w	$A(a1),d5
	ext.l	d5
	move.l	$4E(a0),a1
	move.b	$37(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d5
	move.l	$4E(a0),a1
	move.b	$39(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d5
	move.l	$4E(a0),a1
	move.w	$8(a1),d4
	ext.l	d4
	move.l	$4E(a0),a1
	move.b	$36(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d4
	move.l	$4E(a0),a1
	move.b	$38(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d4
	move.l	$4E(a0),a1
	move.b	$37(a1),d3
	ext.w	d3
	move.l	$4E(a0),a1
	move.b	$36(a1),d2
	ext.w	d2
	lea	$7E(a0),a1
	ext.l	d5
	ext.l	d4
	ext.l	d3
	ext.l	d2
	moveq	#0,d1
	ext.l	d1
	moveq	#0,d0
	ext.l	d0
	move.l	_GfxBase,a6
	move.l	#$C0,d6
	move.l	$6A(a0),a0
	move.l	$C(a1),a1
	jsr	-$228(a6)
	movem.l	(a7)+,d2-d6/a6
	unlk	a5
	rts

	SECTION "DrawSurface__xDBWIN__T:0",CODE

	CNOP	0,2

	XDEF	DrawSurface__xDBWIN__T
DrawSurface__xDBWIN__T
L271	EQU	0
	link	a5,#L271
	move.l	$8(a5),a0
L270
	moveq	#$5E,d0
	add.l	a0,d0
	unlk	a5
	rts

	SECTION "ViewSurface__xDBWIN__T:0",CODE

	CNOP	0,2

	XDEF	ViewSurface__xDBWIN__T
ViewSurface__xDBWIN__T
L273	EQU	0
	link	a5,#L273
	move.l	$8(a5),a0
L272
	moveq	#$7E,d0
	add.l	a0,d0
	unlk	a5
	rts

	SECTION "_0dt__xDBWIN__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__xDBWIN__T
_0dt__xDBWIN__T
L279	EQU	-4
	link	a5,#L279
	move.l	a2,-(a7)
	move.l	$8(a5),a2
L274
	move.l	a2,-(a7)
	jsr	Close__xDBWIN__T
	addq.w	#4,a7
	pea	$7E(a2)
	jsr	_0dt__xSURFACE__T
	addq.w	#4,a7
	pea	$5E(a2)
	jsr	_0dt__xSURFACE__T
	addq.w	#4,a7
	move.l	a2,a0
	btst	#0,$8(a0)
L275
L276
	btst	#1,$8(a0)
	beq.b	L278
L277
	move.l	(a0),-(a7)
	jsr	_0dt__xLOCKABLE__T
	addq.w	#4,a7
L278
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "_0virttab__08xSURFACE__08xSURFACE:0",CODE

	XDEF	_0virttab__08xSURFACE__08xSURFACE
_0virttab__08xSURFACE__08xSURFACE
	dc.l	$20,0
	dc.l	_0dt__xSURFACE__T,0
	dc.l	Format__AREA__T,0
	dc.l	Depth__AREA__T,0
	dc.l	Height__AREA__T,0
	dc.l	Width__AREA__T,0
	dc.l	$20,0
	dc.l	_0dt__xSURFACE__T,0

	SECTION "_0virttab__06xDBWIN__06xDBWIN:0",CODE

	XDEF	_0virttab__06xDBWIN__06xDBWIN
_0virttab__06xDBWIN__06xDBWIN
	dc.l	$E4,0
	dc.l	_0dt__xDBWIN__T,0
	dc.l	ViewSurface__xDBWIN__T,0
	dc.l	DrawSurface__xDBWIN__T,0
	dc.l	Refresh__xDBWIN__T,0
	dc.l	Close__xDBWIN__T,0
	dc.l	Open__xDBWIN__T,0
	dc.l	$E4,0
	dc.l	_0dt__xDBWIN__T,0
	dc.l	ViewSurface__xDBWIN__T,0
	dc.l	DrawSurface__xDBWIN__T,0
	dc.l	Refresh__xDBWIN__T,0
	dc.l	Close__xDBWIN__T,0
	dc.l	Open__xDBWIN__T,0

	SECTION "_0virttab__09xLOCKABLE__06xDBWIN:0",CODE

	XDEF	_0virttab__09xLOCKABLE__06xDBWIN
_0virttab__09xLOCKABLE__06xDBWIN
	dc.l	$E4,-$9E
	dc.l	_0dt__xDBWIN__T,-$9E

	SECTION "_0virttab__04AREA__06xDBWIN:0",CODE

	XDEF	_0virttab__04AREA__06xDBWIN
_0virttab__04AREA__06xDBWIN
	dc.l	$E4,-$D8
	dc.l	_0dt__xDBWIN__T,-$D8
	dc.l	Format__AREA__T,0
	dc.l	Depth__AREA__T,0
	dc.l	Height__AREA__T,0
	dc.l	Width__AREA__T,0

	END
