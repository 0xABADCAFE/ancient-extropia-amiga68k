
; Storm C Compiler
; Developer:eXtropia/eXtropiaOld/prj/xDAC/APP.cpp
	mc68030
	mc68881
	XREF	Save__AIFF__TPCc
	XREF	Load__AIFF__TPCc
	XREF	_0dt__XDACCODEC__T
	XREF	_0ct__XDAC__TjsUsUsPUsUs
	XREF	ReadBody__XDAC__TR05XSFIO
	XREF	WriteBody__XDAC__TR05XSFIO
	XREF	_0dt__XDACENCODE__T
	XREF	Write__XDACENCODE__TR05XSFIO
	XREF	op__minusminus__XDACENCODE__Ti
	XREF	op__Cplusplus__XDACENCODE__Ti
	XREF	Last__XDACENCODE__T
	XREF	First__XDACENCODE__T
	XREF	Size__XDACENCODE__Ts
	XREF	Set__XDACENCODE__TR03PCMsss
	XREF	Analyse__XDACENCODE__T
	XREF	FreeSpace__XDACENCODE__T
	XREF	_0dt__DRAWLIST__T
	XREF	_0ct__DRAWLIST__T
	XREF	Delete__DRAWLIST__T
	XREF	Create__DRAWLIST__Tjj
	XREF	End__DRAWLIST__T
	XREF	Begin__DRAWLIST__T
	XREF	Disable__DRAWLIST__TE
	XREF	Enable__DRAWLIST__TE
	XREF	Clear__DRAWLIST__TUj
	XREF	RectShV__DRAWLIST__TPUjssss
	XREF	RectShH__DRAWLIST__TPUjssss
	XREF	Rect__DRAWLIST__TUjssss
	XREF	Line__DRAWLIST__TUjssss
	XREF	LineStrip__DRAWLIST__Tj
	XREF	GetVertices__DRAWLIST__Tjs
	XREF	SetColour__DRAWLIST__TUj
	XREF	Done__DRAW_
	XREF	Init__DRAW_
	XREF	Release__DRAW_
	XREF	Bind__DRAW__P08xSURFACE
	XREF	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	XREF	WriteText__xTEXFONT__TP08DRAWLISTUjssPc
	XREF	Delete__xTEXFONT__T
	XREF	LoadFixedPGM__xTEXFONT__TPCc
	XREF	SetFixed__xTEXFONT__Tsssss
	XREF	_0ct__xTEXSURF__T
	XREF	Delete__xTEXSURF__T
	XREF	ReadBody__xTEXSURF__TR05XSFIO
	XREF	WriteBody__xTEXSURF__TR05XSFIO
	XREF	ReadyForRead__xTEXSURF__T
	XREF	ReadyForWrite__xTEXSURF__T
	XREF	Refresh__xDBSCREEN__T
	XREF	Close__xDBSCREEN__T
	XREF	Open__xDBSCREEN__T
	XREF	Close__xSCREEN__T
	XREF	Open__xSCREEN__T
	XREF	Set__xSCREEN__TP06xDMODEPCc
	XREF	Close__xDBWIN__T
	XREF	Open__xDBWIN__T
	XREF	Set__xDBWIN__TsssssPCc
	XREF	MoveEvent__xDISPLAYIO__T
	XREF	ResizeEvent__xDISPLAYIO__T
	XREF	Idle__xDISPLAYIO__T
	XREF	HandleEvent__xDISPLAYIO__T
	XREF	ApplyInputModification__xDISPLAYIO__T
	XREF	ViewSurface__xDISPLAY__T
	XREF	DrawSurface__xDISPLAY__T
	XREF	Refresh__xDISPLAY__T
	XREF	Close__xDISPLAY__T
	XREF	Open__xDISPLAY__T
	XREF	_0dt__LOCK__T
	XREF	_0dt__THREAD__T
	XREF	Run__THREAD__T
	XREF	_0dt__DELAY__T
	XREF	_0ct__DELAY__T
	XREF	Pause__DELAY__TUj
	XREF	Pause__DELAY__TUjUj
	XREF	Abort__DELAY__T
	XREF	UnLink__xCHAINABLE__T
	XREF	LinkEnd__xCHAINABLE__TP06xCHAIN
	XREF	_0dt__xSURFACE__T
	XREF	_0dt__POOL_ST__T
	XREF	_0ct__POOL_ST__TUsUj
	XREF	FreeT__POOL_ST__TPv
	XREF	NewT__POOL_ST__TPvUs
	XREF	NewT__POOL_ST__TPv
	XREF	Create__POOL_ST__TUsUj
	XREF	_0dt__POOL_LT__T
	XREF	Done__xGFX_
	XREF	Init__xGFX_
	XREF	DrawSurface__x3D__P08xSURFACE
	XREF	v3DrawLineStrip__x3D__jj
	XREF	v3DrawLines__x3D__jj
	XREF	Delete__xPCM__T
	XREF	ReadBody__xPCM__TR05XSFIO
	XREF	WriteBody__xPCM__TR05XSFIO
	XREF	Delete__PCM__Ts
	XREF	New__PCM__Tjjj
	XREF	SaveRaw16__PCM__TPCc
	XREF	LoadRaw16__PCM__TPCcUss
	XREF	Data__PCM__T
	XREF	Free__PCM__T
	XREF	_0ct__XSFOBJ__T
	XREF	Write__XSFOBJ__TR05XSFIO
	XREF	Create__XSFBASIC__TPCcj
	XREF	Set__XSFHEAD__TPCcUcUcUcUc
	XREF	op__equal__XSFHEAD__TR05XSFIO
	XREF	op__equal__XSFHEAD__TR07XSFHEAD
	XREF	op__notEqual__XSFHEAD__TR07XSFHEAD
	XREF	Value__XDATAID__TPCc
	XREF	Done__xAUDIO_
	XREF	Init__xAUDIO_
	XREF	Close__xFILEIO__T
	XREF	Flush__xFILEIO__T
	XREF	Write64Swap__xFILEIO__TPvUi
	XREF	Write32Swap__xFILEIO__TPvUi
	XREF	Write16Swap__xFILEIO__TPvUi
	XREF	Write__xFILEIO__TPvUiUi
	XREF	Read64Swap__xFILEIO__TPvUi
	XREF	Read32Swap__xFILEIO__TPvUi
	XREF	Read16Swap__xFILEIO__TPvUi
	XREF	Read__xFILEIO__TPvUiUi
	XREF	Tell__xFILEIO__T
	XREF	Seek__xFILEIO__Tjj
	XREF	Open__xFILEIO__TPCcjj
	XREF	SendPacket__xFILEIO__TPv
	XREF	WaitPacket__xFILEIO__T
	XREF	InputQueued__xINPUT__T
	XREF	Idle__xINPUT__T
	XREF	ExitEvent__xINPUT__T
	XREF	MouseEvent__xINPUT__Tjjj
	XREF	ApplyInputModification__xINPUT__T
	XREF	_0dt__xKEY__T
	XREF	_0ct__xKEY__T
	XREF	KeyEvent__xKEY__Tjsj
	XREF	DebugInfo__MEM_
	XREF	Free__MEM__Pv
	XREF	MessageBox__sysBASELIB__PcPcPce
	XREF	_system
	XREF	_labs
	XREF	_std__in
	XREF	_std__out
	XREF	_std__err
	XREF	_st
	XREF	_gxSt
	XREF	_numStartArgs__xBASELIB
	XREF	_startArgs__xBASELIB
	XREF	_SysBase
	XREF	_IntuitionBase
	XREF	_TimerBase
	XREF	_DOSBase
	XREF	_PowerPCBase
	XREF	_sysData__sysBASELIB
	XREF	_msgbuff__sysBASELIB
	XREF	_main__sysBASELIB
	XREF	_allocated__MEM
	XREF	_totSize__MEM
	XREF	_nextFree__MEM
	XREF	_cnt__MEM
	XREF	_maxAllocs__MEM
	XREF	_fpuPrecision__CPU
	XREF	_cpuNames__CPU
	XREF	_KeymapBase
	XREF	_useCount__xKEY
	XREF	_AHIBase
	XREF	_AHIport__xAUDIO
	XREF	_AHImain__xAUDIO
	XREF	_flags__xAUDIO
	XREF	_sigXSF__XSFHEAD
	XREF	_fileMarker__XSFOBJ
	XREF	_rawSig__PCM
	XREF	_GfxBase
	XREF	_CyberGfxBase
	XREF	_surfaceTypes__x2D
	XREF	_Warp3DBase
	XREF	_hw3D__sys3DDEVICE
	XREF	_context__sys3DDEVICE
	XREF	_drawRegion__x3D
	XREF	_fogData__x3D
	XREF	_flags__x3D
	XREF	_vertices__x3D
	XREF	_currTex__x3D
	XREF	_drawSurface__x3D
	XREF	_currCol__x3D
	XREF	_useV4__x3D
	XREF	_flags__xGFX
	XREF	_mode__xGFX
	XREF	_numModes__xGFX
	XREF	_rPool__xSURFACE
	XREF	_TimerBase__MILLICLOCK
	XREF	_current__MILLICLOCK
	XREF	_clockFreq__MILLICLOCK
	XREF	_threadCnt__THREAD
	XREF	_threadsIdle__THREAD
	XREF	_rootThread__THREAD
	XREF	_DiskfontBase
	XREF	_flags__DRAW
	XREF	_stack__VGPU
	XREF	_stackPos__VGPU
	XREF	_vertexBase__VGPU
	XREF	_vertexTop__VGPU
	XREF	_dataPos__VGPU
	XREF	_instPos__VGPU
	XREF	_exe_flags__VGPU
	XREF	_exe_stateReg__VGPU
	XREF	_exe_colourReg__VGPU
	XREF	_exe_texReg__VGPU
	XREF	_exe_fogReg__VGPU
	XREF	_exe_errReg__VGPU
	XREF	_funcTab__VGPU
	XREF	_qTrigTab__DRAWLIST

	SECTION "Round16__r23d:0",CODE

	rts

	SECTION "_draw:0",CODE


	XDEF	_INIT_8_APP_cpp__draw
_INIT_8_APP_cpp__draw
L251	EQU	0
	link	a5,#L251
L250
;DRAWLIST	draw;
	lea	_draw,a0
	lea	$62(a0),a1
	move.l	a1,4(a0)
	lea	$62(a0),a1
	move.l	a1,(a0)
	move.b	#3,$8(a0)
	pea	_draw
	jsr	_0ct__DRAWLIST__T
	addq.w	#4,a7
	unlk	a5
	rts

	XDEF	_EXIT_8_APP_cpp__draw
_EXIT_8_APP_cpp__draw
L253	EQU	0
	link	a5,#L253
L252
	move.l	#_draw,-(a7)
	jsr	_0dt__DRAWLIST__T
	addq.w	#4,a7
	unlk	a5
	rts

	SECTION "_draw:2",BSS

	XDEF	_draw
_draw
	ds.b	98

	SECTION "_font:0",CODE


	XDEF	_INIT_8_APP_cpp__font
_INIT_8_APP_cpp__font
L255	EQU	0
	link	a5,#L255
	move.l	a2,-(a7)
L254
;xTEXFONT	font;
	lea	_font,a0
	move.l	#_0virttab__08xTEXFONT__08xTEXFONT,$22(a0)
	move.l	#_0virttab__08xTEXSURF__08xTEXFONT,$C(a0)
	lea	$36(a0),a1
	move.l	a1,(a0)
	move.b	#1,$10(a0)
	move.l	#_0virttab__06XSFOBJ__08xTEXFONT,$52(a0)
	lea	_font,a2
	move.l	a2,-(a7)
	jsr	_0ct__xTEXSURF__T
	addq.w	#4,a7
	clr.l	$26(a2)
	clr.l	$2A(a2)
	move.l	(a7)+,a2
	unlk	a5
	rts

	XDEF	_EXIT_8_APP_cpp__font
_EXIT_8_APP_cpp__font
L259	EQU	-$10
	link	a5,#L259
	move.l	a2,-(a7)
L256
	move.l	#_font,a2
	move.l	a2,-(a7)
	jsr	Delete__xTEXFONT__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	Delete__xTEXSURF__T
	addq.w	#4,a7
	btst	#0,$10(a2)
L257
L258
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "_font:2",BSS

	XDEF	_font
_font
	ds.b	86

	SECTION "_viewWindow__APP:0",CODE


	XDEF	_INIT_8_APP_cpp__viewWindow__APP
_INIT_8_APP_cpp__viewWindow__APP
L262	EQU	0
	link	a5,#L262
L261
;APPWINDOW APP::viewWindow(128,128,800,600,16,"xDAC " X_PLA
	lea	_viewWindow__APP,a0
	move.l	#_0virttab__09APPWINDOW__09APPWINDOW,$9E(a0)
	move.l	a0,a1
	move.l	a1,$9A(a0)
	clr.b	$A6(a0)
	move.l	#_0virttab__06xDBWIN__09APPWINDOW,$4E(a0)
	lea	$BC(a0),a1
	move.l	a1,(a0)
	move.b	#1,4(a0)
	move.l	#_0virttab__04AREA__09APPWINDOW,$C4(a0)
	move.l	#_0virttab__08xSURFACE__08xSURFACE,$62(a0)
	move.l	#_0virttab__08xSURFACE__08xSURFACE,$82(a0)
	move.l	#L260,-(a7)
	move.w	#$10,-(a7)
	move.w	#$258,-(a7)
	move.w	#$320,-(a7)
	move.w	#$80,-(a7)
	move.w	#$80,-(a7)
	pea	_viewWindow__APP
	jsr	_0ct__APPWINDOW__TsssssPCc
	add.w	#$12,a7
	unlk	a5
	rts

	XDEF	_EXIT_8_APP_cpp__viewWindow__APP
_EXIT_8_APP_cpp__viewWindow__APP
L264	EQU	0
	link	a5,#L264
L263
	move.l	#_viewWindow__APP,-(a7)
	jsr	_0dt__APPWINDOW__T
	addq.w	#4,a7
	unlk	a5
	rts

L260
	dc.b	'xDAC '
	dc.b	'AmigaOS',0

	SECTION "_viewWindow__APP:1",DATA

	XDEF	_viewWindow__APP
_viewWindow__APP
	ds.b	200

	SECTION "_sourceWave__APP:0",CODE


	XDEF	_INIT_8_APP_cpp__sourceWave__APP
_INIT_8_APP_cpp__sourceWave__APP
L266	EQU	0
	link	a5,#L266
	move.l	a2,-(a7)
L265
;DRAWWAVE	APP::sourceWave;
	lea	_sourceWave__APP,a0
	move.l	#_0virttab__08DRAWWAVE__08DRAWWAVE,$24(a0)
	move.l	#_0virttab__04AIFF__08DRAWWAVE,$10(a0)
	lea	_sourceWave__APP,a1
	move.l	a1,a0
	move.l	a0,a1
	clr.l	(a1)
	clr.l	4(a1)
	clr.l	$8(a1)
	lea	$14(a0),a1
	clr.l	$8(a1)
	clr.l	$C(a1)
	clr.l	$28(a0)
	move.l	(a7)+,a2
	unlk	a5
	rts

	XDEF	_EXIT_8_APP_cpp__sourceWave__APP
_EXIT_8_APP_cpp__sourceWave__APP
L268	EQU	0
	link	a5,#L268
	move.l	a2,-(a7)
L267
	move.l	#_sourceWave__APP,a0
	move.l	a0,a2
	pea	$14(a0)
	jsr	UnLink__xCHAINABLE__T
	addq.w	#4,a7
	pea	(a2)
	jsr	Free__PCM__T
	addq.w	#4,a7
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "_sourceWave__APP:2",BSS

	XDEF	_sourceWave__APP
_sourceWave__APP
	ds.b	72

	SECTION "_frame__APP:0",CODE


	XDEF	_INIT_8_APP_cpp__frame__APP
_INIT_8_APP_cpp__frame__APP
L270	EQU	0
	link	a5,#L270
	move.l	a2,-(a7)
L269
;DRAWFRAME	APP::frame;
	move.l	#_0virttab__09DRAWFRAME__09DRAWFRAME,_frame__APP+$58
	lea	_frame__APP,a0
	clr.l	(a0)
	clr.l	4(a0)
	clr.l	$8(a0)
	clr.l	$C(a0)
	clr.w	$2C(a0)
	lea	$48(a0),a1
	clr.l	$8(a1)
	clr.l	$C(a1)
	clr.l	$5C(a0)
	move.l	(a7)+,a2
	unlk	a5
	rts

	XDEF	_EXIT_8_APP_cpp__frame__APP
_EXIT_8_APP_cpp__frame__APP
L272	EQU	0
	link	a5,#L272
	move.l	a2,-(a7)
L271
	move.l	#_frame__APP,a0
	move.l	a0,a2
	pea	$48(a0)
	jsr	UnLink__xCHAINABLE__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	_0dt__XDACENCODE__T
	addq.w	#4,a7
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "_frame__APP:2",BSS

	XDEF	_frame__APP
_frame__APP
	ds.b	116

	SECTION "_xDacName__APP:1",DATA

	XDEF	_xDacName__APP
_xDacName__APP
	dc.l	0

	SECTION "Init__APP__PCcPCcjjs:0",CODE


;sint32 APP::Init(const char* wave, const char* xName, sint32 frameSi
	XDEF	Init__APP__PCcPCcjjs
Init__APP__PCcPCcjjs
L313	EQU	-$8
	link	a5,#L313
	movem.l	d2-d6/a2/a3,-(a7)
	movem.l	$10(a5),d2/d5
	move.w	$18(a5),d6
	move.l	$C(a5),a2
	move.l	$8(a5),a3
L283
;	if (xAUDIO::Init()!=OK)
	jsr	Init__xAUDIO_
	tst.l	d0
	beq.b	L285
L284
;		Done();
	jsr	Done__APP_
;		return ERR_RSC_INVALID;
	move.l	#-$3050008,d0
	movem.l	(a7)+,d2-d6/a2/a3
	unlk	a5
	rts
L285
;	if (xGFX::Init()!=OK)
	jsr	Init__xGFX_
	tst.l	d0
	beq.b	L287
L286
;		Done();
	jsr	Done__APP_
;		return ERR_RSC_INVALID;
	move.l	#-$3050008,d0
	movem.l	(a7)+,d2-d6/a2/a3
	unlk	a5
	rts
L287
;	else if (DRAW::Init()!=OK)
	jsr	Init__DRAW_
	tst.l	d0
	beq.b	L289
L288
;		Done();
	jsr	Done__APP_
;		return ERR_RSC_INVALID;
	move.l	#-$3050008,d0
	movem.l	(a7)+,d2-d6/a2/a3
	unlk	a5
	rts
L289
;	if (viewWindow.Open()!=OK)
	move.l	#_viewWindow__APP,-(a7)
	jsr	Open__APPWINDOW__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L291
L290
; 		sysBASELIB::MessageBox("Program Aborted", "OK", "U
	move.l	#L275,-(a7)
	move.l	#L276,-(a7)
	move.l	#L277,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;		Done();
	jsr	Done__APP_
;		return ERR_RSC_INVALID;
	move.l	#-$3050008,d0
	movem.l	(a7)+,d2-d6/a2/a3
	unlk	a5
	rts
L291
;	if (draw.Create(8192,1024)!=OK)
	pea	$400.w
	pea	$2000.w
	move.l	#_draw,-(a7)
	jsr	Create__DRAWLIST__Tjj
	add.w	#$C,a7
	tst.l	d0
	beq.b	L293
L292
; 		sysBASELIB::MessageBox("Program Aborted", "OK", "U
	move.l	#L278,-(a7)
	move.l	#L276,-(a7)
	move.l	#L277,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;		Done();
	jsr	Done__APP_
;		return ERR_RSC_INVALID;
	move.l	#-$3050008,d0
	movem.l	(a7)+,d2-d6/a2/a3
	unlk	a5
	rts
L293
;	if (font.LoadFixedPGM("data/font.pgm")!=OK)
	move.l	#L279,-(a7)
	move.l	#_font,-(a7)
	jsr	LoadFixedPGM__xTEXFONT__TPCc
	addq.w	#$8,a7
	tst.l	d0
	beq.b	L295
L294
; 		sysBASELIB::MessageBox("Program Aborted", "OK", "U
	move.l	#L280,-(a7)
	move.l	#L276,-(a7)
	move.l	#L277,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;		Done();
	jsr	Done__APP_
;		return ERR_RSC_INVALID;
	move.l	#-$3050008,d0
	movem.l	(a7)+,d2-d6/a2/a3
	unlk	a5
	rts
L295
;		font.SetFixed(7, 13, 8, 14, 16);
	move.w	#$10,-(a7)
	move.w	#$E,-(a7)
	move.w	#$8,-(a7)
	move.w	#$D,-(a7)
	move.w	#7,-(a7)
	move.l	#_font,-(a7)
	jsr	SetFixed__xTEXFONT__Tsssss
	add.w	#$E,a7
;	x3D::SetV4();
	move.w	#1,_useV4__x3D
;		sint16 w = viewWindow.Width();
	move.l	#_viewWindow__APP,a0
	cmp.w	#0,a0
	beq.b	L297
L296
	move.l	(a0),a0
L297
	move.w	(a0),d0
	ext.l	d0
	move.w	d0,d4
;		sint16 h = viewWindow.Height();
	move.l	#_viewWindow__APP,a0
	cmp.w	#0,a0
	beq.b	L299
L298
	move.l	(a0),a0
L299
	move.w	2(a0),d0
	ext.l	d0
	move.w	d0,d3
;		sourceWave.ViewDefine(8, 8, w-8, (h/3)-4);
	move.w	d3,d0
	ext.l	d0
	divs	#3,d0
	ext.l	d0
	subq.l	#4,d0
	move.w	d0,-(a7)
	move.w	d4,d0
	ext.l	d0
	subq.l	#$8,d0
	move.w	d0,-(a7)
	move.w	#$8,-(a7)
	move.w	#$8,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	ViewDefine__DRAWWAVE__Tssss
	add.w	#$C,a7
;		frame.ViewDefine(8, (h/3)+4, w-8, h-8);
	move.w	d3,d0
	ext.l	d0
	subq.l	#$8,d0
	move.w	d0,-(a7)
	move.w	d4,d0
	ext.l	d0
	subq.l	#$8,d0
	move.w	d0,-(a7)
	move.w	d3,d0
	ext.l	d0
	divs	#3,d0
	ext.l	d0
	addq.l	#4,d0
	move.w	d0,-(a7)
	move.w	#$8,-(a7)
	move.l	#_frame__APP,-(a7)
	jsr	ViewDefine__DRAWFRAME__Tssss
	add.w	#$C,a7
;		viewWindow.AddDrawThing(sourceWave);
	move.l	#_sourceWave__APP,a0
	move.l	#_viewWindow__APP,a1
	pea	$AC(a1)
	pea	$14(a0)
	jsr	LinkEnd__xCHAINABLE__TP06xCHAIN
	addq.w	#$8,a7
;		viewWindow.AddDrawThing(frame);
	move.l	#_frame__APP,a0
	move.l	#_viewWindow__APP,a1
	pea	$AC(a1)
	pea	$48(a0)
	jsr	LinkEnd__xCHAINABLE__TP06xCHAIN
	addq.w	#$8,a7
;		viewWindow.Clear();
	move.l	#_viewWindow__APP,-(a7)
	jsr	Clear__APPWINDOW__T
	addq.w	#4,a7
;		viewWindow.Refresh();
	move.l	#_viewWindow__APP,-(a7)
	jsr	Refresh__APPWINDOW__T
	addq.w	#4,a7
;	if (sourceWave.Load(wave)!=OK)
	move.l	a3,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	Load__AIFF__TPCc
	addq.w	#$8,a7
	tst.l	d0
	beq.b	L301
L300
; 		sysBASELIB::MessageBox("Program Aborted", "OK", "U
	move.l	a3,-(a7)
	move.l	#L281,-(a7)
	move.l	#L276,-(a7)
	move.l	#L277,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$10,a7
;		Done();
	jsr	Done__APP_
;		return ERR_FILE_READ;
	move.l	#-$3040004,d0
	movem.l	(a7)+,d2-d6/a2/a3
	unlk	a5
	rts
L301
;	xDacName = xName ? (char*)xName : "ram:test.xdac";
	cmp.w	#0,a2
	beq.b	L303
L302
	bra.b	L304
L303
	move.l	#L282,a2
L304
	move.l	a2,_xDacName__APP
;	sint32 len = sourceWave.Size();
	move.l	#_sourceWave__APP,a0
;	sourceWave.SetRange(0, len, 1);
	move.l	#$3F800000,-(a7)
	move.l	4(a0),-(a7)
	clr.l	-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	SetRange__DRAWWAVE__TUjUjf
	add.w	#$10,a7
;	frameSize=Clamp(frameSize,32,1024);
	move.l	#$400,d3
	moveq	#$20,d1
	move.l	d2,d0
	cmp.l	d1,d0
	bge.b	L306
L305
	move.l	d1,d2
	bra.b	L310
L306
	cmp.l	d3,d0
	ble.b	L308
L307
	move.l	d3,d2
	bra.b	L309
L308
	move.l	d0,d2
L309
L310
;	frame.Set(sourceWave,frameSize,bitrate,fast);
	move.l	#_frame__APP,a2
	move.w	d6,-(a7)
	move.w	d5,-(a7)
	move.w	d2,-(a7)
	pea	_sourceWave__APP
	move.l	a2,-(a7)
	jsr	Set__XDACENCODE__TR03PCMsss
	add.w	#$E,a7
	tst.l	d0
	bne.b	L312
L311
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
L312
;	viewWindow.Refresh();
	move.l	#_viewWindow__APP,-(a7)
	jsr	Refresh__APPWINDOW__T
	addq.w	#4,a7
;	return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2-d6/a2/a3
	unlk	a5
	rts

L276
	dc.b	'OK',0
L277
	dc.b	'Program Aborted',0
L278
	dc.b	'Unable to create DRAWLIST',0
L281
	dc.b	'Unable to load file %s',0
L280
	dc.b	'Unable to load font data',0
L275
	dc.b	'Unable to open display',0
L279
	dc.b	'data/font.pgm',0
L282
	dc.b	'ram:test.xdac',0

	SECTION "Done__APP_:0",CODE


;sint32 APP::Done()
	XDEF	Done__APP_
Done__APP_
L315	EQU	0
	link	a5,#L315
	move.l	a2,-(a7)
L314
;	frame.Delete();
	move.l	#_frame__APP,a2
	move.l	a2,-(a7)
	jsr	FreeSpace__XDACENCODE__T
	addq.w	#4,a7
	clr.w	$2C(a2)
	clr.l	$8(a2)
;	sourceWave.Delete();
	move.w	#1,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	Delete__PCM__Ts
	addq.w	#6,a7
;	font.Delete();
	move.l	#_font,-(a7)
	jsr	Delete__xTEXFONT__T
	addq.w	#4,a7
;	draw.Delete();
	move.l	#_draw,-(a7)
	jsr	Delete__DRAWLIST__T
	addq.w	#4,a7
;	viewWindow.Close();
	move.l	#_viewWindow__APP,-(a7)
	jsr	Close__APPWINDOW__T
	addq.w	#4,a7
;	DRAW::Done();
	jsr	Done__DRAW_
;	xGFX::Done();
	jsr	Done__xGFX_
;	xAUDIO::Done();
	jsr	Done__xAUDIO_
;	return OK;
	moveq	#0,d0
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "_0ct__APPWINDOW__T:0",CODE


;APPWINDOW::APPWINDOW() 
	XDEF	_0ct__APPWINDOW__T
_0ct__APPWINDOW__T
L323	EQU	0
	link	a5,#L323
	movem.l	a2/a3,-(a7)
	move.l	$8(a5),a3
L316
	move.l	a3,a1
	move.l	a1,a2
	btst	#0,4(a1)
	beq.b	L318
L317
	move.l	(a1),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
L318
	clr.l	$46(a1)
	clr.l	$4A(a1)
	clr.l	$52(a2)
	clr.w	$56(a2)
	clr.w	$58(a2)
	lea	$5A(a2),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	clr.l	$14(a0)
	clr.l	$18(a0)
	clr.l	$1C(a0)
	lea	$7A(a2),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	clr.l	$14(a0)
	clr.l	$18(a0)
	clr.l	$1C(a0)
	lea	$9A(a3),a2
	btst	#0,$C(a2)
	beq.b	L322
L319
	move.l	(a2),a1
	btst	#0,4(a1)
	beq.b	L321
L320
	move.l	(a1),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
L321
	clr.l	$46(a1)
	clr.l	$4A(a1)
L322
	addq.w	#4,a2
	move.l	a2,-(a7)
	jsr	_0ct__xKEY__T
	addq.w	#4,a7
	move.l	#$8F,4(a2)
	move.l	a3,a0
	clr.l	$A8(a0)
	lea	$AC(a3),a0
	clr.l	$C(a0)
	lea	4(a0),a1
	move.l	a1,(a0)
	clr.l	4(a0)
	move.l	a0,$8(a0)
	movem.l	(a7)+,a2/a3
	unlk	a5
	rts

	SECTION "_0ct__APPWINDOW__TsssssPCc:0",CODE


;APPWINDOW::APPWINDOW(S_RECT, sint16 d, const char* title)
	XDEF	_0ct__APPWINDOW__TsssssPCc
_0ct__APPWINDOW__TsssssPCc
L331	EQU	0
	link	a5,#L331
	movem.l	d2-d5/a2/a3/a6,-(a7)
	move.w	$C(a5),d0
	move.w	$E(a5),d1
	move.w	$10(a5),d2
	move.w	$12(a5),d3
	move.w	$14(a5),d4
	move.l	$16(a5),a0
	move.l	$8(a5),a3
L324
	move.l	a3,a1
	move.l	a0,a6
	move.l	a1,a2
	btst	#0,4(a2)
	beq.b	L326
L325
	move.l	(a2),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
L326
	clr.l	$46(a2)
	clr.l	$4A(a2)
	clr.l	$52(a1)
	lea	$5A(a1),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	clr.l	$14(a0)
	clr.l	$18(a0)
	clr.l	$1C(a0)
	lea	$7A(a1),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
	clr.l	$C(a0)
	clr.l	$10(a0)
	clr.l	$14(a0)
	clr.l	$18(a0)
	clr.l	$1C(a0)
	move.l	a6,-(a7)
	move.w	d4,-(a7)
	move.w	d3,-(a7)
	move.w	d2,-(a7)
	move.w	d1,-(a7)
	move.w	d0,-(a7)
	move.l	a1,-(a7)
	jsr	Set__xDBWIN__TsssssPCc
	add.w	#$12,a7
	lea	$9A(a3),a2
	btst	#0,$C(a2)
	beq.b	L330
L327
	move.l	(a2),a1
	btst	#0,4(a1)
	beq.b	L329
L328
	move.l	(a1),a0
	clr.w	(a0)
	clr.w	2(a0)
	clr.w	4(a0)
	move.w	#$F,6(a0)
L329
	clr.l	$46(a1)
	clr.l	$4A(a1)
L330
	addq.w	#4,a2
	move.l	a2,-(a7)
	jsr	_0ct__xKEY__T
	addq.w	#4,a7
	move.l	#$8F,4(a2)
	move.l	a3,a0
	clr.l	$A8(a0)
	lea	$AC(a3),a0
	clr.l	$C(a0)
	lea	4(a0),a1
	move.l	a1,(a0)
	clr.l	4(a0)
	move.l	a0,$8(a0)
	movem.l	(a7)+,d2-d5/a2/a3/a6
	unlk	a5
	rts

	SECTION "_0dt__APPWINDOW__T:0",CODE


;APPWINDOW::~APPWINDOW()
	XDEF	_0dt__APPWINDOW__T
_0dt__APPWINDOW__T
L339	EQU	-$C
	link	a5,#L339
	movem.l	a2/a3,-(a7)
	move.l	$8(a5),a3
L332
;	Close();
	move.l	a3,-(a7)
	jsr	Close__APPWINDOW__T
	addq.w	#4,a7
	lea	$9A(a3),a0
	move.l	a0,a2
	pea	4(a2)
	jsr	_0dt__xKEY__T
	addq.w	#4,a7
	btst	#0,$C(a2)
	beq.b	L336
L333
	move.l	(a2),a0
	btst	#0,4(a0)
L334
L335
L336
	move.l	a3,a2
	move.l	a2,-(a7)
	jsr	Close__xDBWIN__T
	addq.w	#4,a7
	pea	$7A(a2)
	jsr	_0dt__xSURFACE__T
	addq.w	#4,a7
	pea	$5A(a2)
	jsr	_0dt__xSURFACE__T
	addq.w	#4,a7
	btst	#0,4(a2)
L337
L338
	movem.l	(a7)+,a2/a3
	unlk	a5
	rts

	SECTION "Open__APPWINDOW__T:0",CODE


;sint32 APPWINDOW::Open()
	XDEF	Open__APPWINDOW__T
Open__APPWINDOW__T
L351	EQU	-4
	link	a5,#L351
	movem.l	d2/a2,-(a7)
	move.l	$8(a5),a2
L344
;	sint32 r = xDBWIN::Open();
	move.l	a2,-(a7)
	jsr	Open__xDBWIN__T
	addq.w	#4,a7
	move.l	d0,d2
;	if (r==OK)
	bne	L350
L345
;		r = DRAW::Bind(DrawSurface());
	move.l	a2,a0
	move.l	$4E(a0),a1
	move.l	a0,d0
	add.l	$54(a1),d0
	move.l	d0,-(a7)
	move.l	$50(a1),a1
	jsr	(a1)
	addq.w	#4,a7
	move.l	d0,-(a7)
	jsr	Bind__DRAW__P08xSURFACE
	addq.w	#4,a7
;		if (r==OK)
	tst.l	d0
	bne.b	L349
L346
;			flags |= DRAW_BOUND;
	or.l	#1,$A8(a2)
;			ApplyInputModification();
	cmp.w	#0,a2
	beq.b	L348
L347
	add.w	#$9A,a2
L348
	move.l	4(a2),a0
	move.l	a2,d0
	add.l	$84(a0),d0
	move.l	d0,-(a7)
	move.l	$80(a0),a0
	jsr	(a0)
	addq.w	#4,a7
;			return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2/a2
	unlk	a5
	rts
L349
; 			sysBASELIB::MessageBox("Program Aborted", "OK", 
	move.l	#L340,-(a7)
	move.l	#L341,-(a7)
	move.l	#L342,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;			xDBWIN::Close();
	move.l	a2,-(a7)
	jsr	Close__xDBWIN__T
	addq.w	#4,a7
;			return ERR_USER;
	move.l	#-$3800000,d0
	movem.l	(a7)+,d2/a2
	unlk	a5
	rts
L350
;	sysBASELIB::MessageBox("Program Aborted", "OK", "APPWI
	move.l	#L343,-(a7)
	move.l	#L341,-(a7)
	move.l	#L342,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;	return r;
	move.l	d2,d0
	movem.l	(a7)+,d2/a2
	unlk	a5
	rts

L340
	dc.b	'APPWINDOW::Open()',$A,'Couldn't bind draw surface',0
L343
	dc.b	'APPWINDOW::Open()',$A,'Unable to create display',0
L341
	dc.b	'OK',0
L342
	dc.b	'Program Aborted',0

	SECTION "Close__APPWINDOW__T:0",CODE


;sint32 APPWINDOW::Close()
	XDEF	Close__APPWINDOW__T
Close__APPWINDOW__T
L355	EQU	0
	link	a5,#L355
	move.l	a2,-(a7)
	move.l	$8(a5),a2
L352
;	if (flags & DRAW_BOUND)
	move.l	$A8(a2),d0
	and.l	#1,d0
	beq.b	L354
L353
;		flags &= ~DRAW_BOUND;
	and.l	#-2,$A8(a2)
;		DRAW::Release();
	jsr	Release__DRAW_
L354
;	flags &= ~QUIT;
	and.l	#-$10001,$A8(a2)
;	return xDBWIN::Close();
	move.l	a2,-(a7)
	jsr	Close__xDBWIN__T
	addq.w	#4,a7
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "Clear__APPWINDOW__T:0",CODE


;void APPWINDOW::Clear()
	XDEF	Clear__APPWINDOW__T
Clear__APPWINDOW__T
L357	EQU	0
	link	a5,#L357
	movem.l	d2-d6/a6,-(a7)
	move.l	$8(a5),a6
L356
;	draw.Begin();
	move.l	#_draw,-(a7)
	jsr	Begin__DRAWLIST__T
	addq.w	#4,a7
;		draw.Clear(0);
	clr.l	-(a7)
	move.l	#_draw,-(a7)
	jsr	Clear__DRAWLIST__TUj
	addq.w	#$8,a7
;	draw.End();
	move.l	#_draw,-(a7)
	jsr	End__DRAWLIST__T
	addq.w	#4,a7
;	xDBWIN::Refresh();
	move.l	a6,a0
	move.l	$4A(a0),a1
	move.b	$37(a1),d3
	ext.w	d3
	move.l	$4A(a0),a1
	move.b	$36(a1),d2
	ext.w	d2
	move.l	$4A(a0),a1
	move.w	$A(a1),d5
	ext.l	d5
	move.l	$4A(a0),a1
	move.b	$37(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d5
	move.l	$4A(a0),a1
	move.b	$39(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d5
	move.l	$4A(a0),a1
	move.w	$8(a1),d4
	ext.l	d4
	move.l	$4A(a0),a1
	move.b	$36(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d4
	move.l	$4A(a0),a1
	move.b	$38(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d4
	moveq	#0,d1
	moveq	#0,d0
	lea	$7A(a0),a1
	ext.l	d5
	move.w	d1,d6
	ext.l	d6
	sub.l	d6,d5
	ext.l	d4
	move.w	d0,d6
	ext.l	d6
	sub.l	d6,d4
	ext.l	d3
	ext.l	d2
	ext.l	d1
	ext.l	d0
	move.l	_GfxBase,a6
	move.l	#$C0,d6
	move.l	$66(a0),a0
	move.l	$C(a1),a1
	jsr	-$228(a6)
	movem.l	(a7)+,d2-d6/a6
	unlk	a5
	rts

	SECTION "Refresh__APPWINDOW__T:0",CODE


;void APPWINDOW::Refresh()
	XDEF	Refresh__APPWINDOW__T
Refresh__APPWINDOW__T
L362	EQU	-4
	link	a5,#L362
	movem.l	d2-d6/a2/a6,-(a7)
	move.l	$8(a5),a2
L358
;	draw.Begin();
	move.l	#_draw,-(a7)
	jsr	Begin__DRAWLIST__T
	addq.w	#4,a7
;		for (xDISPLAYABLE* t = (xDISPLAYABLE*)drawThing
	move.l	$AC(a2),a6
	bra.b	L360
L359
;			t->ViewRender();
	move.l	$10(a6),a0
	move.l	a6,d0
	add.l	$14(a0),d0
	move.l	d0,-(a7)
	move.l	$10(a0),a0
	jsr	(a0)
	addq.w	#4,a7
	move.l	(a6),a6
L360
	move.l	(a6),a0
	cmp.w	#0,a0
	bne.b	L359
L361
;	draw.End();
	move.l	#_draw,-(a7)
	jsr	End__DRAWLIST__T
	addq.w	#4,a7
;	xDBWIN::Refresh();
	move.l	a2,a0
	move.l	$4A(a0),a1
	move.b	$37(a1),d3
	ext.w	d3
	move.l	$4A(a0),a1
	move.b	$36(a1),d2
	ext.w	d2
	move.l	$4A(a0),a1
	move.w	$A(a1),d5
	ext.l	d5
	move.l	$4A(a0),a1
	move.b	$37(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d5
	move.l	$4A(a0),a1
	move.b	$39(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d5
	move.l	$4A(a0),a1
	move.w	$8(a1),d4
	ext.l	d4
	move.l	$4A(a0),a1
	move.b	$36(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d4
	move.l	$4A(a0),a1
	move.b	$38(a1),d0
	ext.w	d0
	ext.l	d0
	sub.l	d0,d4
	moveq	#0,d1
	moveq	#0,d0
	lea	$7A(a0),a1
	ext.l	d5
	move.w	d1,d6
	ext.l	d6
	sub.l	d6,d5
	ext.l	d4
	move.w	d0,d6
	ext.l	d6
	sub.l	d6,d4
	ext.l	d3
	ext.l	d2
	ext.l	d1
	ext.l	d0
	move.l	_GfxBase,a6
	move.l	#$C0,d6
	move.l	$66(a0),a0
	move.l	$C(a1),a1
	jsr	-$228(a6)
	movem.l	(a7)+,d2-d6/a2/a6
	unlk	a5
	rts

	SECTION "MouseEvent__APPWINDOW__Tjjj:0",CODE


;void APPWINDOW::MouseEvent(sint32 x, sint32 y, sint32 buttons)
	XDEF	MouseEvent__APPWINDOW__Tjjj
MouseEvent__APPWINDOW__Tjjj
L364	EQU	0
	link	a5,#L364
L363
	unlk	a5
	rts

	SECTION "KeyEvent__APPWINDOW__Tjsj:0",CODE


;void APPWINDOW::KeyEvent(sint32 keyCode, bool state, sint32 ch)
	XDEF	KeyEvent__APPWINDOW__Tjsj
KeyEvent__APPWINDOW__Tjsj
L482	EQU	-$10
	link	a5,#L482
	movem.l	d2/d3/a2/a3,-(a7)
	move.l	$12(a5),d0
	move.l	$C(a5),d1
	move.w	$10(a5),d2
	move.l	$8(a5),a0
L368
;	if (state) // respond to key down events only
	tst.w	d2
	beq	L481
L369
;		switch (keyCode)
	cmp.l	#$4F,d1
	beq	L469
	bgt	L483
	cmp.l	#$43,d1
	beq	L437
	bgt.b	L484
	cmp.l	#$2F,d1
	beq	L458
	bgt.b	L485
	cmp.l	#$2D,d1
	beq	L440
	bgt.b	L486
	cmp.l	#$1D,d1
	beq	L439
	bra	L473
L486
	bgt	L449
L485
	cmp.l	#$3D,d1
	beq	L438
	cmp.l	#$40,d1
	beq	L436
	bra	L473
L484
	sub.l	#$44,d1
	cmp.l	#$A,d1
	bhi	L473
	move.l	L487(pc,d1.l*4),a1
	jmp	(a1)
L487
	dc.l	L432
	dc.l	L370
	dc.l	L473
	dc.l	L473
	dc.l	L473
	dc.l	L473
	dc.l	L467
	dc.l	L473
	dc.l	L471
	dc.l	L472
	dc.l	L470
L483
	cmp.l	#$56,d1
	beq	L410
	bgt.b	L488
	sub.l	#$50,d1
	cmp.l	#5,d1
	bhi	L473
	move.l	L489(pc,d1.l*4),a1
	jmp	(a1)
L489
	dc.l	L372
	dc.l	L377
	dc.l	L382
	dc.l	L389
	dc.l	L396
	dc.l	L403
L488
	cmp.l	#$59,d1
	beq	L431
	bgt.b	L490
	cmp.l	#$57,d1
	beq	L417
	cmp.l	#$58,d1
	beq	L424
	bra	L473
L490
	cmp.l	#$5E,d1
	beq	L468
	cmp.l	#$7F,d1
	beq.b	L371
	bra	L473
;			
L370
;				flags |= QUIT;
	or.l	#$10000,$A8(a0)
;				
	bra	L481
L371
;				sysBASELIB::MessageBox("Oh No!", "Cringe", "Aarg
	move.l	#L365,-(a7)
	move.l	#L366,-(a7)
	move.l	#L367,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$C,a7
;				
	bra	L481
L372
;				APP::frame.DecFrameLen(8);
	moveq	#$8,d2
	move.l	#_frame__APP,a2
	move.l	a2,a3
	tst.l	4(a2)
	beq.b	L375
L373
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L375
L374
	move.w	$2C(a2),d0
	ext.l	d0
	bra.b	L376
L375
	moveq	#0,d0
L376
	move.w	d2,d1
	ext.l	d1
	sub.l	d1,d0
	move.w	d0,-(a7)
	move.l	a3,-(a7)
	jsr	Size__XDACENCODE__Ts
	addq.w	#6,a7
	move.l	a3,a2
	or.l	#$2000000,$5C(a2)
	move.l	a2,-(a7)
	jsr	First__XDACENCODE__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;				
	bra	L481
L377
;				APP::frame.IncFrameLen(8);
	moveq	#$8,d2
	move.l	#_frame__APP,a2
	move.l	a2,a3
	tst.l	4(a2)
	beq.b	L380
L378
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L380
L379
	move.w	$2C(a2),d0
	ext.l	d0
	bra.b	L381
L380
	moveq	#0,d0
L381
	move.w	d2,d1
	ext.l	d1
	add.l	d1,d0
	move.w	d0,-(a7)
	move.l	a3,-(a7)
	jsr	Size__XDACENCODE__Ts
	addq.w	#6,a7
	move.l	a3,a2
	or.l	#$2000000,$5C(a2)
	move.l	a2,-(a7)
	jsr	First__XDACENCODE__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;				
	bra	L481
L382
;				APP::frame.DecBitRate();
	move.l	#_frame__APP,a0
	or.l	#$2000000,$5C(a0)
	move.w	$30(a0),d0
	ext.l	d0
	subq.l	#1,d0
	move.w	d0,d1
	move.l	a0,a1
	moveq	#5,d0
	moveq	#2,d2
	move.w	d1,d3
	ext.l	d3
	cmp.l	d2,d3
	bge.b	L384
L383
	move.l	d2,d0
	bra.b	L388
L384
	move.w	d1,d2
	ext.l	d2
	cmp.l	d0,d2
	ble.b	L386
L385
	bra.b	L387
L386
	move.w	d1,d0
	ext.l	d0
L387
L388
	move.w	d0,$30(a1)
	move.l	a0,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;				
	bra	L481
L389
;				APP::frame.IncBitRate();
	move.l	#_frame__APP,a0
	or.l	#$2000000,$5C(a0)
	move.w	$30(a0),d0
	ext.l	d0
	addq.l	#1,d0
	move.w	d0,d1
	move.l	a0,a1
	moveq	#5,d0
	moveq	#2,d2
	move.w	d1,d3
	ext.l	d3
	cmp.l	d2,d3
	bge.b	L391
L390
	move.l	d2,d0
	bra.b	L395
L391
	move.w	d1,d2
	ext.l	d2
	cmp.l	d0,d2
	ble.b	L393
L392
	bra.b	L394
L393
	move.w	d1,d0
	ext.l	d0
L394
L395
	move.w	d0,$30(a1)
	move.l	a0,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;				
	bra	L481
L396
;				APP::sourceWave.SetFreq(APP::sourceWave.Frequency()>>1);
	move.l	#_sourceWave__APP,a0
	moveq	#0,d0
	move.w	$E(a0),d0
	moveq	#1,d1
	asr.l	d1,d0
	move.l	#_sourceWave__APP,a1
	move.l	a1,a0
	move.l	#$FA00,d2
	move.l	#$113A,d1
	cmp.l	d1,d0
	bge.b	L398
L397
	move.l	d1,d0
	bra.b	L402
L398
	cmp.l	d2,d0
	ble.b	L400
L399
	move.l	d2,d0
L400
L401
L402
	move.w	d0,$E(a1)
	or.l	#$2000000,$28(a0)
;				
	bra	L481
L403
;				APP::sourceWave.SetFreq(APP::sourceWave.Frequency()-100)
	move.l	#_sourceWave__APP,a0
	moveq	#0,d0
	move.w	$E(a0),d0
	sub.l	#$64,d0
	move.l	#_sourceWave__APP,a1
	move.l	a1,a0
	move.l	#$FA00,d2
	move.l	#$113A,d1
	cmp.l	d1,d0
	bge.b	L405
L404
	move.l	d1,d0
	bra.b	L409
L405
	cmp.l	d2,d0
	ble.b	L407
L406
	move.l	d2,d0
L407
L408
L409
	move.w	d0,$E(a1)
	or.l	#$2000000,$28(a0)
;				
	bra	L481
L410
;				APP::sourceWave.SetFreq(APP::sourceWave.Frequency()+100)
	move.l	#_sourceWave__APP,a0
	moveq	#0,d0
	move.w	$E(a0),d0
	add.l	#$64,d0
	move.l	#_sourceWave__APP,a1
	move.l	a1,a0
	move.l	#$FA00,d2
	move.l	#$113A,d1
	cmp.l	d1,d0
	bge.b	L412
L411
	move.l	d1,d0
	bra.b	L416
L412
	cmp.l	d2,d0
	ble.b	L414
L413
	move.l	d2,d0
L414
L415
L416
	move.w	d0,$E(a1)
	or.l	#$2000000,$28(a0)
;				
	bra	L481
L417
;				APP::sourceWave.SetFreq(APP::sourceWave.Frequency()<<1);
	move.l	#_sourceWave__APP,a0
	moveq	#0,d0
	move.w	$E(a0),d0
	moveq	#1,d1
	asl.l	d1,d0
	move.l	#_sourceWave__APP,a1
	move.l	a1,a0
	move.l	#$FA00,d2
	move.l	#$113A,d1
	cmp.l	d1,d0
	bge.b	L419
L418
	move.l	d1,d0
	bra.b	L423
L419
	cmp.l	d2,d0
	ble.b	L421
L420
	move.l	d2,d0
L421
L422
L423
	move.w	d0,$E(a1)
	or.l	#$2000000,$28(a0)
;				
	bra	L481
L424
;				APP::sourceWave.SetFreq(22050);
	move.l	#$5622,d0
	move.l	#_sourceWave__APP,a1
	move.l	a1,a0
	move.l	#$FA00,d2
	move.l	#$113A,d1
	cmp.l	d1,d0
	bge.b	L426
L425
	move.l	d1,d0
	bra.b	L430
L426
	cmp.l	d2,d0
	ble.b	L428
L427
	move.l	d2,d0
L428
L429
L430
	move.w	d0,$E(a1)
	or.l	#$2000000,$28(a0)
;				
	bra	L481
L431
;				MEM::DebugInfo();
	jsr	DebugInfo__MEM_
;				
	bra	L481
L432
;				if (APP::sourceWave.IsPlaying())
	move.l	#_sourceWave__APP,a0
	move.l	$28(a0),d0
	and.l	#$10,d0
	tst.w	d0
	beq.b	L434
L433
;					APP::sourceWave.Stop();
	move.l	#_sourceWave__APP,-(a7)
	jsr	Stop__DRAWWAVE__T
	addq.w	#4,a7
	bra.b	L435
L434
;					APP::sourceWave.Play(22050, APP::sourceWave.StartPos()
	clr.l	-(a7)
	move.l	#_sourceWave__APP,a0
	fmove.l	$40(a0),fp0
	fmove.s	fp0,-(a7)
	move.l	#_sourceWave__APP,a0
	move.l	$3C(a0),-(a7)
	pea	$5622.w
	move.l	#_sourceWave__APP,-(a7)
	jsr	Play__DRAWWAVE__TUjUjff
	add.w	#$14,a7
L435
;				
	bra	L481
L436
;				APP::sourceWave.SetRange(0, APP::sourceWave.Size(), 1.0
	move.l	#$3F800000,-(a7)
	move.l	#_sourceWave__APP,a0
	move.l	4(a0),-(a7)
	clr.l	-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	SetRange__DRAWWAVE__TUjUjf
	add.w	#$10,a7
;				
	bra	L481
L437
;				APP::EncodeXDAC();
	jsr	EncodeXDAC__APP_
;				
	bra	L481
L438
;				APP::frame.First();
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	move.l	a2,-(a7)
	jsr	First__XDACENCODE__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;				
	bra	L481
L439
;				APP::frame.Last();
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	move.l	a2,-(a7)
	jsr	Last__XDACENCODE__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;				
	bra	L481
L440
;				APP::frame--;
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	clr.l	-(a7)
	move.l	a2,-(a7)
	jsr	op__minusminus__XDACENCODE__Ti
	addq.w	#$8,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;				APP::sourceWave.SetRange(APP::frame.StartPos(), APP::fr
	move.l	#$3F800000,-(a7)
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L443
L441
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L443
L442
	move.w	$2C(a2),d0
	ext.l	d0
	bra.b	L444
L443
	moveq	#0,d0
L444
	move.l	d0,-(a7)
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L447
L445
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L447
L446
	move.l	$8(a2),d0
	bra.b	L448
L447
	moveq	#0,d0
L448
	move.l	d0,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	SetRange__DRAWWAVE__TUjUjf
	add.w	#$10,a7
;				
	bra	L481
L449
;				APP::sourceWave.SetRange(APP::frame.StartPos(), APP::fr
	move.l	#$3F800000,-(a7)
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L452
L450
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L452
L451
	move.w	$2C(a2),d0
	ext.l	d0
	bra.b	L453
L452
	moveq	#0,d0
L453
	move.l	d0,-(a7)
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L456
L454
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L456
L455
	move.l	$8(a2),d0
	bra.b	L457
L456
	moveq	#0,d0
L457
	move.l	d0,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	SetRange__DRAWWAVE__TUjUjf
	add.w	#$10,a7
;				
	bra	L481
L458
;				APP::frame++;
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	clr.l	-(a7)
	move.l	a2,-(a7)
	jsr	op__Cplusplus__XDACENCODE__Ti
	addq.w	#$8,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;				APP::sourceWave.SetRange(APP::frame.StartPos(), APP::fr
	move.l	#$3F800000,-(a7)
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L461
L459
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L461
L460
	move.w	$2C(a2),d0
	ext.l	d0
	bra.b	L462
L461
	moveq	#0,d0
L462
	move.l	d0,-(a7)
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L465
L463
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L465
L464
	move.l	$8(a2),d0
	bra.b	L466
L465
	moveq	#0,d0
L466
	move.l	d0,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	SetRange__DRAWWAVE__TUjUjf
	add.w	#$10,a7
;				
	bra	L481
L467
;				APP::sourceWave.ZoomRange(1.05F);
	move.l	#$3F866666,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	ZoomRange__DRAWWAVE__Tf
	addq.w	#$8,a7
;				
	bra	L481
L468
;				APP::sourceWave.ZoomRange(1F/1.05F);
	move.l	#$3F73CF3E,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	ZoomRange__DRAWWAVE__Tf
	addq.w	#$8,a7
;				
	bra	L481
L469
;				APP::sourceWave.ScrollRange(-0.125F);
	move.l	#$BE000000,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	ScrollRange__DRAWWAVE__Tf
	addq.w	#$8,a7
;				
	bra	L481
L470
;				APP::sourceWave.ScrollRange(0.125);
	move.l	#$3E000000,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	ScrollRange__DRAWWAVE__Tf
	addq.w	#$8,a7
;				
	bra	L481
L471
;				APP::sourceWave.ZoomY(1.05F);
	move.l	#$3F866666,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	ZoomY__DRAWWAVE__Tf
	addq.w	#$8,a7
;				
	bra	L481
L472
;				APP::sourceWave.ZoomY(1F/1.05F);
	move.l	#$3F73CF3E,-(a7)
	move.l	#_sourceWave__APP,-(a7)
	jsr	ZoomY__DRAWWAVE__Tf
	addq.w	#$8,a7
;				
	bra	L481
L473
;				switch (ch)
	cmp.l	#$53,d0
	beq	L476
	bgt.b	L491
	cmp.l	#$41,d0
	beq	L478
	bgt.b	L492
	cmp.l	#$2C,d0
	beq.b	L474
	cmp.l	#$2E,d0
	beq.b	L475
	bra	L479
L492
	cmp.l	#$4B,d0
	beq	L477
	bra	L479
L491
	cmp.l	#$6B,d0
	beq	L477
	bgt.b	L493
	cmp.l	#$61,d0
	beq	L478
	bra	L479
L493
	cmp.l	#$73,d0
	beq.b	L476
	bra	L479
;					
L474
;						APP::frame--;
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	clr.l	-(a7)
	move.l	a2,-(a7)
	jsr	op__minusminus__XDACENCODE__Ti
	addq.w	#$8,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;						
	bra	L480
L475
;						APP::frame++;
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	clr.l	-(a7)
	move.l	a2,-(a7)
	jsr	op__Cplusplus__XDACENCODE__Ti
	addq.w	#$8,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;						
	bra	L480
L476
;						APP::frame.ForceS1();
	move.l	#_frame__APP,a1
	or.l	#$2000000,$5C(a1)
	move.l	a1,a0
	and.l	#-$30001,(a0)
	or.l	#$10000,(a0)
	move.l	a1,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;						
	bra.b	L480
L477
;						APP::frame.ForceK1();
	move.l	#_frame__APP,a1
	or.l	#$2000000,$5C(a1)
	move.l	a1,a0
	and.l	#-$30001,(a0)
	or.l	#$20000,(a0)
	move.l	a1,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;						
	bra.b	L480
L478
;						APP::frame.ForceNone();
	move.l	#_frame__APP,a0
	or.l	#$2000000,$5C(a0)
	and.l	#-$30001,(a0)
	move.l	a0,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;						
L479
;						
L480
;				
L481
	movem.l	(a7)+,d2/d3/a2/a3
	unlk	a5
	rts

L365
	dc.b	'Aargh, you hit my shame button!',0
L366
	dc.b	'Cringe',0
L367
	dc.b	'Oh No!',0

	SECTION "ExitEvent__APPWINDOW__T:0",CODE


;void APPWINDOW::ExitEvent()
	XDEF	ExitEvent__APPWINDOW__T
ExitEvent__APPWINDOW__T
L495	EQU	0
	link	a5,#L495
L494
	unlk	a5
	rts

	SECTION "ResizeEvent__APPWINDOW__T:0",CODE


;void APPWINDOW::ResizeEvent()
	XDEF	ResizeEvent__APPWINDOW__T
ResizeEvent__APPWINDOW__T
L497	EQU	0
	link	a5,#L497
L496
	unlk	a5
	rts

	SECTION "MoveEvent__APPWINDOW__T:0",CODE


;void APPWINDOW::MoveEvent()
	XDEF	MoveEvent__APPWINDOW__T
MoveEvent__APPWINDOW__T
L499	EQU	0
	link	a5,#L499
L498
	unlk	a5
	rts

	SECTION "ViewClear__DRAWWAVE__T:0",CODE


;sint32 DRAWWAVE::ViewClear()
	XDEF	ViewClear__DRAWWAVE__T
ViewClear__DRAWWAVE__T
L506	EQU	-$10
	link	a5,#L506
	movem.l	d2-d5/a2,-(a7)
	move.l	$8(a5),a2
L500
;	draw.Disable(x3D::ALPHA_BLEND);
	pea	$2000.w
	move.l	#_draw,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	sint32 c = Channels();
	move.w	$C(a2),d5
	ext.l	d5
;	if (c==0)
	tst.l	d5
	bne.b	L502
L501
;		c=1;
	moveq	#1,d5
L502
;	for (sint32 i=0
	moveq	#0,d4
;	for (sint32 i=0,dy=(borderBottom-borderTop-16)/c
	fmove.s	$38(a2),fp0
	fsub.s	$2C(a2),fp0
	fsub.s	#$.41800000,fp0
	fmove.l	d5,fp1
	fdiv.x	fp1,fp0
	fmove.l	fp0,d3
;	for (sint32 i=0,d
	fmove.s	$2C(a2),fp0
	fmove.l	fp0,d2
	bra	L504
L503
;		draw.RectShV(backColour, borderLeft, py, borderRight, py+(dy/2));
	move.l	d3,d0
	divsl.l	#2,d0
	add.l	d2,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.w	d2,-(a7)
	fmove.s	$30(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#_backColour__ViewClear__DRAWWAVE__T,-(a7)
	move.l	#_draw,-(a7)
	jsr	RectShV__DRAWLIST__TPUjssss
	add.w	#$10,a7
;		draw.RectShV(backColour+1, borderLeft, py+(dy/2), borderRight, p
	move.l	d2,d0
	add.l	d3,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	d3,d0
	divsl.l	#2,d0
	add.l	d2,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#_backColour__ViewClear__DRAWWAVE__T,a1
	pea	4(a1)
	move.l	#_draw,-(a7)
	jsr	RectShV__DRAWLIST__TPUjssss
	add.w	#$10,a7
	addq.l	#1,d4
	add.l	d3,d2
L504
	cmp.l	d5,d4
	blt	L503
L505
;	draw.RectShV(barColour, 	borderLeft, borderBottom-16, borderRight,
	fmove.s	$38(a2),fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#_barColour__ViewClear__DRAWWAVE__T,-(a7)
	move.l	#_draw,-(a7)
	jsr	RectShV__DRAWLIST__TPUjssss
	add.w	#$10,a7
;	draw.RectShV(barColour+1, borderLeft, borderBottom-4, borderRight,
	fmove.s	$38(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#_barColour__ViewClear__DRAWWAVE__T,a1
	pea	4(a1)
	move.l	#_draw,-(a7)
	jsr	RectShV__DRAWLIST__TPUjssss
	add.w	#$10,a7
;	draw.Enable(x3D::ALPHA_BLEND);
	pea	$2000.w
	move.l	#_draw,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	draw.Rect(0x40000000, borderLeft+4, borderBottom-10, borderRight-4
	fmove.s	$38(a2),fp0
	fsub.s	#$.40C00000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41200000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#$40000000,-(a7)
	move.l	#_draw,-(a7)
	jsr	Rect__DRAWLIST__TUjssss
	add.w	#$10,a7
;	draw.Enable(x3D::ALPHA_BLEND);
	pea	$2000.w
	move.l	#_draw,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;	draw.Line(0x80000000, borderLeft+4, borderBottom-10, borderRight-4
	fmove.s	$38(a2),fp0
	fsub.s	#$.41200000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41200000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#$80000000,-(a7)
	move.l	#_draw,-(a7)
	jsr	Line__DRAWLIST__TUjssss
	add.w	#$10,a7
;	draw.Line(0x80000000, borderLeft+4, borderBottom-10, borderLeft+4,
	fmove.s	$38(a2),fp0
	fsub.s	#$.40C00000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41200000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#$80000000,-(a7)
	move.l	#_draw,-(a7)
	jsr	Line__DRAWLIST__TUjssss
	add.w	#$10,a7
;	draw.Line(0x80FFFFFF, borderRight-4, borderBottom-10, borderRight-
	fmove.s	$38(a2),fp0
	fsub.s	#$.40C00000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41200000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#$80FFFFFF,-(a7)
	move.l	#_draw,-(a7)
	jsr	Line__DRAWLIST__TUjssss
	add.w	#$10,a7
;	draw.Line(0x80FFFFFF, borderLeft+4, borderBottom-6, borderRight-4,
	fmove.s	$38(a2),fp0
	fsub.s	#$.40C00000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$34(a2),fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.40C00000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#$80FFFFFF,-(a7)
	move.l	#_draw,-(a7)
	jsr	Line__DRAWLIST__TUjssss
	add.w	#$10,a7
;	flags |= REDRAW_ME;
	or.l	#$2000000,$28(a2)
;	return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2-d5/a2
	unlk	a5
	rts

	SECTION "ViewClear__DRAWWAVE__T:1",DATA

_backColour__ViewClear__DRAWWAVE__T
	dc.l	-$800000,-$EF7FF0,-$FFFF80,-$DFDFC0,-$9F9F40
_barColour__ViewClear__DRAWWAVE__T
	dc.l	-$DFDF40,-$7F7F01,-$DFDF40

	SECTION "ViewRender__DRAWWAVE__T:0",CODE


;sint32 DRAWWAVE::ViewRender()
	XDEF	ViewRender__DRAWWAVE__T
ViewRender__DRAWWAVE__T
L548	EQU	-$4C
	link	a5,#L548
	movem.l	d2-d6/a2/a3/a6,-(a7)
	fmovem.x fp2/fp3/fp4/fp5/fp6/fp7,-(a7)
	move.l	$8(a5),a2
L509
;	if ((flags & REDRAW_ME)==0)
	move.l	$28(a2),d0
	and.l	#$2000000,d0
	bne.b	L511
L510
;		return OK;
	moveq	#0,d0
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d6/a2/a3/a6
	unlk	a5
	rts
L511
;	sint16* buffer = Data();
	move.l	a2,-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	move.l	d0,a6
;	if (buffer==0 || Size()==0)
	move.l	a6,a0
	cmp.w	#0,a0
	beq.b	L513
L512
	tst.l	4(a2)
	bne.b	L514
L513
;		ViewClear();
	move.l	$24(a2),a0
	move.l	a2,d0
	add.l	$44(a0),d0
	move.l	d0,-(a7)
	move.l	$40(a0),a0
	jsr	(a0)
	addq.w	#4,a7
;		font.WriteText(&draw, 0xFFFFFFFF, borderLeft+4, borderTop+4, "Wa
	move.l	#L507,-(a7)
	fmove.s	$2C(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-1,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteText__xTEXFONT__TP08DRAWLISTUjssPc
	add.w	#$14,a7
;		return OK;
	moveq	#0,d0
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d6/a2/a3/a6
	unlk	a5
	rts
L514
;		buffer += drawStart*Channels();
	move.w	$C(a2),d1
	ext.l	d1
	move.l	$3C(a2),d0
	mulu.l	d1,d0
	moveq	#1,d1
	asl.l	d1,d0
	add.l	a6,d0
	move.l	d0,a6
;		uint32 visRange = (uint32)(borderRight-borderLeft-1);
	fmove.s	$34(a2),fp0
	fsub.s	$30(a2),fp0
	fsub.s	#$.3F800000,fp0
	fmove.l	fp0,d0
	move.l	d0,d6
;		uint32 buffStep = visRange >= drawRange ? 1 : (drawRange/visRang
	move.l	d6,d1
	cmp.l	$40(a2),d1
	blo.b	L516
L515
	moveq	#1,d4
	bra.b	L517
L516
	move.l	$40(a2),d4
	divul.l	d6,d4
L517
;		uint32 points = drawRange/buffStep;
	move.l	$40(a2),d3
	divul.l	d4,d3
;		buffStep *= Channels();
	move.w	$C(a2),d0
	ext.l	d0
	mulu.l	d0,d4
;		ViewClear();
	move.l	$24(a2),a0
	move.l	a2,d0
	add.l	$44(a0),d0
	move.l	d0,-(a7)
	move.l	$40(a0),a0
	jsr	(a0)
	addq.w	#4,a7
;			float32 x1 = ClipFloat(borderLeft+visRange*(float32)drawStart/
	fmove.s	$34(a2),fp2
	fsub.s	#$.41000000,fp2
	fmove.s	#$.00000000,fp3
	fmove.s	$30(a2),fp1
	fmove.l	d6,fp0
	fmove.l	$3C(a2),fp4
	fmul.x	fp4,fp0
	move.l	a2,a0
	tst.w	$C(a0)
	bne.b	L519
L518
	moveq	#0,d0
	bra.b	L520
L519
	move.w	$C(a0),d1
	ext.l	d1
	move.l	4(a0),d0
	divsl.l	d1,d0
L520
	fmove.l	d0,fp4
	fdiv.x	fp4,fp0
	fadd.x	fp0,fp1
	fcmp.x	fp3,fp1
	fboge.b	L522
L521
	fmove.x	fp3,fp2
	bra.b	L526
L522
	fcmp.x	fp2,fp1
	fbole.b	L524
L523
	bra.b	L525
L524
	fmove.x	fp1,fp2
L525
L526
;			float32 x2 = x1 + ClipFloat(visRange*(float32)drawRange/(float
	fmove.l	d6,fp3
	fmove.s	#$.41000000,fp1
	fmove.l	d6,fp0
	fmove.l	$40(a2),fp4
	fmul.x	fp4,fp0
	move.l	a2,a0
	tst.w	$C(a0)
	bne.b	L528
L527
	moveq	#0,d0
	bra.b	L529
L528
	move.w	$C(a0),d1
	ext.l	d1
	move.l	4(a0),d0
	divsl.l	d1,d0
L529
	fmove.l	d0,fp4
	fdiv.x	fp4,fp0
	fcmp.x	fp1,fp0
	fboge.b	L531
L530
	fmove.x	fp1,fp0
	bra.b	L535
L531
	fcmp.x	fp3,fp0
	fbole.b	L533
L532
	fmove.x	fp3,fp0
L533
L534
L535
	fmove.x	fp2,fp3
	fadd.x	fp0,fp3
;			draw.Enable(x3D::ALPHA_BLEND);
	pea	$2000.w
	move.l	#_draw,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;			draw.Rect(0x40000000, x1+2, borderBottom-15, x2+2, borderBotto
	fmove.s	$38(a2),fp0
	fsub.s	#$.3F800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.x	fp3,fp0
	fadd.s	#$.40000000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41700000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.x	fp2,fp0
	fadd.s	#$.40000000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#$40000000,-(a7)
	move.l	#_draw,-(a7)
	jsr	Rect__DRAWLIST__TUjssss
	add.w	#$10,a7
;			draw.RectShV(barColour, 	x1, borderBottom-13, x2, borderBottom
	fmove.s	$38(a2),fp0
	fsub.s	#$.41000000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp3,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41500000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp2,d0
	move.w	d0,-(a7)
	move.l	#_barColour__ViewRender__DRAWWAVE__T,-(a7)
	move.l	#_draw,-(a7)
	jsr	RectShV__DRAWLIST__TPUjssss
	add.w	#$10,a7
;			draw.RectShV(barColour+1, x1, borderBottom-8, x2, borderBottom
	fmove.s	$38(a2),fp0
	fsub.s	#$.40400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp3,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41000000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp2,d0
	move.w	d0,-(a7)
	move.l	#_barColour__ViewRender__DRAWWAVE__T,a1
	pea	4(a1)
	move.l	#_draw,-(a7)
	jsr	RectShV__DRAWLIST__TPUjssss
	add.w	#$10,a7
;			draw.Line(0x80FFFFFF, x1, borderBottom-13, x1, borderBottom-3);
	fmove.s	$38(a2),fp0
	fsub.s	#$.40400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp2,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41500000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp2,d0
	move.w	d0,-(a7)
	move.l	#$80FFFFFF,-(a7)
	move.l	#_draw,-(a7)
	jsr	Line__DRAWLIST__TUjssss
	add.w	#$10,a7
;			draw.Line(0x80FFFFFF, x1, borderBottom-13, x2, borderBottom-13)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41500000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp3,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41500000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp2,d0
	move.w	d0,-(a7)
	move.l	#$80FFFFFF,-(a7)
	move.l	#_draw,-(a7)
	jsr	Line__DRAWLIST__TUjssss
	add.w	#$10,a7
;			draw.Line(0x80000000, x2, borderBottom-13, x2, borderBottom-3);
	fmove.s	$38(a2),fp0
	fsub.s	#$.40400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp3,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.41500000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp3,d0
	move.w	d0,-(a7)
	move.l	#$80000000,-(a7)
	move.l	#_draw,-(a7)
	jsr	Line__DRAWLIST__TUjssss
	add.w	#$10,a7
;			draw.Line(0x80000000, x1, borderBottom-3, x2, borderBottom-3);
	fmove.s	$38(a2),fp0
	fsub.s	#$.40400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp3,d0
	move.w	d0,-(a7)
	fmove.s	$38(a2),fp0
	fsub.s	#$.40400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.l	fp2,d0
	move.w	d0,-(a7)
	move.l	#$80000000,-(a7)
	move.l	#_draw,-(a7)
	jsr	Line__DRAWLIST__TUjssss
	add.w	#$10,a7
;		draw.Disable(x3D::GOURAUD);
	pea	$400.w
	move.l	#_draw,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;		draw.Disable(x3D::ALPHA_BLEND);
	pea	$2000.w
	move.l	#_draw,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;			uint32 cols[] = {0x7F8080FF, 0x7FFF8080, 0x7F90FF80, 0x7FFFFF8
	lea	-$20(a5),a0
	move.l	#$7F8080FF,(a0)+
	move.l	#$7FFF8080,(a0)+
	move.l	#$7F90FF80,(a0)+
	move.l	#$7FFFFF80,(a0)
;			float32 dy = (borderBottom-borderTop-16)/Channels();
	fmove.s	$38(a2),fp0
	fsub.s	$2C(a2),fp0
	fsub.s	#$.41800000,fp0
	fmove.s	fp0,fp7
	move.w	$C(a2),d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.x	fp7,fp1
	fdiv.x	fp0,fp1
	fmove.s	fp1,fp7
;			float32 py = borderTop;
	fmove.s	$2C(a2),fp2
;			for (sint32 k=0;
	moveq	#0,d5
	bra	L546
L536
;				DVERTEX* p = draw.GetVertices(points);
	move.w	#1,-(a7)
	move.l	d3,-(a7)
	move.l	#_draw,-(a7)
	jsr	GetVertices__DRAWLIST__Tjs
	add.w	#$A,a7
	move.l	d0,a0
;					rfloat32	x	= borderLeft+0.5F;
	fmove.s	$30(a2),fp1
	fadd.s	#$.3F000000,fp1
;					rfloat32 dx	= (float32)visRange/(float32)(points-1);
	fmove.l	d6,fp0
	fmove.s	fp0,-$4C(a5)
	move.l	d3,d0
	subq.l	#1,d0
	fmove.l	d0,fp0
	fmove.s	-$4C(a5),fp3
	fdiv.x	fp0,fp3
	fmove.s	fp3,-$4C(a5)
;					rfloat32 y	= py+(dy/2F);
	fmove.x	fp7,fp0
	fdiv.s	#$.40000000,fp0
	fmove.x	fp2,fp3
	fadd.x	fp0,fp3
	fmove.s	fp3,-$40(a5)
;					rfloat32 my	= drawYMag*(y - py)/32800F;
	fmove.s	-$40(a5),fp0
	fsub.x	fp2,fp0
	fmove.s	$44(a2),fp5
	fmul.x	fp0,fp5
	fdiv.s	#$.47002000,fp5
;					for (rsint32 i = 0
	moveq	#0,d1
;					for (rsint32 i = 0, j = k;
	move.l	d5,d0
	bra.b	L544
L537
;						p->x = x;
	fmove.s	fp1,(a0)
;						p->y = ClipFloat((y - my*(float32)buffer[j]), py, py+dy);
	fmove.x	fp2,fp4
	fadd.x	fp7,fp4
	fmove.x	fp2,fp3
	move.w	0(a6,d0.l*2),d2
	ext.l	d2
	fmove.l	d2,fp0
	fmul.x	fp5,fp0
	fmove.s	-$40(a5),fp6
	fsub.x	fp0,fp6
	fmove.x	fp6,fp0
	fcmp.x	fp3,fp0
	fboge.b	L539
L538
	fmove.x	fp3,fp0
	bra.b	L543
L539
	fcmp.x	fp4,fp0
	fbole.b	L541
L540
	fmove.x	fp4,fp0
L541
L542
L543
	fmove.s	fp0,4(a0)
;						p->z = 0;
	clr.l	$8(a0)
	addq.l	#1,d1
	add.w	#$20,a0
	add.l	d4,d0
	fadd.s	-$4C(a5),fp1
L544
	cmp.l	d3,d1
	blo.b	L537
L545
;					draw.SetColour(cols[k]);
	lea	-$20(a5),a0
	move.l	0(a0,d5.l*4),-(a7)
	move.l	#_draw,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;					draw.LineStrip(points);
	move.l	d3,-(a7)
	move.l	#_draw,-(a7)
	jsr	LineStrip__DRAWLIST__Tj
	addq.w	#$8,a7
	addq.l	#1,d5
	fadd.x	fp7,fp2
L546
	move.w	$C(a2),d0
	ext.l	d0
	cmp.l	d0,d5
	blt	L536
L547
;			font.WriteTextF(&draw, 0xFFFFFFFF, borderLeft+4, borderTop+4,\
	moveq	#0,d0
	move.w	$E(a2),d0
	move.l	d0,-(a7)
	fmove.s	$44(a2),fp0
	fmove.d	fp0,-(a7)
	move.l	$40(a2),-(a7)
	move.l	$3C(a2),-(a7)
	move.l	#L508,-(a7)
	fmove.s	$2C(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$30(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-1,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$28,a7
;	flags &= ~REDRAW_ME;
	and.l	#-$2000001,$28(a2)
;	return OK;
	moveq	#0,d0
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d6/a2/a3/a6
	unlk	a5
	rts

L508
	dc.b	'Start: %d, Range: %d, Y scale: %f, Freq: %d Hz',0
L507
	dc.b	'Waveform : Empty',0

	SECTION "ViewRender__DRAWWAVE__T:1",DATA

_barColour__ViewRender__DRAWWAVE__T
	dc.l	-$7F6F01,-$101001,-$3F3F01

	SECTION "ViewDefine__DRAWWAVE__Tssss:0",CODE


;sint32 DRAWWAVE::ViewDefine(S_2CRD)
	XDEF	ViewDefine__DRAWWAVE__Tssss
ViewDefine__DRAWWAVE__Tssss
L550	EQU	0
	link	a5,#L550
	movem.l	d2/d3,-(a7)
	move.w	$C(a5),d0
	move.w	$12(a5),d1
	move.w	$10(a5),d2
	move.w	$E(a5),d3
	move.l	$8(a5),a0
L549
;	borderLeft		= x1;
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,$30(a0)
;	borderTop 		= y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,$2C(a0)
;	borderRight		= x2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,$34(a0)
;	borderBottom	= y2;
	move.w	d1,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,$38(a0)
;	flags = REDRAW_ME;
	move.l	#$2000000,$28(a0)
;	return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2/d3
	unlk	a5
	rts

	SECTION "SetRange__DRAWWAVE__TUjUjf:0",CODE


;sint32 DRAWWAVE::SetRange(uint32 start, uint32 range, float32 yMag)
	XDEF	SetRange__DRAWWAVE__TUjUjf
SetRange__DRAWWAVE__TUjUjf
L581	EQU	0
	link	a5,#L581
	movem.l	d2-d4,-(a7)
	movem.l	$C(a5),d3/d4
	move.l	$8(a5),a0
	fmove.s	$14(a5),fp0
L551
;	if (Length())
	move.l	a0,a1
	tst.w	$C(a1)
	bne.b	L553
L552
	moveq	#0,d0
	bra.b	L554
L553
	move.w	$C(a1),d1
	ext.l	d1
	move.l	4(a1),d0
	divsl.l	d1,d0
L554
	tst.l	d0
	beq	L580
L555
;		drawRange = Clamp(range, 2, Length());
	move.l	a0,a1
	tst.w	$C(a1)
	bne.b	L557
L556
	moveq	#0,d1
	bra.b	L558
L557
	move.w	$C(a1),d0
	ext.l	d0
	move.l	4(a1),d1
	divsl.l	d0,d1
L558
	moveq	#2,d2
	move.l	d4,d0
	cmp.l	d2,d0
	bhs.b	L560
L559
	move.l	d2,d0
	bra.b	L564
L560
	cmp.l	d1,d0
	bls.b	L562
L561
	move.l	d1,d0
L562
L563
L564
	move.l	d0,$40(a0)
;		if (start+drawRange > Length())
	move.l	d3,d2
	add.l	$40(a0),d2
	move.l	a0,a1
	tst.w	$C(a1)
	bne.b	L566
L565
	moveq	#0,d0
	bra.b	L567
L566
	move.w	$C(a1),d1
	ext.l	d1
	move.l	4(a1),d0
	divsl.l	d1,d0
L567
	cmp.l	d0,d2
	bls.b	L572
L568
;			drawStart = Length()-drawRange;
	move.l	a0,a1
	tst.w	$C(a1)
	bne.b	L570
L569
	moveq	#0,d0
	bra.b	L571
L570
	move.w	$C(a1),d1
	ext.l	d1
	move.l	4(a1),d0
	divsl.l	d1,d0
L571
	sub.l	$40(a0),d0
	move.l	d0,$3C(a0)
	bra.b	L573
L572
;			drawStart = start;
	move.l	d3,$3C(a0)
L573
;		drawYMag = Clamp(yMag, 1, 256);
	move.l	#$100,d1
	moveq	#1,d0
	fmove.l	d0,fp1
	fcmp.x	fp1,fp0
	fboge.b	L575
L574
	fmove.l	d0,fp0
	bra.b	L579
L575
	fmove.l	d1,fp1
	fcmp.x	fp1,fp0
	fbole.b	L577
L576
	fmove.l	d1,fp0
L577
L578
L579
	fmove.s	fp0,$44(a0)
L580
;	flags |= REDRAW_ME;
	or.l	#$2000000,$28(a0)
;	return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2-d4
	unlk	a5
	rts

	SECTION "ZoomRange__DRAWWAVE__Tf:0",CODE


;void DRAWWAVE::ZoomRange(float32 factor)
	XDEF	ZoomRange__DRAWWAVE__Tf
ZoomRange__DRAWWAVE__Tf
L601	EQU	-$8
	link	a5,#L601
	fmovem.x fp2/fp3,-(a7)
	move.l	$8(a5),a0
	fmove.s	$C(a5),fp2
L582
;	float32 s = (EndPos() + StartPos())/2F;
	move.l	$3C(a0),d0
	add.l	$40(a0),d0
	add.l	$3C(a0),d0
	fmove.l	d0,fp0
	fdiv.s	#$.40000000,fp0
;	float32 r = factor*(float32)drawRange;
	fmove.l	$40(a0),fp1
	fmul.x	fp2,fp1
;	r = Clamp(r,16,Length());
	move.l	a0,a1
	tst.w	$C(a1)
	bne.b	L584
L583
	moveq	#0,d0
	bra.b	L585
L584
	move.w	$C(a1),d1
	ext.l	d1
	move.l	4(a1),d0
	divsl.l	d1,d0
L585
	moveq	#$10,d1
	fmove.l	d1,fp2
	fcmp.x	fp2,fp1
	fboge.b	L587
L586
	fmove.l	d1,fp1
	bra.b	L591
L587
	fmove.l	d0,fp2
	fcmp.x	fp2,fp1
	fbole.b	L589
L588
	fmove.l	d0,fp1
L589
L590
L591
;	s -= (r/2F);
	fmove.x	fp1,fp2
	fdiv.s	#$.40000000,fp2
	fsub.x	fp2,fp0
;	s = Clamp(s,0,Length()-2);
	move.l	a0,a1
	tst.w	$C(a1)
	bne.b	L593
L592
	moveq	#0,d0
	bra.b	L594
L593
	move.w	$C(a1),d1
	ext.l	d1
	move.l	4(a1),d0
	divsl.l	d1,d0
L594
	subq.l	#2,d0
	moveq	#0,d1
	fmove.l	d1,fp2
	fcmp.x	fp2,fp0
	fboge.b	L596
L595
	fmove.l	d1,fp0
	bra.b	L600
L596
	fmove.l	d0,fp2
	fcmp.x	fp2,fp0
	fbole.b	L598
L597
	fmove.l	d0,fp0
L598
L599
L600
;	SetRange((uint32)s, (uint32)r, drawYMag);
	move.l	$44(a0),-(a7)
	fmove.l	fp1,d0
	move.l	d0,-(a7)
	fmove.l	fp0,d0
	move.l	d0,-(a7)
	move.l	a0,-(a7)
	jsr	SetRange__DRAWWAVE__TUjUjf
	add.w	#$10,a7
	fmovem.x (a7)+,fp2/fp3
	unlk	a5
	rts

	SECTION "ScrollRange__DRAWWAVE__Tf:0",CODE


;void DRAWWAVE::ScrollRange(float32 factor)
	XDEF	ScrollRange__DRAWWAVE__Tf
ScrollRange__DRAWWAVE__Tf
L612	EQU	-4
	link	a5,#L612
	move.l	$8(a5),a0
	fmove.s	$C(a5),fp1
L602
;	float32 s = factor*(float32)drawRange;
	fmove.l	$40(a0),fp0
	fmul.x	fp1,fp0
;	s += (float32)drawStart;
	fmove.l	$3C(a0),fp1
	fadd.x	fp1,fp0
;	s = Clamp(s,0,Length()-2);
	move.l	a0,a1
	tst.w	$C(a1)
	bne.b	L604
L603
	moveq	#0,d0
	bra.b	L605
L604
	move.w	$C(a1),d1
	ext.l	d1
	move.l	4(a1),d0
	divsl.l	d1,d0
L605
	subq.l	#2,d0
	moveq	#0,d1
	fmove.l	d1,fp1
	fcmp.x	fp1,fp0
	fboge.b	L607
L606
	fmove.l	d1,fp0
	bra.b	L611
L607
	fmove.l	d0,fp1
	fcmp.x	fp1,fp0
	fbole.b	L609
L608
	fmove.l	d0,fp0
L609
L610
L611
;	SetRange((uint32)s, drawRange, drawYMag);
	move.l	$44(a0),-(a7)
	move.l	$40(a0),-(a7)
	fmove.l	fp0,d0
	move.l	d0,-(a7)
	move.l	a0,-(a7)
	jsr	SetRange__DRAWWAVE__TUjUjf
	add.w	#$10,a7
	unlk	a5
	rts

	SECTION "ZoomY__DRAWWAVE__Tf:0",CODE


;void DRAWWAVE::ZoomY(float32 factor)
	XDEF	ZoomY__DRAWWAVE__Tf
ZoomY__DRAWWAVE__Tf
L614	EQU	0
	link	a5,#L614
	move.l	$8(a5),a0
	fmove.s	$C(a5),fp1
L613
;	SetRange(drawStart, drawRange, drawYMag*factor);
	fmove.s	$44(a0),fp0
	fmul.x	fp1,fp0
	fmove.s	fp0,-(a7)
	move.l	$40(a0),-(a7)
	move.l	$3C(a0),-(a7)
	move.l	a0,-(a7)
	jsr	SetRange__DRAWWAVE__TUjUjf
	add.w	#$10,a7
	unlk	a5
	rts

	SECTION "Play__DRAWWAVE__TUjUjff:0",CODE


;sint32	DRAWWAVE::Play(uint32 start, uint32 len, float32 vol, float32
	XDEF	Play__DRAWWAVE__TUjUjff
Play__DRAWWAVE__TUjUjff
L642	EQU	0
	link	a5,#L642
	movem.l	d2-d4,-(a7)
	move.l	$10(a5),d0
	move.l	$C(a5),d2
	move.l	$8(a5),a1
L615
;	if (flags & IS_PLAYING)
	move.l	$28(a1),d1
	and.l	#$10,d1
	beq.b	L617
L616
;		return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2-d4
	unlk	a5
	rts
L617
;		len = Clamp(len, 0, Length());
	move.l	a1,a0
	tst.w	$C(a0)
	bne.b	L619
L618
	moveq	#0,d1
	bra.b	L620
L619
	move.w	$C(a0),d3
	ext.l	d3
	move.l	4(a0),d1
	divsl.l	d3,d1
L620
	moveq	#0,d3
	cmp.l	d3,d0
	bhs.b	L622
L621
	move.l	d3,d0
	bra.b	L626
L622
	cmp.l	d1,d0
	bls.b	L624
L623
	move.l	d1,d0
L624
L625
L626
;		start = Clamp(start, 0, len);
	move.l	d0,d4
	moveq	#0,d3
	move.l	d2,d1
	cmp.l	d3,d1
	bhs.b	L628
L627
	move.l	d3,d2
	bra.b	L632
L628
	cmp.l	d4,d1
	bls.b	L630
L629
	move.l	d4,d2
	bra.b	L631
L630
	move.l	d1,d2
L631
L632
;		len = Clamp(len, 0, Length()-start);
	move.l	a1,a0
	tst.w	$C(a0)
	bne.b	L634
L633
	moveq	#0,d1
	bra.b	L635
L634
	move.w	$C(a0),d3
	ext.l	d3
	move.l	4(a0),d1
	divsl.l	d3,d1
L635
	sub.l	d2,d1
	bra.b	L637
L636
	bra.b	L641
L637
	cmp.l	d1,d0
L638
L639
L640
L641
;	return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2-d4
	unlk	a5
	rts

	SECTION "Stop__DRAWWAVE__T:0",CODE


;sint32 DRAWWAVE::Stop()
	XDEF	Stop__DRAWWAVE__T
Stop__DRAWWAVE__T
L646	EQU	0
	link	a5,#L646
	move.l	$8(a5),a0
L643
;	if (flags & IS_PLAYING==0)
	bra.b	L645
L644
;		return OK;
	moveq	#0,d0
	unlk	a5
	rts
L645
;	return OK;
	moveq	#0,d0
	unlk	a5
	rts

	SECTION "ViewClear__DRAWFRAME__T:0",CODE


;sint32 DRAWFRAME::ViewClear()
	XDEF	ViewClear__DRAWFRAME__T
ViewClear__DRAWFRAME__T
L655	EQU	-$8
	link	a5,#L655
	move.l	a2,-(a7)
	move.l	$8(a5),a2
L647
;	ARGB32 backColour[2] = { 0xFF000000, 0xFF000000 };
	lea	-$8(a5),a0
	move.l	#-$1000000,(a0)+
	move.l	#-$1000000,(a0)
;	if (!ZeroFrame())
	move.l	(a2),d0
	and.l	#1,d0
	tst.w	d0
	bne	L654
L648
;		if (maxDelta>0)
	move.w	$46(a2),d0
	cmp.w	#0,d0
	ble.b	L650
L649
;			backColour[0].Red()= ((255F*(float32)maxDelta/32768F));
	move.w	$46(a2),d0
	ext.l	d0
	fmove.l	d0,fp0
	fmul.s	#$.437F0000,fp0
	fdiv.s	#$.47000000,fp0
	fmove.l	fp0,d0
	lea	-$8(a5),a0
	move.b	d0,1(a0)
	bra.b	L651
L650
;			backColour[0].Blue()= ((255F*(float32)(-maxDelta)/32768F));
	move.w	$46(a2),d0
	ext.l	d0
	neg.l	d0
	fmove.l	d0,fp0
	fmul.s	#$.437F0000,fp0
	fdiv.s	#$.47000000,fp0
	fmove.l	fp0,d0
	lea	-$8(a5),a0
	move.b	d0,3(a0)
L651
;		if (minDelta>0)
	move.w	$44(a2),d0
	cmp.w	#0,d0
	ble.b	L653
L652
;			backColour[1].Red()= ((255F*(float32)minDelta/32768F));
	move.w	$44(a2),d0
	ext.l	d0
	fmove.l	d0,fp0
	fmul.s	#$.437F0000,fp0
	fdiv.s	#$.47000000,fp0
	fmove.l	fp0,d0
	lea	-$8(a5),a0
	lea	4(a0),a0
	move.b	d0,1(a0)
	bra.b	L654
L653
;			backColour[1].Blue()= ((255F*(float32)(-minDelta)/32768F));
	move.w	$44(a2),d0
	ext.l	d0
	neg.l	d0
	fmove.l	d0,fp0
	fmul.s	#$.437F0000,fp0
	fdiv.s	#$.47000000,fp0
	fmove.l	fp0,d0
	lea	-$8(a5),a0
	lea	4(a0),a0
	move.b	d0,3(a0)
L654
;	draw.Disable(x3D::ALPHA_BLEND);
	pea	$2000.w
	move.l	#_draw,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;	draw.RectShV((uint32*)backColour, borderLeft, borderTop, borderRig
	fmove.s	$70(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$6C(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$64(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	pea	-$8(a5)
	move.l	#_draw,-(a7)
	jsr	RectShV__DRAWLIST__TPUjssss
	add.w	#$10,a7
;	flags |= REDRAW_ME;
	or.l	#$2000000,$5C(a2)
;	return OK;
	moveq	#0,d0
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "ViewRender__DRAWFRAME__T:0",CODE


;sint32 DRAWFRAME::ViewRender()
	XDEF	ViewRender__DRAWFRAME__T
ViewRender__DRAWFRAME__T
L759	EQU	-$5A
	link	a5,#L759
	movem.l	d2-d7/a2/a3,-(a7)
	fmovem.x fp2/fp3/fp4/fp5/fp6/fp7,-(a7)
	move.l	$8(a5),a2
L665
;	if ((flags & REDRAW_ME)==0)
	move.l	$5C(a2),d0
	and.l	#$2000000,d0
	bne.b	L667
L666
;		return OK;
	moveq	#0,d0
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d7/a2/a3
	unlk	a5
	rts
L667
;	if (Size()==0)
	move.l	a2,a3
	move.l	a3,a1
	tst.l	4(a1)
	beq.b	L670
L668
	move.l	a3,a1
	move.l	4(a1),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L670
L669
	move.l	a3,a0
	move.w	$2C(a0),d0
	ext.l	d0
	bra.b	L671
L670
	moveq	#0,d0
L671
	tst.l	d0
	bne.b	L673
L672
;		ViewClear();
	move.l	$58(a2),a0
	move.l	a2,d0
	add.l	$44(a0),d0
	move.l	d0,-(a7)
	move.l	$40(a0),a0
	jsr	(a0)
	addq.w	#4,a7
;		font.WriteText(&draw, 0xFFFF0000, borderLeft+4, borderTop+4, "No
	move.l	#L656,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-$10000,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteText__xTEXFONT__TP08DRAWLISTUjssPc
	add.w	#$14,a7
;		return OK;
	moveq	#0,d0
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d7/a2/a3
	unlk	a5
	rts
L673
;	else if (ZeroFrame())
	move.l	(a2),d0
	and.l	#1,d0
	tst.w	d0
	beq.b	L675
L674
;		ViewClear();
	move.l	$58(a2),a0
	move.l	a2,d0
	add.l	$44(a0),d0
	move.l	d0,-(a7)
	move.l	$40(a0),a0
	jsr	(a0)
	addq.w	#4,a7
;		font.WriteTextF(&draw, 0xFFFF0000, borderLeft+4, borderTop+4, "F
	move.l	$20(a2),-(a7)
	move.l	$24(a2),-(a7)
	move.l	#L657,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-$10000,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$1C,a7
;		return OK;
	moveq	#0,d0
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d7/a2/a3
	unlk	a5
	rts
L675
;		ViewClear();
	move.l	$58(a2),a0
	move.l	a2,d0
	add.l	$44(a0),d0
	move.l	d0,-(a7)
	move.l	$40(a0),a0
	jsr	(a0)
	addq.w	#4,a7
;		draw.Disable(x3D::GOURAUD);
	pea	$400.w
	move.l	#_draw,-(a7)
	jsr	Disable__DRAWLIST__TE
	addq.w	#$8,a7
;		uint32	visRange		= (uint32)(borderRight-borderLeft-1);
	fmove.s	$6C(a2),fp0
	fsub.s	$68(a2),fp0
	fsub.s	#$.3F800000,fp0
	fmove.l	fp0,d0
	move.l	d0,d7
;		uint32	buffStep		= visRange >= uniqueDelta ? 1 : 1+(uint32)((flo
	move.w	$32(a2),d0
	ext.l	d0
	move.l	d7,d1
	cmp.l	d0,d1
	blo.b	L677
L676
	moveq	#1,d4
	bra.b	L678
L677
	move.w	$32(a2),d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.l	d7,fp1
	fdiv.x	fp1,fp0
	fmove.l	fp0,d0
	move.l	d0,d4
	addq.l	#1,d4
L678
;		uint32	points 			= uniqueDelta/buffStep;
	move.w	$32(a2),d2
	ext.l	d2
	divul.l	d4,d2
;		uint32	allocated		= uniqueDelta<(1<<bitRate) ? uniqueDelta : (1<
	move.w	$32(a2),d1
	ext.l	d1
	move.w	$30(a2),d0
	ext.l	d0
	moveq	#1,d3
	asl.l	d0,d3
	cmp.l	d3,d1
	bge.b	L680
L679
	move.w	$32(a2),d3
	ext.l	d3
	bra.b	L681
L680
	move.w	$30(a2),d0
	ext.l	d0
	moveq	#1,d3
	asl.l	d0,d3
L681
;		register DVERTEX* p = draw.GetVertices(2*points+allocated);
	move.w	#1,-(a7)
	move.l	d2,d0
	moveq	#1,d1
	asl.l	d1,d0
	add.l	d3,d0
	move.l	d0,-(a7)
	move.l	#_draw,-(a7)
	jsr	GetVertices__DRAWLIST__Tjs
	add.w	#$A,a7
	move.l	d0,a3
;			float32 y		= (borderTop + borderBottom)/2F;
	fmove.s	$64(a2),fp3
	fadd.s	$70(a2),fp3
	fdiv.s	#$.40000000,fp3
;			float32 my	= (y - borderTop)/32768F;
	fmove.x	fp3,fp5
	fsub.s	$64(a2),fp5
	fdiv.s	#$.47000000,fp5
;			float32 deltaRange = 65536F/(float32)(1+labs(maxDelta-minDelta)
	move.w	$46(a2),d0
	ext.l	d0
	move.w	$44(a2),d1
	ext.l	d1
	sub.l	d1,d0
	move.l	d0,-(a7)
	jsr	_labs
	addq.w	#4,a7
	addq.l	#1,d0
	fmove.l	d0,fp0
	fmove.s	#$.47800000,fp1
	fdiv.x	fp0,fp1
;			y += my*(float32)(maxDelta+minDelta)/2F;
	move.w	$46(a2),d0
	ext.l	d0
	move.w	$44(a2),d1
	ext.l	d1
	add.l	d1,d0
	fmove.l	d0,fp0
	fmul.x	fp5,fp0
	fdiv.s	#$.40000000,fp0
	fadd.x	fp0,fp3
;			my *= deltaRange;
	fmul.x	fp1,fp5
;				float32	x		= borderLeft+0.5F;
	fmove.s	$68(a2),fp4
	fadd.s	#$.3F000000,fp4
;				float32 dx	= (float32)visRange/(float32)(points-1);
	fmove.l	d7,fp0
	fmove.s	fp0,fp7
	move.l	d2,d0
	subq.l	#1,d0
	fmove.l	d0,fp0
	fmove.x	fp7,fp1
	fdiv.x	fp0,fp1
	fmove.s	fp1,fp7
;				rsint16* d = DeltaUnique();
	move.l	$14(a2),a0
;				for (rsint32 i=0
	moveq	#0,d0
;				for (rsint32 i=0, j=0;
	moveq	#0,d1
	bra.b	L689
L682
;					p->x = x;
	move.l	a3,a1
	fmove.s	fp4,(a1)
;					p->y = Clamp((y - my*(float32)(*d)), borderTop+1, borderBo
	fmove.s	$70(a2),fp2
	fsub.s	#$.3F800000,fp2
	fmove.s	$64(a2),fp1
	fadd.s	#$.3F800000,fp1
	move.w	(a0),d5
	ext.l	d5
	fmove.l	d5,fp0
	fmul.x	fp5,fp0
	fmove.x	fp3,fp6
	fsub.x	fp0,fp6
	fmove.x	fp6,fp0
	fcmp.x	fp1,fp0
	fboge.b	L684
L683
	fmove.x	fp1,fp0
	bra.b	L688
L684
	fcmp.x	fp2,fp0
	fbole.b	L686
L685
	fmove.x	fp2,fp0
L686
L687
L688
	move.l	a3,a1
	fmove.s	fp0,4(a1)
;					p->z = 0;
	move.l	a3,a1
	clr.l	$8(a1)
	addq.l	#1,d0
	moveq	#$20,d5
	add.l	a3,d5
	move.l	d5,a3
	addq.w	#2,a0
	add.l	d4,d1
	fadd.x	fp7,fp4
L689
	cmp.l	d2,d0
	blo.b	L682
L690
;				draw.SetColour(0xFFA0A030);
	move.l	#-$5F5FD0,-(a7)
	move.l	#_draw,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;				draw.LineStrip(points);
	move.l	d2,-(a7)
	move.l	#_draw,-(a7)
	jsr	LineStrip__DRAWLIST__Tj
	addq.w	#$8,a7
;				float32	x		= borderLeft+0.5F;
	fmove.s	$68(a2),fp4
	fadd.s	#$.3F000000,fp4
;				float32 dx	= (float32)visRange/(float32)(allocated-1);
	fmove.l	d7,fp0
	fmove.s	fp0,fp7
	move.l	d3,d0
	subq.l	#1,d0
	fmove.l	d0,fp0
	fmove.x	fp7,fp1
	fdiv.x	fp0,fp1
	fmove.s	fp1,fp7
;				rsint16* q = Table();
	move.l	a2,a0
	move.l	(a0),d0
	and.l	#2,d0
	beq.b	L692
L691
	move.l	$14(a0),a0
	bra.b	L693
L692
	move.w	$2E(a0),d0
	ext.l	d0
	move.l	$C(a0),a1
	lea	0(a1,d0.l*2),a1
	move.w	$2C(a0),d0
	ext.l	d0
	subq.l	#1,d0
	moveq	#0,d1
	muls.l	d0,d1
	lea	0(a1,d1.l*2),a0
L693
;				for (rsint32 i=0;
	moveq	#0,d0
	bra.b	L701
L694
;					p->x = x;
	move.l	a3,a1
	fmove.s	fp4,(a1)
;					p->y = Clamp((y - my*(float32)(*q)), borderTop+1, borderBo
	fmove.s	$70(a2),fp2
	fsub.s	#$.3F800000,fp2
	fmove.s	$64(a2),fp1
	fadd.s	#$.3F800000,fp1
	move.w	(a0),d1
	ext.l	d1
	fmove.l	d1,fp0
	fmul.x	fp5,fp0
	fmove.x	fp3,fp6
	fsub.x	fp0,fp6
	fmove.x	fp6,fp0
	fcmp.x	fp1,fp0
	fboge.b	L696
L695
	fmove.x	fp1,fp0
	bra.b	L700
L696
	fcmp.x	fp2,fp0
	fbole.b	L698
L697
	fmove.x	fp2,fp0
L698
L699
L700
	move.l	a3,a1
	fmove.s	fp0,4(a1)
;					p->z = 0;
	move.l	a3,a1
	clr.l	$8(a1)
	addq.l	#1,d0
	moveq	#$20,d1
	add.l	a3,d1
	move.l	d1,a3
	addq.w	#2,a0
	fadd.x	fp7,fp4
L701
	cmp.l	d3,d0
	blo.b	L694
L702
;				if (allocated<=(1<<bitRate))
	move.w	$30(a2),d0
	ext.l	d0
	moveq	#1,d1
	asl.l	d0,d1
	cmp.l	d1,d3
	bhi.b	L704
L703
;					draw.SetColour(0xFFA0A0A0);
	move.l	#-$5F5F60,-(a7)
	move.l	#_draw,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
	bra.b	L705
L704
;					draw.SetColour(0xFFFFFF30);
	move.l	#-$D0,-(a7)
	move.l	#_draw,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
L705
;				draw.LineStrip(allocated);
	move.l	d3,-(a7)
	move.l	#_draw,-(a7)
	jsr	LineStrip__DRAWLIST__Tj
	addq.w	#$8,a7
;				float32	x		= borderLeft+0.5F;
	fmove.s	$68(a2),fp3
	fadd.s	#$.3F000000,fp3
;				float32 dx	= (float32)visRange/(float32)(points-1);
	fmove.l	d7,fp5
	move.l	d2,d0
	subq.l	#1,d0
	fmove.l	d0,fp0
	fdiv.x	fp0,fp5
;				float32 y = borderBottom;
	fmove.s	$70(a2),fp7
;				float32 my = (borderBottom-borderTop)/(float32)frameSize;
	fmove.s	$70(a2),fp4
	fsub.s	$64(a2),fp4
	move.w	$2C(a2),d0
	ext.l	d0
	fmove.l	d0,fp0
	fdiv.x	fp0,fp4
;				sint16*	f = DeltaFreq();
	move.l	$18(a2),a0
;				for (sint32 i=0
	moveq	#0,d0
;				for (sint32 i=0, j=0;
	moveq	#0,d1
	bra.b	L713
L706
;					p->x = x;
	move.l	a3,a1
	fmove.s	fp3,(a1)
;					p->y = Clamp((y - my*(float32)(*f)), borderTop+1, borderBo
	fmove.s	$70(a2),fp2
	fsub.s	#$.3F800000,fp2
	fmove.s	$64(a2),fp1
	fadd.s	#$.3F800000,fp1
	move.w	(a0),d5
	ext.l	d5
	fmove.l	d5,fp0
	fmul.x	fp4,fp0
	fmove.x	fp7,fp6
	fsub.x	fp0,fp6
	fmove.x	fp6,fp0
	fcmp.x	fp1,fp0
	fboge.b	L708
L707
	fmove.x	fp1,fp0
	bra.b	L712
L708
	fcmp.x	fp2,fp0
	fbole.b	L710
L709
	fmove.x	fp2,fp0
L710
L711
L712
	move.l	a3,a1
	fmove.s	fp0,4(a1)
;					p->z = 0;
	move.l	a3,a1
	clr.l	$8(a1)
	addq.l	#1,d0
	moveq	#$20,d5
	add.l	a3,d5
	move.l	d5,a3
	addq.w	#2,a0
	add.l	d4,d1
	fadd.x	fp5,fp3
L713
	cmp.l	d2,d0
	blo.b	L706
L714
;				draw.SetColour(0xFF60A0FF);
	move.l	#-$9F5F01,-(a7)
	move.l	#_draw,-(a7)
	jsr	SetColour__DRAWLIST__TUj
	addq.w	#$8,a7
;				draw.LineStrip(points);
	move.l	d2,-(a7)
	move.l	#_draw,-(a7)
	jsr	LineStrip__DRAWLIST__Tj
	addq.w	#$8,a7
;			draw.Enable(x3D::ALPHA_BLEND);
	pea	$2000.w
	move.l	#_draw,-(a7)
	jsr	Enable__DRAWLIST__TE
	addq.w	#$8,a7
;			uint32 c[]={0x60000000, 0x600000FF};
	lea	-$18(a5),a0
	move.l	#$60000000,(a0)+
	move.l	#$600000FF,(a0)
;teTextF(&draw, 0x
	cmp.l	#$10,d3
	bhi	L721
L715
;				draw.RectShH(c, borderLeft+8, borderTop+(2*font.Size()), bor
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	move.l	d3,d0
	addq.l	#2,d0
	move.l	#_font,a0
	mulu.l	$2A(a0),d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	moveq	#0,d1
	move.l	#_font,a0
	move.l	$26(a0),d0
	and.l	#1,d0
	beq.b	L717
L716
	move.w	$32(a0),d0
	bra.b	L720
L717
	move.l	$26(a0),d0
	and.l	#2,d0
	beq.b	L719
L718
	move.l	$32(a0),a0
	move.w	0(a0,d1.l*2),d0
	bra.b	L720
L719
	moveq	#0,d0
L720
	muls	#$B,d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#_font,a0
	move.l	$2A(a0),d0
	moveq	#1,d1
	asl.l	d1,d0
	fmove.l	d0,fp1
	fmove.s	$64(a2),fp0
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.41000000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	pea	-$18(a5)
	move.l	#_draw,-(a7)
	jsr	RectShH__DRAWLIST__TPUjssss
	add.w	#$10,a7
	bra	L727
L721
;				draw.RectShH(c, borderLeft+8, borderTop+(2*font.Size()), bor
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	move.l	#_font,a0
	move.l	$2A(a0),d0
	muls.l	#$12,d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	moveq	#0,d1
	move.l	#_font,a0
	move.l	$26(a0),d0
	and.l	#1,d0
	beq.b	L723
L722
	move.w	$32(a0),d0
	bra.b	L726
L723
	move.l	$26(a0),d0
	and.l	#2,d0
	beq.b	L725
L724
	move.l	$32(a0),a0
	move.w	0(a0,d1.l*2),d0
	bra.b	L726
L725
	moveq	#0,d0
L726
	muls	#$17,d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#_font,a0
	move.l	$2A(a0),d0
	moveq	#1,d1
	asl.l	d1,d0
	fmove.l	d0,fp1
	fmove.s	$64(a2),fp0
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.41000000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	pea	-$18(a5)
	move.l	#_draw,-(a7)
	jsr	RectShH__DRAWLIST__TPUjssss
	add.w	#$10,a7
L727
;		if (flags & ENCODING)
	move.l	$5C(a2),d0
	and.l	#$4000000,d0
	beq	L729
L728
;			uint32 grad[] = { 0x8000FF00, 0x80FF0000 };
	lea	-$50(a5),a0
	move.l	#$8000FF00,(a0)+
	move.l	#$80FF0000,(a0)
;			draw.RectShH(grad, borderLeft, borderBottom-font.Size()-8, bor
	fmove.s	$70(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$6C(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#_font,a0
	fmove.l	$2A(a0),fp1
	fmove.s	$70(a2),fp0
	fsub.x	fp1,fp0
	fsub.s	#$.41000000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	pea	-$50(a5)
	move.l	#_draw,-(a7)
	jsr	RectShH__DRAWLIST__TPUjssss
	add.w	#$10,a7
;			sint16 w = ((borderRight-borderLeft)*frameNum)/maxFrame;
	fmove.s	$6C(a2),fp0
	fsub.s	$68(a2),fp0
	fmove.l	$24(a2),fp1
	fmul.x	fp1,fp0
	fmove.l	$20(a2),fp1
	fdiv.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,d1
;			draw.Rect(0xA08080FF, borderLeft, borderBottom-font.Size()-5, 
	fmove.s	$70(a2),fp0
	fsub.s	#$.40400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.w	d1,d0
	ext.l	d0
	fmove.l	d0,fp1
	fmove.s	$68(a2),fp0
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#_font,a0
	fmove.l	$2A(a0),fp1
	fmove.s	$70(a2),fp0
	fsub.x	fp1,fp0
	fsub.s	#$.40A00000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#$A08080FF,-(a7)
	move.l	#_draw,-(a7)
	jsr	Rect__DRAWLIST__TUjssss
	add.w	#$10,a7
L729
;		switch (channels)
	move.w	$2E(a2),d0
	cmp.w	#3,d0
	beq	L732
	bgt.b	L760
	cmp.w	#1,d0
	beq.b	L730
	cmp.w	#2,d0
	beq	L731
	bra	L734
L760
	cmp.w	#4,d0
	beq	L733
	bra	L734
;			
L730
;				font.WriteTextF(&draw, 0xFFFFFFFF, borderLeft+4, borderTop+4
	move.l	$C(a2),a0
	move.w	(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$32(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$46(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$44(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$2C(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$20(a2),-(a7)
	move.l	$24(a2),-(a7)
	move.l	#L658,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-1,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$30,a7
;			
	bra	L735
L731
;				font.WriteTextF(&draw, 0xFFFFFFFF, borderLeft+4, borderTop+4
	move.l	$C(a2),a0
	move.w	2(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$C(a2),a0
	move.w	(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$32(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$46(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$44(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$2C(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$20(a2),-(a7)
	move.l	$24(a2),-(a7)
	move.l	#L659,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-1,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$34,a7
;			
	bra	L735
L732
;				font.WriteTextF(&draw, 0xFFFFFFFF, borderLeft+4, borderTop+4
	move.l	$C(a2),a0
	move.w	4(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$C(a2),a0
	move.w	2(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$C(a2),a0
	move.w	(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$32(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$46(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$44(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$2C(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$20(a2),-(a7)
	move.l	$24(a2),-(a7)
	move.l	#L660,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-1,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$38,a7
;			
	bra	L735
L733
;				font.WriteTextF(&draw, 0xFFFFFFFF, borderLeft+4, borderTop+4
	move.l	$C(a2),a0
	move.w	6(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$C(a2),a0
	move.w	4(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$C(a2),a0
	move.w	2(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$C(a2),a0
	move.w	(a0),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$32(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$46(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$44(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	$2C(a2),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	$20(a2),-(a7)
	move.l	$24(a2),-(a7)
	move.l	#L661,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-1,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$3C,a7
;			
L734
;			
L735
;			sint16* q = Table();
	move.l	a2,a0
	move.l	(a0),d0
	and.l	#2,d0
	beq.b	L737
L736
	move.l	$14(a0),a3
	bra.b	L738
L737
	move.w	$2E(a0),d0
	ext.l	d0
	move.l	$C(a0),a1
	lea	0(a1,d0.l*2),a1
	move.w	$2C(a0),d0
	ext.l	d0
	subq.l	#1,d0
	moveq	#0,d1
	muls.l	d0,d1
	move.l	d1,d0
	add.l	d0,d0
	add.l	a1,d0
	move.l	d0,a3
L738
;			if (allocated <= 16)
	cmp.l	#$10,d3
	bhi	L743
L739
;				for (sint32 i = 0;
	moveq	#0,d2
	bra.b	L741
L740
;					font.WriteTextF(&draw, 0xFFE0E0E0, borderLeft+12, borderTo
	move.w	(a3)+,d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	d2,-(a7)
	move.l	#L662,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	move.l	d2,d0
	addq.l	#2,d0
	move.l	#_font,a0
	muls.l	$2A(a0),d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.41400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-$1F1F20,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$1C,a7
	addq.l	#1,d2
L741
	cmp.l	d3,d2
	blo.b	L740
L742
	bra	L755
L743
;			else if (allocated <= 32)
	cmp.l	#$20,d3
	bhi	L755
L744
;				for (sint32 i = 0;
	moveq	#0,d2
	bra.b	L746
L745
;					font.WriteTextF(&draw, 0xFFE0E0E0, borderLeft+12, borderTo
	move.w	(a3)+,d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	d2,-(a7)
	move.l	#L662,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	move.l	d2,d0
	addq.l	#2,d0
	move.l	#_font,a0
	muls.l	$2A(a0),d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.41400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-$1F1F20,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$1C,a7
	addq.l	#1,d2
L746
	cmp.l	#$10,d2
	blt.b	L745
L747
;				for (i = 0;
	moveq	#0,d2
	bra	L754
L748
;					font.WriteTextF(&draw, 0xFFE0E0E0, borderLeft+12*font.Widt
	move.w	(a3)+,d0
	ext.l	d0
	move.l	d0,-(a7)
	move.l	d2,d0
	add.l	#$10,d0
	move.l	d0,-(a7)
	move.l	#L662,-(a7)
	fmove.s	$64(a2),fp0
	fadd.s	#$.40800000,fp0
	move.l	d2,d0
	addq.l	#2,d0
	move.l	#_font,a0
	muls.l	$2A(a0),d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	moveq	#0,d1
	move.l	#_font,a0
	move.l	$26(a0),d0
	and.l	#1,d0
	beq.b	L750
L749
	move.w	$32(a0),d0
	bra.b	L753
L750
	move.l	$26(a0),d0
	and.l	#2,d0
	beq.b	L752
L751
	move.l	$32(a0),a0
	move.w	0(a0,d1.l*2),d0
	bra.b	L753
L752
	moveq	#0,d0
L753
	muls	#$C,d0
	fmove.l	d0,fp1
	fadd.x	fp1,fp0
	fadd.s	#$.41400000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-$1F1F20,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$1C,a7
	addq.l	#1,d2
L754
	move.l	d3,d0
	sub.l	#$10,d0
	cmp.l	d0,d2
	blo	L748
L755
;		if (flags & ENCODING)
	move.l	$5C(a2),d0
	and.l	#$4000000,d0
	beq	L757
L756
;			font.WriteTextF(&draw, 0xFFFFFFFF, borderLeft+4, borderBottom-
	move.l	$28(a2),-(a7)
	fmove.l	$24(a2),fp0
	fmul.s	#$.42C80000,fp0
	fmove.l	$20(a2),fp1
	fdiv.x	fp1,fp0
	fmove.d	fp0,-(a7)
	move.l	#L663,-(a7)
	move.l	#_font,a0
	fmove.l	$2A(a0),fp1
	fmove.s	$70(a2),fp0
	fsub.x	fp1,fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-1,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$20,a7
	bra.b	L758
L757
;			font.WriteTextF(&draw, 0xFF60A0FF, borderLeft+4, borderBottom-
	move.l	$28(a2),-(a7)
	move.l	#L664,-(a7)
	move.l	#_font,a0
	fmove.l	$2A(a0),fp1
	fmove.s	$70(a2),fp0
	fsub.x	fp1,fp0
	fsub.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	fmove.s	$68(a2),fp0
	fadd.s	#$.40800000,fp0
	fmove.l	fp0,d0
	move.w	d0,-(a7)
	move.l	#-$9F5F01,-(a7)
	move.l	#_draw,-(a7)
	move.l	#_font,-(a7)
	jsr	WriteTextF__xTEXFONT__TP08DRAWLISTUjssPce
	add.w	#$18,a7
L758
;	flags &= ~REDRAW_ME;
	and.l	#-$2000001,$5C(a2)
;	return OK;
	moveq	#0,d0
	fmovem.x (a7)+,fp2/fp3/fp4/fp5/fp6/fp7
	movem.l	(a7)+,d2-d7/a2/a3
	unlk	a5
	rts

L662
	dc.b	'%2d:%+6d',0
L664
	dc.b	'Analysis %d ms',0
L663
	dc.b	'Encoding %.2f%%, last %d ms',0
L659
	dc.b	'Frame [%d/%d] Ln: %d, Mn: %d, Mx: %+d, U: %d, S1: %+d, S2: %+d',0
L660
	dc.b	'Frame [%d/%d] Ln: %d, Mn: %d, Mx: %+d, U: %d, S1: %+d, S2: %+d, '
	dc.b	'S3: %+d',0
L661
	dc.b	'Frame [%d/%d] Ln: %d, Mn: %d, Mx: %+d, U: %d, S1: %+d, S2: %+d, '
	dc.b	'S3: %+d, S4: %+d',0
L658
	dc.b	'Frame [%d/%d] Ln: %d, Mn: %d, Mx: %+d, U: %d, S: %+d',0
L657
	dc.b	'Frame [%d/%d] is silent',0
L656
	dc.b	'No data available',0

	SECTION "Write__DRAWFRAME__TR05XSFIO:0",CODE


;sint32 DRAWFRAME::Write(XSFIO& file)
	XDEF	Write__DRAWFRAME__TR05XSFIO
Write__DRAWFRAME__TR05XSFIO
L764	EQU	-4
	link	a5,#L764
	movem.l	d2/a2,-(a7)
	move.l	$C(a5),a0
	move.l	$8(a5),a2
L761
;	sint32 size = XDACENCODE::Write(file);
	move.l	a0,-(a7)
	move.l	a2,-(a7)
	jsr	Write__XDACENCODE__TR05XSFIO
	addq.w	#$8,a7
;	if (size<0)
	tst.l	d0
	bpl.b	L763
L762
;		flags &= ~ENCODING;
	and.l	#-$4000001,$5C(a2)
;		return ERR_FILE_WRITE;
	move.l	#-$3040005,d0
	movem.l	(a7)+,d2/a2
	unlk	a5
	rts
L763
;	flags |= ENCODING;
	or.l	#$4000000,$5C(a2)
;	return size;
	movem.l	(a7)+,d2/a2
	unlk	a5
	rts

	SECTION "ViewDefine__DRAWFRAME__Tssss:0",CODE


;sint32 DRAWFRAME::ViewDefine(S_2CRD)
	XDEF	ViewDefine__DRAWFRAME__Tssss
ViewDefine__DRAWFRAME__Tssss
L766	EQU	0
	link	a5,#L766
	movem.l	d2/d3,-(a7)
	move.w	$C(a5),d0
	move.w	$12(a5),d1
	move.w	$10(a5),d2
	move.w	$E(a5),d3
	move.l	$8(a5),a0
L765
;	borderLeft		= x1;
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,$68(a0)
;	borderTop 		= y1;
	move.w	d3,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,$64(a0)
;	borderRight		= x2;
	move.w	d2,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,$6C(a0)
;	borderBottom	= y2;
	move.w	d1,d0
	ext.l	d0
	fmove.l	d0,fp0
	fmove.s	fp0,$70(a0)
;	flags = REDRAW_ME;
	move.l	#$2000000,$5C(a0)
;	return OK;
	moveq	#0,d0
	movem.l	(a7)+,d2/d3
	unlk	a5
	rts

	SECTION "EncodeXDAC__APP_:0",CODE


;sint32 APP::EncodeXDAC()
	XDEF	EncodeXDAC__APP_
EncodeXDAC__APP_
L823	EQU	-$148
	link	a5,#L823
	movem.l	d2-d4/a2/a3,-(a7)
L773
;	XSFBASIC output(XDAC_IDSTRING, XDAC_VERSION, XDAC_REVISIO
	move.l	#_0virttab__08XSFBASIC__08XSFBASIC,-$AE(a5)
	lea	-$AE(a5),a2
	lea	4(a2),a0
	move.b	#1,(a0)
	clr.b	1(a0)
	clr.b	-(a7)
	move.b	#1,-(a7)
	move.b	#1,-(a7)
	clr.b	-(a7)
	move.l	#L767,-(a7)
	move.l	a0,-(a7)
	jsr	Set__XSFHEAD__TPCcUcUcUcUc
	add.w	#$10,a7
	lea	$10(a2),a0
	clr.l	(a0)
	clr.l	$96(a0)
	clr.l	$AA(a2)
;	output.Create(xDacName);
	pea	$400.w
	move.l	_xDacName__APP,-(a7)
	pea	-$AE(a5)
	jsr	Create__XSFBASIC__TPCcj
	add.w	#$C,a7
;	if (!output.Valid())
	lea	-$AE(a5),a0
	cmp.w	#0,a0
	beq.b	L775
L774
	add.w	#$10,a0
L775
	move.l	$96(a0),d0
	and.l	#$40,d0
	tst.w	d0
	bne.b	L779
L776
	lea	-$AE(a5),a0
	move.l	a0,a2
	move.l	a2,a0
	clr.l	$AA(a0)
	cmp.w	#0,a0
	beq.b	L778
L777
	add.w	#$10,a0
L778
	move.l	a0,-(a7)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
	pea	$10(a2)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
	move.l	#-$3040006,d0
	movem.l	(a7)+,d2-d4/a2/a3
	unlk	a5
	rts
L779
;	sint32 filePos = output.Tell();
	lea	-$AE(a5),a0
	cmp.w	#0,a0
	beq.b	L781
L780
	add.w	#$10,a0
L781
	move.l	a0,-(a7)
	jsr	Tell__xFILEIO__T
	addq.w	#4,a7
	move.l	d0,d4
;	XDAC dummy(1+frame.Max(), frame.Size(), sourceWave.Channels()
	move.l	#_0virttab__04XDAC__04XDAC,-$D2(a5)
	lea	-$EE(a5),a0
	move.l	a0,a3
	move.l	#_sourceWave__APP,a0
	move.w	$C(a0),d0
	cmp.w	#1,d0
	ble.b	L783
L782
	moveq	#1,d0
	bra.b	L784
L783
	moveq	#0,d0
L784
	move.w	d0,-(a7)
	clr.l	-(a7)
	move.l	#_sourceWave__APP,a0
	moveq	#0,d0
	move.w	$E(a0),d0
	move.w	d0,-(a7)
	move.l	#_sourceWave__APP,a0
	move.w	$C(a0),-(a7)
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L787
L785
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L787
L786
	move.w	$2C(a2),d0
	ext.l	d0
	bra.b	L788
L787
	moveq	#0,d0
L788
	move.w	d0,-(a7)
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L791
L789
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L791
L790
	move.l	$20(a2),d0
	bra.b	L792
L791
	moveq	#0,d0
L792
	addq.l	#1,d0
	move.l	d0,-(a7)
	move.l	a3,-(a7)
	jsr	_0ct__XDAC__TjsUsUsPUsUs
	add.w	#$14,a7
;	dummy.Write(output);
	pea	-$AE(a5)
	pea	-$EE(a5)
	jsr	Write__XSFOBJ__TR05XSFIO
	addq.w	#$8,a7
;	sint32 totSize = 0;
	clr.l	-$F2(a5)
;	frame.First();
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	move.l	a2,-(a7)
	jsr	First__XDACENCODE__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;	for(sint32 i=0;
	moveq	#0,d2
	bra	L802
L793
;		sint32 size = frame.Write(output);
	pea	-$AE(a5)
	move.l	#_frame__APP,-(a7)
	jsr	Write__DRAWFRAME__TR05XSFIO
	addq.w	#$8,a7
	move.l	d0,d3
;		if(size<0)
	bpl	L801
L794
;			output.Close();
	lea	-$AE(a5),a0
	clr.l	$AA(a0)
	cmp.w	#0,a0
	beq.b	L796
L795
	add.w	#$10,a0
L796
	move.l	a0,-(a7)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
;			sysBASELIB::MessageBox("Error", "Proceed", "Error 
	move.l	_xDacName__APP,-(a7)
	move.l	#L768,-(a7)
	move.l	#L769,-(a7)
	move.l	#L770,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$10,a7
;			frame.Finished();
	move.l	#_frame__APP,a0
	and.l	#-$4000001,$5C(a0)
	lea	-$EE(a5),a0
	tst.l	$2C(a0)
	beq.b	L798
L797
	move.l	$2C(a0),-(a7)
	jsr	Free__MEM__Pv
	addq.w	#4,a7
L798
	lea	-$AE(a5),a0
	move.l	a0,a2
	move.l	a2,a0
	clr.l	$AA(a0)
	cmp.w	#0,a0
	beq.b	L800
L799
	add.w	#$10,a0
L800
	move.l	a0,-(a7)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
	pea	$10(a2)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
	move.l	#-$3040005,d0
	movem.l	(a7)+,d2-d4/a2/a3
	unlk	a5
	rts
L801
;			viewWindow.Refresh();
	move.l	#_viewWindow__APP,-(a7)
	jsr	Refresh__APPWINDOW__T
	addq.w	#4,a7
;		totSize+=size;
	add.l	d3,-$F2(a5)
;		frame++;
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	clr.l	-(a7)
	move.l	a2,-(a7)
	jsr	op__Cplusplus__XDACENCODE__Ti
	addq.w	#$8,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
	addq.l	#1,d2
L802
	move.l	#_frame__APP,a2
	tst.l	4(a2)
	beq.b	L805
L803
	move.l	4(a2),-(a7)
	jsr	Data__PCM__T
	addq.w	#4,a7
	tst.l	d0
	beq.b	L805
L804
	move.l	$20(a2),d0
	bra.b	L806
L805
	moveq	#0,d0
L806
	cmp.l	d0,d2
	ble	L793
L807
;	totSize *= sizeof(uint16);
	move.l	-$F2(a5),d0
	moveq	#1,d1
	asl.l	d1,d0
	move.l	d0,-$F2(a5)
;	totSize += dummy.RawSize();
	move.l	-$F2(a5),d0
	add.l	-$E2(a5),d0
	move.l	d0,-$F2(a5)
;	output.Seek(filePos+XSFOBJ_FILEOFFSET_RAWSIZE, xIOS::START);
	move.l	d4,d0
	add.l	#$10,d0
	lea	-$AE(a5),a0
	move.l	#-1,-(a7)
	move.l	d0,-(a7)
	cmp.w	#0,a0
	beq.b	L809
L808
	add.w	#$10,a0
L809
	move.l	a0,-(a7)
	jsr	Seek__xFILEIO__Tjj
	add.w	#$C,a7
;	output.Write32(&totSize,1);
	moveq	#1,d1
	lea	-$F2(a5),a1
	lea	-$AE(a5),a0
	move.l	$AA(a0),d0
	and.l	#$400,d0
	beq.b	L813
L810
	move.l	d1,-(a7)
	move.l	a1,-(a7)
	cmp.w	#0,a0
	beq.b	L812
L811
	add.w	#$10,a0
L812
	move.l	a0,-(a7)
	jsr	Write32Swap__xFILEIO__TPvUi
	add.w	#$C,a7
	bra.b	L816
L813
	move.l	d1,d0
	cmp.w	#0,a0
	beq.b	L815
L814
	add.w	#$10,a0
L815
	move.l	d0,-(a7)
	pea	4.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Write__xFILEIO__TPvUiUi
	add.w	#$10,a7
L816
;	output.Close();
	lea	-$AE(a5),a0
	clr.l	$AA(a0)
	cmp.w	#0,a0
	beq.b	L818
L817
	add.w	#$10,a0
L818
	move.l	a0,-(a7)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
;	frame.First();
	move.l	#_frame__APP,a2
	or.l	#$2000000,$5C(a2)
	move.l	a2,-(a7)
	jsr	First__XDACENCODE__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	Analyse__XDACENCODE__T
	addq.w	#4,a7
;	frame.Finished();
	move.l	#_frame__APP,a0
	and.l	#-$4000001,$5C(a0)
;	sysBASELIB::MessageBox("Info", "Proceed", "Wrote xDAC 
	move.l	_xDacName__APP,-(a7)
	move.l	#L771,-(a7)
	move.l	#L769,-(a7)
	move.l	#L772,-(a7)
	jsr	MessageBox__sysBASELIB__PcPcPce
	add.w	#$10,a7
	lea	-$EE(a5),a0
	tst.l	$2C(a0)
	beq.b	L820
L819
	move.l	$2C(a0),-(a7)
	jsr	Free__MEM__Pv
	addq.w	#4,a7
L820
	lea	-$AE(a5),a0
	move.l	a0,a2
	move.l	a2,a0
	clr.l	$AA(a0)
	cmp.w	#0,a0
	beq.b	L822
L821
	add.w	#$10,a0
L822
	move.l	a0,-(a7)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
	pea	$10(a2)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
	moveq	#0,d0
	movem.l	(a7)+,d2-d4/a2/a3
	unlk	a5
	rts

L770
	dc.b	'Error',0
L768
	dc.b	'Error occured writing to',$A,'%s',0
L772
	dc.b	'Info',0
L769
	dc.b	'Proceed',0
L771
	dc.b	'Wrote xDAC file',$A,'%s',0
L767
	dc.b	'xDAC',0

	SECTION "Read8__XSFBASIC__TPvUi:0",CODE

	CNOP	0,2

	XDEF	Read8__XSFBASIC__TPvUi
Read8__XSFBASIC__TPvUi
L827	EQU	0
	link	a5,#L827
	move.l	$10(a5),d0
	move.l	$8(a5),a0
	move.l	$C(a5),a1
L824
	cmp.w	#0,a0
	beq.b	L826
L825
	add.w	#$10,a0
L826
	move.l	d0,-(a7)
	pea	1.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Read__xFILEIO__TPvUiUi
	add.w	#$10,a7
	unlk	a5
	rts

	SECTION "Read16__XSFBASIC__TPvUi:0",CODE

	CNOP	0,2

	XDEF	Read16__XSFBASIC__TPvUi
Read16__XSFBASIC__TPvUi
L836	EQU	0
	link	a5,#L836
	move.l	d2,-(a7)
	move.l	$10(a5),d1
	move.l	$8(a5),a0
	move.l	$C(a5),a1
L828
	move.l	$AA(a0),d0
	and.l	#$400,d0
	beq.b	L832
L829
	move.l	d1,-(a7)
	move.l	a1,-(a7)
	cmp.w	#0,a0
	beq.b	L831
L830
	add.w	#$10,a0
L831
	move.l	a0,-(a7)
	jsr	Read16Swap__xFILEIO__TPvUi
	add.w	#$C,a7
	bra.b	L835
L832
	move.l	d1,d0
	cmp.w	#0,a0
	beq.b	L834
L833
	add.w	#$10,a0
L834
	move.l	d0,-(a7)
	pea	2.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Read__xFILEIO__TPvUiUi
	add.w	#$10,a7
L835
	move.l	(a7)+,d2
	unlk	a5
	rts

	SECTION "Read32__XSFBASIC__TPvUi:0",CODE

	CNOP	0,2

	XDEF	Read32__XSFBASIC__TPvUi
Read32__XSFBASIC__TPvUi
L845	EQU	0
	link	a5,#L845
	move.l	d2,-(a7)
	move.l	$10(a5),d1
	move.l	$8(a5),a0
	move.l	$C(a5),a1
L837
	move.l	$AA(a0),d0
	and.l	#$400,d0
	beq.b	L841
L838
	move.l	d1,-(a7)
	move.l	a1,-(a7)
	cmp.w	#0,a0
	beq.b	L840
L839
	add.w	#$10,a0
L840
	move.l	a0,-(a7)
	jsr	Read32Swap__xFILEIO__TPvUi
	add.w	#$C,a7
	bra.b	L844
L841
	move.l	d1,d0
	cmp.w	#0,a0
	beq.b	L843
L842
	add.w	#$10,a0
L843
	move.l	d0,-(a7)
	pea	4.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Read__xFILEIO__TPvUiUi
	add.w	#$10,a7
L844
	move.l	(a7)+,d2
	unlk	a5
	rts

	SECTION "Read64__XSFBASIC__TPvUi:0",CODE

	CNOP	0,2

	XDEF	Read64__XSFBASIC__TPvUi
Read64__XSFBASIC__TPvUi
L854	EQU	0
	link	a5,#L854
	move.l	d2,-(a7)
	move.l	$10(a5),d1
	move.l	$8(a5),a0
	move.l	$C(a5),a1
L846
	move.l	$AA(a0),d0
	and.l	#$400,d0
	beq.b	L850
L847
	move.l	d1,-(a7)
	move.l	a1,-(a7)
	cmp.w	#0,a0
	beq.b	L849
L848
	add.w	#$10,a0
L849
	move.l	a0,-(a7)
	jsr	Read64Swap__xFILEIO__TPvUi
	add.w	#$C,a7
	bra.b	L853
L850
	move.l	d1,d0
	cmp.w	#0,a0
	beq.b	L852
L851
	add.w	#$10,a0
L852
	move.l	d0,-(a7)
	pea	$8.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Read__xFILEIO__TPvUiUi
	add.w	#$10,a7
L853
	move.l	(a7)+,d2
	unlk	a5
	rts

	SECTION "Write8__XSFBASIC__TPvUi:0",CODE

	CNOP	0,2

	XDEF	Write8__XSFBASIC__TPvUi
Write8__XSFBASIC__TPvUi
L858	EQU	0
	link	a5,#L858
	move.l	$10(a5),d0
	move.l	$8(a5),a0
	move.l	$C(a5),a1
L855
	cmp.w	#0,a0
	beq.b	L857
L856
	add.w	#$10,a0
L857
	move.l	d0,-(a7)
	pea	1.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Write__xFILEIO__TPvUiUi
	add.w	#$10,a7
	unlk	a5
	rts

	SECTION "Write16__XSFBASIC__TPvUi:0",CODE

	CNOP	0,2

	XDEF	Write16__XSFBASIC__TPvUi
Write16__XSFBASIC__TPvUi
L867	EQU	0
	link	a5,#L867
	move.l	d2,-(a7)
	move.l	$10(a5),d1
	move.l	$8(a5),a0
	move.l	$C(a5),a1
L859
	move.l	$AA(a0),d0
	and.l	#$400,d0
	beq.b	L863
L860
	move.l	d1,-(a7)
	move.l	a1,-(a7)
	cmp.w	#0,a0
	beq.b	L862
L861
	add.w	#$10,a0
L862
	move.l	a0,-(a7)
	jsr	Write16Swap__xFILEIO__TPvUi
	add.w	#$C,a7
	bra.b	L866
L863
	move.l	d1,d0
	cmp.w	#0,a0
	beq.b	L865
L864
	add.w	#$10,a0
L865
	move.l	d0,-(a7)
	pea	2.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Write__xFILEIO__TPvUiUi
	add.w	#$10,a7
L866
	move.l	(a7)+,d2
	unlk	a5
	rts

	SECTION "Write32__XSFBASIC__TPvUi:0",CODE

	CNOP	0,2

	XDEF	Write32__XSFBASIC__TPvUi
Write32__XSFBASIC__TPvUi
L876	EQU	0
	link	a5,#L876
	move.l	d2,-(a7)
	move.l	$10(a5),d1
	move.l	$8(a5),a0
	move.l	$C(a5),a1
L868
	move.l	$AA(a0),d0
	and.l	#$400,d0
	beq.b	L872
L869
	move.l	d1,-(a7)
	move.l	a1,-(a7)
	cmp.w	#0,a0
	beq.b	L871
L870
	add.w	#$10,a0
L871
	move.l	a0,-(a7)
	jsr	Write32Swap__xFILEIO__TPvUi
	add.w	#$C,a7
	bra.b	L875
L872
	move.l	d1,d0
	cmp.w	#0,a0
	beq.b	L874
L873
	add.w	#$10,a0
L874
	move.l	d0,-(a7)
	pea	4.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Write__xFILEIO__TPvUiUi
	add.w	#$10,a7
L875
	move.l	(a7)+,d2
	unlk	a5
	rts

	SECTION "Write64__XSFBASIC__TPvUi:0",CODE

	CNOP	0,2

	XDEF	Write64__XSFBASIC__TPvUi
Write64__XSFBASIC__TPvUi
L885	EQU	0
	link	a5,#L885
	move.l	d2,-(a7)
	move.l	$10(a5),d1
	move.l	$8(a5),a0
	move.l	$C(a5),a1
L877
	move.l	$AA(a0),d0
	and.l	#$400,d0
	beq.b	L881
L878
	move.l	d1,-(a7)
	move.l	a1,-(a7)
	cmp.w	#0,a0
	beq.b	L880
L879
	add.w	#$10,a0
L880
	move.l	a0,-(a7)
	jsr	Write64Swap__xFILEIO__TPvUi
	add.w	#$C,a7
	bra.b	L884
L881
	move.l	d1,d0
	cmp.w	#0,a0
	beq.b	L883
L882
	add.w	#$10,a0
L883
	move.l	d0,-(a7)
	pea	$8.w
	move.l	a1,-(a7)
	move.l	a0,-(a7)
	jsr	Write__xFILEIO__TPvUiUi
	add.w	#$10,a7
L884
	move.l	(a7)+,d2
	unlk	a5
	rts

	SECTION "Valid__XSFBASIC__T:0",CODE

	CNOP	0,2

	XDEF	Valid__XSFBASIC__T
Valid__XSFBASIC__T
L889	EQU	0
	link	a5,#L889
	move.l	$8(a5),a0
L886
	cmp.w	#0,a0
	beq.b	L888
L887
	add.w	#$10,a0
L888
	move.l	$96(a0),d0
	and.l	#$40,d0
	unlk	a5
	rts

	SECTION "EndOfFile__XSFBASIC__T:0",CODE

	CNOP	0,2

	XDEF	EndOfFile__XSFBASIC__T
EndOfFile__XSFBASIC__T
L893	EQU	0
	link	a5,#L893
	move.l	$8(a5),a0
L890
	cmp.w	#0,a0
	beq.b	L892
L891
	add.w	#$10,a0
L892
	move.l	$96(a0),d0
	and.l	#$10,d0
	unlk	a5
	rts

	SECTION "StartOfFile__XSFBASIC__T:0",CODE

	CNOP	0,2

	XDEF	StartOfFile__XSFBASIC__T
StartOfFile__XSFBASIC__T
L897	EQU	0
	link	a5,#L897
	move.l	$8(a5),a0
L894
	cmp.w	#0,a0
	beq.b	L896
L895
	add.w	#$10,a0
L896
	move.l	$96(a0),d0
	and.l	#$20,d0
	unlk	a5
	rts

	SECTION "Seek__XSFBASIC__Tjj:0",CODE

	CNOP	0,2

	XDEF	Seek__XSFBASIC__Tjj
Seek__XSFBASIC__Tjj
L901	EQU	0
	link	a5,#L901
	movem.l	$C(a5),d0/d1
	move.l	$8(a5),a0
L898
	move.l	d1,-(a7)
	move.l	d0,-(a7)
	cmp.w	#0,a0
	beq.b	L900
L899
	add.w	#$10,a0
L900
	move.l	a0,-(a7)
	jsr	Seek__xFILEIO__Tjj
	add.w	#$C,a7
	unlk	a5
	rts

	SECTION "Tell__XSFBASIC__T:0",CODE

	CNOP	0,2

	XDEF	Tell__XSFBASIC__T
Tell__XSFBASIC__T
L905	EQU	0
	link	a5,#L905
	move.l	$8(a5),a0
L902
	cmp.w	#0,a0
	beq.b	L904
L903
	add.w	#$10,a0
L904
	move.l	a0,-(a7)
	jsr	Tell__xFILEIO__T
	addq.w	#4,a7
	unlk	a5
	rts

	SECTION "Size__XSFBASIC__T:0",CODE

	CNOP	0,2

	XDEF	Size__XSFBASIC__T
Size__XSFBASIC__T
L912	EQU	0
	link	a5,#L912
	move.l	$8(a5),a0
L906
	cmp.w	#0,a0
	beq.b	L908
L907
	add.w	#$10,a0
L908
	move.l	$96(a0),d0
	and.l	#5,d0
	beq.b	L910
L909
	move.l	4(a0),d0
	bra.b	L911
L910
	move.l	#-$3040000,d0
L911
	unlk	a5
	rts

	SECTION "DataFormat__XSFBASIC__T:0",CODE

	CNOP	0,2

	XDEF	DataFormat__XSFBASIC__T
DataFormat__XSFBASIC__T
L916	EQU	0
	link	a5,#L916
	move.l	$8(a5),a0
L913
	cmp.w	#0,a0
	beq.b	L915
L914
	addq.w	#4,a0
L915
	move.b	$A(a0),d0
	unlk	a5
	rts

	SECTION "FileOptions__XSFBASIC__T:0",CODE

	CNOP	0,2

	XDEF	FileOptions__XSFBASIC__T
FileOptions__XSFBASIC__T
L920	EQU	0
	link	a5,#L920
	move.l	$8(a5),a0
L917
	cmp.w	#0,a0
	beq.b	L919
L918
	addq.w	#4,a0
L919
	move.b	$B(a0),d0
	unlk	a5
	rts

	SECTION "_0dt__XSFBASIC__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__XSFBASIC__T
_0dt__XSFBASIC__T
L924	EQU	-$8
	link	a5,#L924
	move.l	a2,-(a7)
	move.l	$8(a5),a2
L921
	move.l	a2,a0
	clr.l	$AA(a0)
	cmp.w	#0,a0
	beq.b	L923
L922
	add.w	#$10,a0
L923
	move.l	a0,-(a7)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
	pea	$10(a2)
	jsr	Close__xFILEIO__T
	addq.w	#4,a7
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "ReadyForWrite__XSFOBJ__T:0",CODE

	CNOP	0,2

	XDEF	ReadyForWrite__XSFOBJ__T
ReadyForWrite__XSFOBJ__T
L926	EQU	0
	link	a5,#L926
L925
	moveq	#0,d0
	unlk	a5
	rts

	SECTION "ReadyForRead__XSFOBJ__T:0",CODE

	CNOP	0,2

	XDEF	ReadyForRead__XSFOBJ__T
ReadyForRead__XSFOBJ__T
L928	EQU	0
	link	a5,#L928
L927
	moveq	#0,d0
	unlk	a5
	rts

	SECTION "Width__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Width__AREA__T
Width__AREA__T
L930	EQU	0
	link	a5,#L930
	move.l	$8(a5),a0
L929
	move.w	(a0),d0
	ext.l	d0
	unlk	a5
	rts

	SECTION "Height__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Height__AREA__T
Height__AREA__T
L932	EQU	0
	link	a5,#L932
	move.l	$8(a5),a0
L931
	move.w	2(a0),d0
	ext.l	d0
	unlk	a5
	rts

	SECTION "Depth__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Depth__AREA__T
Depth__AREA__T
L934	EQU	0
	link	a5,#L934
	move.l	$8(a5),a0
L933
	move.w	4(a0),d0
	ext.l	d0
	unlk	a5
	rts

	SECTION "Format__AREA__T:0",CODE

	CNOP	0,2

	XDEF	Format__AREA__T
Format__AREA__T
L936	EQU	0
	link	a5,#L936
	move.l	$8(a5),a0
L935
	move.w	6(a0),d0
	ext.l	d0
	unlk	a5
	rts

	SECTION "InputQueued__xDISPLAYIO__T:0",CODE

	CNOP	0,2

	XDEF	InputQueued__xDISPLAYIO__T
InputQueued__xDISPLAYIO__T
L938	EQU	0
	link	a5,#L938
	move.l	$8(a5),a0
L937
	move.l	a0,-(a7)
	jsr	HandleEvent__xDISPLAYIO__T
	addq.w	#4,a7
	unlk	a5
	rts

	SECTION "DrawSurface__xDBWIN__T:0",CODE

	CNOP	0,2

	XDEF	DrawSurface__xDBWIN__T
DrawSurface__xDBWIN__T
L940	EQU	0
	link	a5,#L940
	move.l	$8(a5),a0
L939
	moveq	#$5A,d0
	add.l	a0,d0
	unlk	a5
	rts

	SECTION "ViewSurface__xDBWIN__T:0",CODE

	CNOP	0,2

	XDEF	ViewSurface__xDBWIN__T
ViewSurface__xDBWIN__T
L942	EQU	0
	link	a5,#L942
	move.l	$8(a5),a0
L941
	moveq	#$7A,d0
	add.l	a0,d0
	unlk	a5
	rts

	SECTION "Bold__xFONT__T:0",CODE

	CNOP	0,2

	XDEF	Bold__xFONT__T
Bold__xFONT__T
L944	EQU	0
	link	a5,#L944
L943
	unlk	a5
	rts

	SECTION "Italic__xFONT__T:0",CODE

	CNOP	0,2

	XDEF	Italic__xFONT__T
Italic__xFONT__T
L946	EQU	0
	link	a5,#L946
L945
	unlk	a5
	rts

	SECTION "Normal__xFONT__T:0",CODE

	CNOP	0,2

	XDEF	Normal__xFONT__T
Normal__xFONT__T
L948	EQU	0
	link	a5,#L948
L947
	unlk	a5
	rts

	SECTION "_0dt__xTEXFONT__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__xTEXFONT__T
_0dt__xTEXFONT__T
L952	EQU	-$10
	link	a5,#L952
	move.l	a2,-(a7)
	move.l	$8(a5),a2
L949
	move.l	a2,-(a7)
	jsr	Delete__xTEXFONT__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	Delete__xTEXSURF__T
	addq.w	#4,a7
	btst	#0,$10(a2)
L950
L951
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "_0dt__XDAC__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__XDAC__T
_0dt__XDAC__T
L956	EQU	-$8
	link	a5,#L956
	move.l	$8(a5),a1
L953
	tst.l	$2C(a1)
	beq.b	L955
L954
	move.l	$2C(a1),-(a7)
	jsr	Free__MEM__Pv
	addq.w	#4,a7
L955
	unlk	a5
	rts

	SECTION "_0dt__DRAWWAVE__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__DRAWWAVE__T
_0dt__DRAWWAVE__T
L958	EQU	0
	link	a5,#L958
	move.l	a2,-(a7)
	move.l	$8(a5),a2
L957
	pea	$14(a2)
	jsr	UnLink__xCHAINABLE__T
	addq.w	#4,a7
	pea	(a2)
	jsr	Free__PCM__T
	addq.w	#4,a7
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "_0dt__DRAWFRAME__T:0",CODE

	CNOP	0,2

	XDEF	_0dt__DRAWFRAME__T
_0dt__DRAWFRAME__T
L960	EQU	0
	link	a5,#L960
	move.l	a2,-(a7)
	move.l	$8(a5),a2
L959
	pea	$48(a2)
	jsr	UnLink__xCHAINABLE__T
	addq.w	#4,a7
	move.l	a2,-(a7)
	jsr	_0dt__XDACENCODE__T
	addq.w	#4,a7
	move.l	(a7)+,a2
	unlk	a5
	rts

	SECTION "_0virttab__08XSFBASIC__08XSFBASIC:0",CODE

	XDEF	_0virttab__08XSFBASIC__08XSFBASIC
_0virttab__08XSFBASIC__08XSFBASIC
	dc.l	$AE,0
	dc.l	_0dt__XSFBASIC__T,0
	dc.l	FileOptions__XSFBASIC__T,0
	dc.l	DataFormat__XSFBASIC__T,0
	dc.l	Size__XSFBASIC__T,0
	dc.l	Tell__XSFBASIC__T,0
	dc.l	Seek__XSFBASIC__Tjj,0
	dc.l	StartOfFile__XSFBASIC__T,0
	dc.l	EndOfFile__XSFBASIC__T,0
	dc.l	Valid__XSFBASIC__T,0
	dc.l	Write64__XSFBASIC__TPvUi,0
	dc.l	Write32__XSFBASIC__TPvUi,0
	dc.l	Write16__XSFBASIC__TPvUi,0
	dc.l	Write8__XSFBASIC__TPvUi,0
	dc.l	Read64__XSFBASIC__TPvUi,0
	dc.l	Read32__XSFBASIC__TPvUi,0
	dc.l	Read16__XSFBASIC__TPvUi,0
	dc.l	Read8__XSFBASIC__TPvUi,0
	dc.l	$AE,0
	dc.l	_0dt__XSFBASIC__T,0
	dc.l	FileOptions__XSFBASIC__T,0
	dc.l	DataFormat__XSFBASIC__T,0
	dc.l	Size__XSFBASIC__T,0
	dc.l	Tell__XSFBASIC__T,0
	dc.l	Seek__XSFBASIC__Tjj,0
	dc.l	StartOfFile__XSFBASIC__T,0
	dc.l	EndOfFile__XSFBASIC__T,0
	dc.l	Valid__XSFBASIC__T,0
	dc.l	Write64__XSFBASIC__TPvUi,0
	dc.l	Write32__XSFBASIC__TPvUi,0
	dc.l	Write16__XSFBASIC__TPvUi,0
	dc.l	Write8__XSFBASIC__TPvUi,0
	dc.l	Read64__XSFBASIC__TPvUi,0
	dc.l	Read32__XSFBASIC__TPvUi,0
	dc.l	Read16__XSFBASIC__TPvUi,0
	dc.l	Read8__XSFBASIC__TPvUi,0

	SECTION "_0virttab__08xSURFACE__08xSURFACE:0",CODE

	XDEF	_0virttab__08xSURFACE__08xSURFACE
_0virttab__08xSURFACE__08xSURFACE
	dc.l	$20,0
	dc.l	_0dt__xSURFACE__T,0
	dc.l	Format__AREA__T,0
	dc.l	Depth__AREA__T,0
	dc.l	Height__AREA__T,0
	dc.l	Width__AREA__T,0
	dc.l	$20,0
	dc.l	_0dt__xSURFACE__T,0

	SECTION "_0virttab__08xTEXFONT__08xTEXFONT:0",CODE

	XDEF	_0virttab__08xTEXFONT__08xTEXFONT
_0virttab__08xTEXFONT__08xTEXFONT
	dc.l	Normal__xFONT__T,0
	dc.l	Italic__xFONT__T,0
	dc.l	Bold__xFONT__T,0
	dc.l	$56,-$22
	dc.l	_0dt__xTEXFONT__T,-$22
	dc.l	$56,0
	dc.l	_0dt__xTEXFONT__T,0

	SECTION "_0virttab__06XSFOBJ__08xTEXFONT:0",CODE

	XDEF	_0virttab__06XSFOBJ__08xTEXFONT
_0virttab__06XSFOBJ__08xTEXFONT
	dc.l	$56,-$36
	dc.l	_0dt__xTEXFONT__T,-$36
	dc.l	ReadBody__xTEXSURF__TR05XSFIO,-$36
	dc.l	WriteBody__xTEXSURF__TR05XSFIO,-$36
	dc.l	ReadyForRead__xTEXSURF__T,-$36
	dc.l	ReadyForWrite__xTEXSURF__T,-$36

	SECTION "_0virttab__08xTEXSURF__08xTEXFONT:0",CODE

	XDEF	_0virttab__08xTEXSURF__08xTEXFONT
_0virttab__08xTEXSURF__08xTEXFONT
	dc.l	$56,-4
	dc.l	_0dt__xTEXFONT__T,-4
	dc.l	Format__AREA__T,0
	dc.l	Depth__AREA__T,0
	dc.l	Height__AREA__T,0
	dc.l	Width__AREA__T,0
	dc.l	$56,0
	dc.l	_0dt__xTEXFONT__T,0
	dc.l	ReadBody__xTEXSURF__TR05XSFIO,0
	dc.l	WriteBody__xTEXSURF__TR05XSFIO,0
	dc.l	ReadyForRead__xTEXSURF__T,0
	dc.l	ReadyForWrite__xTEXSURF__T,0

	SECTION "_0virttab__04XDAC__04XDAC:0",CODE

	XDEF	_0virttab__04XDAC__04XDAC
_0virttab__04XDAC__04XDAC
	dc.l	$3C,0
	dc.l	_0dt__XDAC__T,0
	dc.l	ReadBody__XDAC__TR05XSFIO,0
	dc.l	WriteBody__XDAC__TR05XSFIO,0
	dc.l	ReadyForRead__XSFOBJ__T,0
	dc.l	ReadyForWrite__XSFOBJ__T,0
	dc.l	$3C,0
	dc.l	_0dt__XDAC__T,0
	dc.l	ReadBody__XDAC__TR05XSFIO,0
	dc.l	WriteBody__XDAC__TR05XSFIO,0

	SECTION "_0virttab__09APPWINDOW__09APPWINDOW:0",CODE

	XDEF	_0virttab__09APPWINDOW__09APPWINDOW
_0virttab__09APPWINDOW__09APPWINDOW
	dc.l	$C8,-$9E
	dc.l	_0dt__APPWINDOW__T,-$9E
	dc.l	KeyEvent__APPWINDOW__Tjsj,-$9E
	dc.l	$C8,-$9E
	dc.l	_0dt__APPWINDOW__T,-$9E
	dc.l	InputQueued__xDISPLAYIO__T,-4
	dc.l	Idle__xDISPLAYIO__T,-4
	dc.l	ExitEvent__APPWINDOW__T,-$9E
	dc.l	MouseEvent__APPWINDOW__Tjjj,-$9E
	dc.l	ApplyInputModification__xDISPLAYIO__T,-4
	dc.l	$C8,-$9A
	dc.l	_0dt__APPWINDOW__T,-$9A
	dc.l	MoveEvent__APPWINDOW__T,-$9A
	dc.l	ResizeEvent__APPWINDOW__T,-$9A
	dc.l	InputQueued__xDISPLAYIO__T,0
	dc.l	Idle__xDISPLAYIO__T,0
	dc.l	ApplyInputModification__xDISPLAYIO__T,0
	dc.l	$C8,0
	dc.l	_0dt__APPWINDOW__T,0
	dc.l	Refresh__APPWINDOW__T,0
	dc.l	Close__APPWINDOW__T,0
	dc.l	Open__APPWINDOW__T,0
	dc.l	MoveEvent__APPWINDOW__T,0
	dc.l	ResizeEvent__APPWINDOW__T,0
	dc.l	ExitEvent__APPWINDOW__T,0
	dc.l	KeyEvent__APPWINDOW__Tjsj,0
	dc.l	MouseEvent__APPWINDOW__Tjjj,0

	SECTION "_0virttab__04AREA__09APPWINDOW:0",CODE

	XDEF	_0virttab__04AREA__09APPWINDOW
_0virttab__04AREA__09APPWINDOW
	dc.l	$C8,-$BC
	dc.l	_0dt__APPWINDOW__T,-$BC
	dc.l	Format__AREA__T,0
	dc.l	Depth__AREA__T,0
	dc.l	Height__AREA__T,0
	dc.l	Width__AREA__T,0

	SECTION "_0virttab__06xDBWIN__09APPWINDOW:0",CODE

	XDEF	_0virttab__06xDBWIN__09APPWINDOW
_0virttab__06xDBWIN__09APPWINDOW
	dc.l	$C8,0
	dc.l	_0dt__APPWINDOW__T,0
	dc.l	ViewSurface__xDBWIN__T,0
	dc.l	DrawSurface__xDBWIN__T,0
	dc.l	Refresh__APPWINDOW__T,0
	dc.l	Close__APPWINDOW__T,0
	dc.l	Open__APPWINDOW__T,0
	dc.l	$C8,0
	dc.l	_0dt__APPWINDOW__T,0
	dc.l	ViewSurface__xDBWIN__T,0
	dc.l	DrawSurface__xDBWIN__T,0
	dc.l	Refresh__APPWINDOW__T,0
	dc.l	Close__APPWINDOW__T,0
	dc.l	Open__APPWINDOW__T,0

	SECTION "_0virttab__08DRAWWAVE__08DRAWWAVE:0",CODE

	XDEF	_0virttab__08DRAWWAVE__08DRAWWAVE
_0virttab__08DRAWWAVE__08DRAWWAVE
	dc.l	$48,-$14
	dc.l	_0dt__DRAWWAVE__T,-$14
	dc.l	ViewRender__DRAWWAVE__T,-$14
	dc.l	ViewClear__DRAWWAVE__T,-$14
	dc.l	ViewDefine__DRAWWAVE__Tssss,-$14
	dc.l	$48,0
	dc.l	_0dt__DRAWWAVE__T,0
	dc.l	ViewRender__DRAWWAVE__T,0
	dc.l	ViewClear__DRAWWAVE__T,0
	dc.l	ViewDefine__DRAWWAVE__Tssss,0

	SECTION "_0virttab__04AIFF__08DRAWWAVE:0",CODE

	XDEF	_0virttab__04AIFF__08DRAWWAVE
_0virttab__04AIFF__08DRAWWAVE
	dc.l	$48,0
	dc.l	_0dt__DRAWWAVE__T,0
	dc.l	Save__AIFF__TPCc,0
	dc.l	Load__AIFF__TPCc,0
	dc.l	$48,0
	dc.l	_0dt__DRAWWAVE__T,0
	dc.l	Save__AIFF__TPCc,0
	dc.l	Load__AIFF__TPCc,0

	SECTION "_0virttab__09DRAWFRAME__09DRAWFRAME:0",CODE

	XDEF	_0virttab__09DRAWFRAME__09DRAWFRAME
_0virttab__09DRAWFRAME__09DRAWFRAME
	dc.l	$74,-$48
	dc.l	_0dt__DRAWFRAME__T,-$48
	dc.l	ViewRender__DRAWFRAME__T,-$48
	dc.l	ViewClear__DRAWFRAME__T,-$48
	dc.l	ViewDefine__DRAWFRAME__Tssss,-$48
	dc.l	$74,0
	dc.l	_0dt__DRAWFRAME__T,0
	dc.l	ViewRender__DRAWFRAME__T,0
	dc.l	ViewClear__DRAWFRAME__T,0
	dc.l	ViewDefine__DRAWFRAME__Tssss,0

	END
